/** Built with 2DKit, http://2dkit.com */
'use strict';(function(Ki){function l(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function ch(a){return a instanceof Array?function(){return y.iter(a)}:"function"==typeof a.iterator?I(a,a.iterator):a.iterator}function I(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Li++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var g={},k=function(){return ca.__string_rec(this,"")},Z=function(){};g.ComponentHelper=Z;Z.__name__=["ComponentHelper"];Z.getTaskManagerFromParents=function(a){var b=a._internal_getFromParents(18);null==b&&(a=a._internal_getFromParents(3,N).owner,b=new Rd,a.add(b));return b};Z.getGameSelectionFromParents=function(a){a=a._internal_getFromParents(12);if(null==a){var b=p.root;a=new Sd;b.add(a);p.root.yieldForStart()}return a};var Fa=
function(){};g.DateTools=Fa;Fa.__name__=["DateTools"];Fa.__format_get=function(a,b){switch(b){case "%":return"%";case "A":return Fa.DAY_NAMES[a.getDay()];case "B":return Fa.MONTH_NAMES[a.getMonth()];case "C":return P.lpad(A.string(a.getFullYear()/100|0),"0",2);case "D":return Fa.__format(a,"%m/%d/%y");case "F":return Fa.__format(a,"%Y-%m-%d");case "I":case "l":var c=a.getHours()%12;return P.lpad(A.string(0==c?12:c),"I"==b?"0":" ",2);case "M":return P.lpad(A.string(a.getMinutes()),"0",2);case "R":return Fa.__format(a,
"%H:%M");case "S":return P.lpad(A.string(a.getSeconds()),"0",2);case "T":return Fa.__format(a,"%H:%M:%S");case "Y":return A.string(a.getFullYear());case "a":return Fa.DAY_SHORT_NAMES[a.getDay()];case "b":case "h":return Fa.MONTH_SHORT_NAMES[a.getMonth()];case "d":return P.lpad(A.string(a.getDate()),"0",2);case "e":return A.string(a.getDate());case "H":case "k":return P.lpad(A.string(a.getHours()),"H"==b?"0":" ",2);case "m":return P.lpad(A.string(a.getMonth()+1),"0",2);case "n":return"\n";case "p":return 11<
a.getHours()?"PM":"AM";case "r":return Fa.__format(a,"%I:%M:%S %p");case "s":return A.string(a.getTime()/1E3|0);case "t":return"\t";case "u":return c=a.getDay(),0==c?"7":null==c?"null":""+c;case "w":return A.string(a.getDay());case "y":return P.lpad(A.string(a.getFullYear()%100),"0",2);default:throw new v("Date.format %"+b+"- not implemented yet.");}};Fa.__format=function(a,b){for(var c="",d=0;;){var e=b.indexOf("%",d);if(0>e)break;var f=e-d,c=c+(null==f?y.substr(b,d,null):y.substr(b,d,f)),c=c+A.string(Fa.__format_get(a,
y.substr(b,e+1,1))),d=e+2}e=b.length-d;return c+=null==e?y.substr(b,d,null):y.substr(b,d,e)};Fa.format=function(a,b){return Fa.__format(a,b)};var Ga=function(a,b){this.r=RegExp(a,b.split("u").join(""))};g.EReg=Ga;Ga.__name__=["EReg"];Ga.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new v("EReg::matched");},matchedPos:function(){if(null==
this.r.m)throw new v("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){null==c&&(c=-1);if(this.r.global){this.r.lastIndex=b;var d=this.r;b=0>c?a:y.substr(a,0,b+c);this.r.m=d.exec(b);if(b=null!=this.r.m)this.r.s=a;return b}if(d=this.match(0>c?y.substr(a,b,null):y.substr(a,b,c)))this.r.s=a,this.r.m.index+=b;return d},map:function(a,b){for(var c=0,d="";!(c>=a.length);){if(!this.matchSub(a,c)){d+=A.string(y.substr(a,c,null));break}var e=this.matchedPos(),
d=d+A.string(y.substr(a,c,e.pos-c)),d=d+A.string(b(this));0==e.len?(d+=A.string(y.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len;if(!this.r.global)break}!this.r.global&&0<c&&c<a.length&&(d+=A.string(y.substr(a,c,null)));return d},__class__:Ga};var y=function(){};g.HxOverrides=y;y.__name__=["HxOverrides"];y.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],
a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new v("Invalid date format : "+a);}};y.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};y.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};y.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};y.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<
this.arr.length},next:function(){return this.arr[this.cur++]}}};var Ub=function(){};g.Lambda=Ub;Ub.__name__=["Lambda"];Ub.array=function(a){var b=[];for(a=ch(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Ub.exists=function(a,b){for(var c=ch(a)();c.hasNext();){var d=c.next();if(b(d))return!0}return!1};Ub.filter=function(a,b){for(var c=new pc,d=ch(a)();d.hasNext();){var e=d.next();b(e)&&c.add(e)}return c};Ub.count=function(a,b){var c=0;if(null==b)for(var d=ch(a)();d.hasNext();)d.next(),++c;
else for(d=ch(a)();d.hasNext();){var e=d.next();b(e)&&++c}return c};var pc=function(){this.length=0};g.List=pc;pc.__name__=["List"];pc.prototype={add:function(a){a=new Td(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},push:function(a){this.h=a=new Td(a,this.h);null==this.q&&(this.q=a);this.length++},iterator:function(){return new dh(this.h)},__class__:pc};var Td=function(a,b){this.item=a;this.next=b};g["_List.ListNode"]=Td;Td.__name__=["_List","ListNode"];Td.prototype={__class__:Td};
var dh=function(a){this.head=a};g["_List.ListIterator"]=dh;dh.__name__=["_List","ListIterator"];dh.prototype={hasNext:function(){return null!=this.head},next:function(){var a=this.head.item;this.head=this.head.next;return a},__class__:dh};var Ra=function(){};g["kit.util.Disposable"]=Ra;Ra.__name__=["kit","util","Disposable"];Ra.prototype={__class__:Ra};var B=function(){this.$C=null;this.$B=0;this.owner=this.next=null};g["kit.Component"]=B;B.__name__=["kit","Component"];B.__interfaces__=[Ra];B.prototype=
{onAdded:function(){},onRemoved:function(){null!=this.$C&&this.$C.$ZG()},onStart:function(){},onStop:function(){},onUpdate:function(a){},onMessage:function(a,b){if(null!=this.$C){var c=this.$C.$XG;if(null!=c&&(c=null!=q[a]?c.getReserved(a):c.h[a],null!=c&&null!=c.$CH))return c.emit(b),!0}return!1},connectMessage:function(a,b){null==this.$C&&(this.$C=new Ud);null==this.$C.$XG&&(this.$C.$XG=new Q);var c=this.$C.$XG,c=null!=q[a]?c.getReserved(a):c.h[a];if(null==c){var d=this.$C.$XG,e=c=new fa;null!=
q[a]?d.setReserved(a,e):d.h[a]=e}return c.connect(b)},connect0:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},connect1:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},connect2:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},registerDisposable:function(a){null==this.$C&&(this.$C=new Ud);null==this.$C.$YG&&(this.$C.$YG=[]);this.$C.$YG.push(a)},dispose:function(){null!=this.owner?this.owner.remove(this):
null!=this.$C&&this.$C.$ZG()},get_entitySlot:function(){return-1},$A:function(){},__class__:B,__properties__:{get_entitySlot:"get_entitySlot"}};var wb=function(){B.call(this);window.console.log(this.getGameVersionInfo());S.get_supported()&&"suspended"==S.$KR.state&&window.addEventListener("click",wb.resumeAudio);this.setupRemoteDebugging()};g["s2.core.BaseBootstrap"]=wb;wb.__name__=["s2","core","BaseBootstrap"];wb.resumeAudio=function(a){S.$KR.resume().then(function(a){});window.removeEventListener("click",
wb.resumeAudio)};wb.__super__=B;wb.prototype=l(B.prototype,{get_entitySlot:function(){return 25},onReleaseSuccess:function(){this.owner.add(new Vd("preloader"))},onConfigurationLoadComplete:function(){this.onReleaseSuccess()},getBasePath:function(){return null},getBootstrapObject:function(){return null},getGameVersionInfo:function(){return qc.getBuildLog()},onStart:function(){var a=this.setupAssetsBasePath(new Ec),b=new Sa;this.owner.add(a);this.owner.add(b);b.set("isMobile",R.get_mobile());this.owner.add(new Wd(!0));
this.startConfigLoad();this.onStartEnd()},startConfigLoad:function(){var a=this;ga.init(this.getBootstrapObject()).then(function(b){a.onConfigurationLoadComplete()})},onStartEnd:function(){},setupRemoteDebugging:function(){},setupAssetsBasePath:function(a){var b=this.getBasePath();null!=b&&""!=b&&(-1<b.toLowerCase().indexOf("http:")||-1<b.toLowerCase().indexOf("https:")?(b.charAt(b.length-1),a.remoteBase=b+"assets"):a.localBase=b+"/assets");return a},__class__:wb});var rc=function(){var a=window.jsembed;
null!=a&&window.navigator.isCocoonJS&&(a.disableAutoScaling(),window.document.documentElement.style.height="100%",window.document.body.style.height="100%",a=function(){var a=window.document.getElementById("embedtarget");a.style.width="100%";a.style.height="100%";a.style.left="0";a.style.top="0";p.$IH.$iG.$UQ(null)},a(),window.setTimeout(a,500));wb.call(this)};g["nickclient.NickelodeonMain"]=rc;rc.__name__=["nickclient","NickelodeonMain"];rc.__super__=wb;rc.prototype=l(wb.prototype,{onReleaseSuccess:function(){var a=
ga.get_options(),a=null!=q.piracy?a.getReserved("piracy"):a.h.piracy;0>a.indexOf(":")&&(a=Ta.decode(a),a=a.getString(0,a.length));ki.checkPiracy(a);wb.prototype.onReleaseSuccess.call(this)},onConfigurationLoadComplete:function(){var a=ga.get_options();null!=q.piracy&&a.getReserved("piracy");wb.prototype.onConfigurationLoadComplete.call(this)},getBootstrapObject:function(){return new Fc},getBasePath:function(){return Vb.get_base()},onStart:function(){p.root.add(new Xd);wb.prototype.onStart.call(this)},
__class__:rc});var Yd=function(){rc.call(this)};g.Main=Yd;Yd.__name__=["Main"];Yd.__super__=rc;Yd.prototype=l(rc.prototype,{onConfigurationLoadComplete:function(){var a;a=ga.get_options();(null!=q.international?a.existsReserved("international"):a.h.hasOwnProperty("international"))?(a=ga.get_options(),a=null!=q.international?a.getReserved("international"):a.h.international):a=!1;this.owner.$IG[10].set("isInternational",a);rc.prototype.onConfigurationLoadComplete.call(this);null==C._browser&&(C._browser=
C.parse(A.string(window.location)));C._browser.getQueryBool("wipedata",!1)&&(p.$IH.getLocalStorage().remove("muted"),this.owner.$IG[17].reset())},startConfigLoad:function(){var a=this;ga.init(this.getBootstrapObject()).then(function(b){a.onConfigurationLoadComplete()})},__class__:Yd});Math.__name__=["Math"];var X=function(){};g.Reflect=X;X.__name__=["Reflect"];X.field=function(a,b){try{return a[b]}catch(c){return null}};X.getProperty=function(a,b){var c;if(null==a)return null;var d;d=a.__properties__?
c=a.__properties__["get_"+b]:!1;return d?a[c]():a[b]};X.setProperty=function(a,b,c){var d,e;e=a.__properties__?d=a.__properties__["set_"+b]:!1;if(e)a[d](c);else a[b]=c};X.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};X.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};X.compare=function(a,b){return a==b?0:a>b?1:-1};X.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,
b))return!1;delete a[b];return!0};var A=function(){};g.Std=A;A.__name__=["Std"];A.string=function(a){return ca.__string_rec(a,"")};A.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=y.cca(a,1)&&88!=y.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};var Wb=function(){this.b=""};g.StringBuf=Wb;Wb.__name__=["StringBuf"];Wb.prototype={__class__:Wb};var P=function(){};g.StringTools=P;P.__name__=["StringTools"];P.htmlEscape=function(a,b){a=a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
return b?a.split('"').join("&quot;").split("'").join("&#039;"):a};P.startsWith=function(a,b){return a.length>=b.length?y.substr(a,0,b.length)==b:!1};P.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?y.substr(a,d-c,c)==b:!1};P.isSpace=function(a,b){var c=y.cca(a,b);return 8<c&&14>c?!0:32==c};P.ltrim=function(a){for(var b=a.length,c=0;c<b&&P.isSpace(a,c);)++c;return 0<c?y.substr(a,c,b-c):a};P.rtrim=function(a){for(var b=a.length,c=0;c<b&&P.isSpace(a,b-c-1);)++c;return 0<c?y.substr(a,0,
b-c):a};P.trim=function(a){return P.ltrim(P.rtrim(a))};P.lpad=function(a,b,c){if(0>=b.length)return a;for(;a.length<c;)a=b+a;return a};P.replace=function(a,b,c){return a.split(b).join(c)};var Y=g.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};Y.TNull=["TNull",0];Y.TNull.toString=k;Y.TNull.__enum__=Y;Y.TInt=["TInt",1];Y.TInt.toString=k;Y.TInt.__enum__=Y;Y.TFloat=["TFloat",2];Y.TFloat.toString=k;Y.TFloat.__enum__=Y;Y.TBool=
["TBool",3];Y.TBool.toString=k;Y.TBool.__enum__=Y;Y.TObject=["TObject",4];Y.TObject.toString=k;Y.TObject.__enum__=Y;Y.TFunction=["TFunction",5];Y.TFunction.toString=k;Y.TFunction.__enum__=Y;Y.TClass=function(a){a=["TClass",6,a];a.__enum__=Y;a.toString=k;return a};Y.TEnum=function(a){a=["TEnum",7,a];a.__enum__=Y;a.toString=k;return a};Y.TUnknown=["TUnknown",8];Y.TUnknown.toString=k;Y.TUnknown.__enum__=Y;var O=function(){};g.Type=O;O.__name__=["Type"];O.getSuperClass=function(a){return a.__super__};
O.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};O.getEnumName=function(a){return a.__ename__.join(".")};O.resolveClass=function(a){a=g[a];return null!=a&&a.__name__?a:null};O.resolveEnum=function(a){a=g[a];return null!=a&&a.__ename__?a:null};O.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],
b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);case 9:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8]);case 10:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9]);case 11:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10]);case 12:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11]);case 13:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12]);case 14:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13]);default:throw new v("Too many arguments");}};O.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};O.createEnum=function(a,b,c){var d=X.field(a,b);if(null==d)throw new v("No such constructor "+b);if(X.isFunction(d)){if(null==c)throw new v("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=
c.length)throw new v("Constructor "+b+" does not need parameters");return d};O["typeof"]=function(a){switch(typeof a){case "boolean":return Y.TBool;case "function":return a.__name__||a.__ename__?Y.TObject:Y.TFunction;case "number":return Math.ceil(a)==a%2147483648?Y.TInt:Y.TFloat;case "object":if(null==a)return Y.TNull;var b=a.__enum__;if(null!=b)return Y.TEnum(b);a=ca.getClass(a);return null!=a?Y.TClass(a):Y.TObject;case "string":return Y.TClass(String);case "undefined":return Y.TNull;default:return Y.TUnknown}};
O.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var c=2,d=a.length;c<d;){var e=c++;if(!O.enumEq(a[e],b[e]))return!1}var f=a.__enum__;if(f!=b.__enum__||null==f)return!1}catch(m){return!1}return!0};var t=function(a){this.nodeType=a;this.children=[];this.attributeMap=new Q};g.Xml=t;t.__name__=["Xml"];t.parse=function(a){return ec.parse(a)};t.createElement=function(a){var b=new t(t.Element);if(b.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+b.nodeType);
b.nodeName=a;return b};t.createPCData=function(a){var b=new t(t.PCData);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createCData=function(a){var b=new t(t.CData);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createComment=function(a){var b=new t(t.Comment);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new v("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};t.createDocType=function(a){var b=new t(t.DocType);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createProcessingInstruction=function(a){var b=new t(t.ProcessingInstruction);if(b.nodeType==t.Document||b.nodeType==t.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};t.createDocument=function(){return new t(t.Document)};t.prototype={get:function(a){if(this.nodeType!=
t.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=q[a]?b.getReserved(a):b.h[a]},set:function(a,b){if(this.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);var c=this.attributeMap;null!=q[a]?c.setReserved(a,b):c.h[a]=b},exists:function(a){if(this.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);var b=this.attributeMap;return null!=q[a]?b.existsReserved(a):
b.h.hasOwnProperty(a)},attributes:function(){if(this.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},elements:function(){if(this.nodeType!=t.Document&&this.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=[],b=0,c=this.children;b<c.length;){var d=c[b];++b;d.nodeType==t.Element&&a.push(d)}return y.iter(a)},elementsNamed:function(a){if(this.nodeType!=t.Document&&
this.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,d=this.children;c<d.length;){var e=d[c];++c;var f;if(e.nodeType==t.Element){if(e.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+e.nodeType);f=e.nodeName==a}else f=!1;f&&b.push(e)}return y.iter(b)},firstElement:function(){if(this.nodeType!=t.Document&&this.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+
this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==t.Element)return c}return null},addChild:function(a){if(this.nodeType!=t.Document&&this.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=t.Document&&this.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+
this.nodeType);return y.remove(this.children,a)?(a.parent=null,!0):!1},__class__:t};var fc=function(a,b,c,d){null==d&&(d=!1);a.addEventListener(b,c,d);this._target=a;this._type=b;this._listener=this._rawListener=c;this._capture=d};g["builder.EventListener"]=fc;fc.__name__=["builder","EventListener"];fc.__interfaces__=[Ra];fc.prototype={dispose:function(){null!=this._target&&(this._target.removeEventListener(this._type,this._listener,this._capture),this._target=this._listener=this._rawListener=null)},
once:function(){var a=this;if(null!=this._target&&!this._once){this._once=!0;var b=this._listener;this._listener=function(b){a._rawListener(b);a.dispose()};this._target.removeEventListener(this._type,b,this._capture);this._target.addEventListener(this._type,this._listener,this._capture)}return this},__class__:fc};var n=g.$CG={__ename__:["$CG"],__constructs__:"CString CBool CFloat CInt CArray CEnum CClass".split(" ")};n.CString=["CString",0];n.CString.toString=k;n.CString.__enum__=n;n.CBool=["CBool",
1];n.CBool.toString=k;n.CBool.__enum__=n;n.CFloat=["CFloat",2];n.CFloat.toString=k;n.CFloat.__enum__=n;n.CInt=["CInt",3];n.CInt.toString=k;n.CInt.__enum__=n;n.CArray=function(a){a=["CArray",4,a];a.__enum__=n;a.toString=k;return a};n.CEnum=function(a){a=["CEnum",5,a];a.__enum__=n;a.toString=k;return a};n.CClass=function(a){a=["CClass",6,a];a.__enum__=n;a.toString=k;return a};var L=function(){this.onStarted=this.onUpdated=this.onStopped=null;this.spawned=!0;B.call(this)};g["kit.creator.CreatorObject"]=
L;L.__name__=["kit","creator","CreatorObject"];L.__super__=B;L.prototype=l(B.prototype,{get_entitySlot:function(){return 1},onStart:function(){this.$B|=2},onUpdate:function(a){0!=(this.$B&2)&&(this.$B&=-3,null!=this.onStarted&&(this.owner.yieldForStart(),this.owner.emitMessageToParents(this.onStarted,this.owner)));null!=this.onUpdated&&this.owner.emitMessageToParents(this.onUpdated,this.owner)},onStop:function(){this.$B&=-3;null!=this.onStopped&&this.owner.emitMessageToParents(this.onStopped,this.owner)},
__class__:L});var fb=g["kit.creator.ui.DockX"]={__ename__:["kit","creator","ui","DockX"],__constructs__:["None","Left","Right"]};fb.None=["None",0];fb.None.toString=k;fb.None.__enum__=fb;fb.Left=["Left",1];fb.Left.toString=k;fb.Left.__enum__=fb;fb.Right=["Right",2];fb.Right.toString=k;fb.Right.__enum__=fb;var gb=g["kit.creator.ui.DockY"]={__ename__:["kit","creator","ui","DockY"],__constructs__:["None","Top","Bottom"]};gb.None=["None",0];gb.None.toString=k;gb.None.__enum__=gb;gb.Top=["Top",1];gb.Top.toString=
k;gb.Top.__enum__=gb;gb.Bottom=["Bottom",2];gb.Bottom.toString=k;gb.Bottom.__enum__=gb;var Ba=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};g["kit.math.Rectangle"]=Ba;Ba.__name__=["kit","math","Rectangle"];Ba.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<
b||b<this.height)return!1;return!0},intersects:function(a,b){var c=this.x,d=a.x,c=c>d?c:d,d=this.get_right(),e=a.get_right(),d=d<e?d:e;if(c>d)return!1;var e=this.y,f=a.y,e=e>f?e:f,f=this.get_bottom(),m=a.get_bottom(),f=f<m?f:m;if(e>f)return!1;null!=b&&b.set(c,e,d-c,f-e);return!0},clone:function(a){null==a&&(a=new Ba);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width?this.height==a.height:!1},get_right:function(){return this.x+
this.width},get_bottom:function(){return this.y+this.height},get_empty:function(){return 0>=this.width?!0:0>=this.height},__class__:Ba,__properties__:{get_empty:"get_empty",get_bottom:"get_bottom",get_right:"get_right"}};var M=function(){this.cameraEnabled=lb.Yes;this.dockY=gb.None;this.dockX=fb.None;this.onPointerDown=this.onPointerIn=this.onPointerOut=this.onPointerUp=this.onClick=null;this.pointerEnabled=!0;L.call(this)};g["kit.creator.ui.Widget"]=M;M.__name__=["kit","creator","ui","Widget"];M.__super__=
L;M.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);var b=this.owner.$IG[3];if(null!=b){b.set_pointerEnabled(this.pointerEnabled);null!=this.onPointerDown&&this.$sE(b.get_pointerDown(),this.onPointerDown);null!=this.onPointerIn&&this.$sE(b.get_pointerIn(),this.onPointerIn);null!=this.onPointerOut&&this.$sE(b.get_pointerOut(),this.onPointerOut);null!=this.onPointerUp&&this.$sE(b.get_pointerUp(),this.onPointerUp);null!=this.onClick&&b.get_pointerDown().connect(function(b){p.$IH.$gG.up.connect(function(b){a.owner.emitMessageToParents(a.onClick,
a.owner)}).once()});var c=this.owner._internal_getFromParents(3,N),d=function(){var c=la.$MM("width"),d=la.$MM("height"),m=N.$_H(M.$tE);switch(a.dockX[1]){case 1:b.x.set__(a.info.x+m.x);break;case 2:b.x.set__(a.info.x+m.width-c+m.x)}switch(a.dockY[1]){case 1:b.y.set__(a.info.y+m.y);break;case 2:b.y.set__(a.info.y+m.height-d+m.y)}};if(this.dockX!=fb.None||this.dockY!=gb.None)d(),this.connect0(p.$IH.$iG.resize,d);this.cameraEnabled!=lb.Yes&&c.owner.addChild(this.owner,this.cameraEnabled==lb.Foreground)}},
$sE:function(a,b){var c=this;a.connect(function(a){null!=c.owner&&c.owner.emitMessageToParents(b,c.owner)})},__class__:M});var Ua=g["builder.FileLoadTypes"]={__ename__:["builder","FileLoadTypes"],__constructs__:["Text","Json","Image","Any"]};Ua.Text=["Text",0];Ua.Text.toString=k;Ua.Text.__enum__=Ua;Ua.Json=["Json",1];Ua.Json.toString=k;Ua.Json.__enum__=Ua;Ua.Image=["Image",2];Ua.Image.toString=k;Ua.Image.__enum__=Ua;Ua.Any=["Any",3];Ua.Any.toString=k;Ua.Any.__enum__=Ua;var Xb=function(){this.fileLoaded=
new gc;this.onFileLoad=null;M.call(this)};g["builder.FileLoadButton"]=Xb;Xb.__name__=["builder","FileLoadButton"];Xb.__super__=M;Xb.prototype=l(M.prototype,{onStart:function(){M.prototype.onStart.call(this);null==this.allowedFileType&&(this.allowedFileType=Ua.Any);this._uid=Xb.$uE++;var a=window.document.createElement("div"),b=window.document.createElement("label");b.setAttribute("for","file-input_"+this._uid);this._area=window.document.createElement("div");this._area.style.cursor="pointer";var c=
window.document.createElement("input");c.id="file-input_"+this._uid;c.type="file";c.style.display="none";b.appendChild(this._area);a.appendChild(b);a.appendChild(c);this._button=a;window.document.body.appendChild(this._button);this._button.style.position="fixed";this.updatePosition();this.registerDisposable(new fc(c,"change",I(this,this.onFileSelect),!1));this.registerDisposable(new fc(this._area,"drop",I(this,this.onFileSelect),!1));this.registerDisposable(new fc(this._area,"dragover",I(this,this.onFileDragOver),
!1));this.connect0(p.$IH.$iG.resize,I(this,this.updatePosition))},onFileDragOver:function(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"},onFileSelect:function(a){var b=this,c=null;null!=a.dataTransfer?(a.stopPropagation(),a.preventDefault(),c=a.dataTransfer.files):c=a.target.files;var d=null;switch(this.allowedFileType[1]){case 0:d=new Ga("text.*","i");break;case 1:d=new Ga("application/json","i");break;case 2:d=new Ga("image.*","i");break;default:d=new Ga(".*","i")}for(var e=
0,f=c.length;e<f;){var m=e++,m=[c.item(m)];if(d.match(m[0].type)){var w=new FileReader;this.registerDisposable((new fc(w,"load",function(a){return function(c){b.onFileLoaded(a[0],c)}}(m),!1)).once());w.readAsDataURL(m[0]);a.target.value=null}}},onFileLoaded:function(a,b){null!=this.onFileLoad&&this.owner.emitMessageToParents(this.onFileLoad,this.owner);this.fileLoaded.emit(a,b)},onStop:function(){M.prototype.onStop.call(this);this._button.parentElement.removeChild(this._button)},updatePosition:function(){var a=
this.owner.$IG[3],b=a.getViewMatrix(),c=window.devicePixelRatio,d=Math.round(b.m02/c),e=Math.round(b.m12/c),f=this.info.height/a.scaleY.$1G,a=Math.round(this.info.width/a.scaleX.$1G*Math.sqrt(b.m00*b.m00+b.m01*b.m01)/c),b=Math.round(f*Math.sqrt(b.m10*b.m10+b.m11*b.m11)/c);this._area.style.width=""+a+"px";this._area.style.height=""+b+"px";this._button.style.left=""+d+"px";this._button.style.top=""+e+"px"},__class__:Xb});var hc=function(a,b){this.states=new Q;this.properties=new Q;this.tile=this.points=
null;this.layer=a;this.name=ma.$6H(b.name);this.type=ma.$6H(b.type);this.x=b.x;this.y=b.y;this.anchorX=ma.$7H(b.anchorX,0);this.anchorY=ma.$7H(b.anchorY,0);this.rotation=b.rotation;this.width=b.width;this.height=b.height;this.visible=b.visible;this.tint=null!=b.tintcolor?A.parseInt(P.replace(b.tintcolor,"#","0x")):16777215;b.ellipse?this.shape=pa.Ellipse:null!=b.polygon?(this.shape=pa.Polygon,this.points=b.polygon.map(function(a){return new La(a.x,a.y)})):null!=b.polyline?(this.shape=pa.Polyline,
this.points=b.polyline.map(function(a){return new La(a.x,a.y)})):null!=b.gid?(this.shape=pa.Tile,this.tile=a.scene.tiles.h[b.gid]):this.shape=pa.Rectangle;var c=null!=this.tile?-this.height:0;if(0==this.rotation)this.x+=this.anchorX,this.y+=this.anchorY+c;else{var d=new hb;d.compose(this.x,this.y,1,1,3.141592653589793*this.rotation/180);d.translate(this.anchorX,this.anchorY+c);this.x=d.m02;this.y=d.m12}null!=this.tile&&(this.anchorX*=this.tile.get_width()/this.width,this.anchorY*=this.tile.get_height()/
this.height);c=ma.$5H(b.properties);for(d=c.keys();d.hasNext();){var e=d.next(),f=null!=q[e]?c.getReserved(e):c.h[e];if(P.startsWith(e,"@State:"))var m=this.states,e=y.substr(e,7,null);else m=this.properties;null!=q[e]?m.setReserved(e,f):m.h[e]=f}};g["kit.creator.ObjectInfo"]=hc;hc.__name__=["kit","creator","ObjectInfo"];hc.prototype={createSprite:function(){var a;null!=this.tile?(a=this.tile.texture,a=null!=a&&2>Ub.count(this.states)?new za(a):new ab(this)):a=new u;this.transformSprite(a);return a},
transformSprite:function(a){null!=this.tile?(a.setXY(this.x+this.tile.tileset.offsetX,this.y+this.tile.tileset.offsetY),a.setScaleXY(this.width/this.tile.get_width(),this.height/this.tile.get_height())):a.setXY(this.x,this.y);a.setAnchor(this.anchorX,this.anchorY);a.rotation.set__(this.rotation);a.set_visible(this.visible);a.setTint(this.tint)},__class__:hc};var s=function(){this.target=this.script=null};g["kit.creator.CreatorAction"]=s;s.__name__=["kit","creator","CreatorAction"];s.runSequence=function(a,
b){if(0>=a.length)return(new U).success(null);for(var c=null,d=0;d<a.length;){var e=[a[d]];++d;c=null!=c?c.then(function(a){return function(c){return a[0].$yE(b)}}(e)):e[0].$yE(b)}return c};s.runParallel=function(a,b){if(0>=a.length)return(new U).success(null);for(var c=[],d=0;d<a.length;){var e=a[d];++d;c.push(e.$yE(b))}return U.all(c)};s.prototype={$wE:function(a){},$xE:function(a){return null},$yE:function(a){if(null==this.script||null==this.script.owner)return(new U).failure();if(null!=this.target){var b=
this.script.owner._internal_getFromParents(3,N);a=null;for(var c=b.objects.keys();c.hasNext();){var d=c.next();if(this.target.name==d.name){a=b.objects.h[d.__id__];break}}if(null==a)return(new U).failure()}this.$wE(a);a=this.$xE(a);null==a&&(a=(new U).success(null));return a},__class__:s};var eh=function(){s.call(this)};g["builder.actions.ClearCanvas"]=eh;eh.__name__=["builder","actions","ClearCanvas"];eh.__super__=s;eh.prototype=l(s.prototype,{$wE:function(a){a=a.$IG[1];(a instanceof xb?a:null).clear()},
__class__:eh});var D=g["cdb.ColumnType"]={__ename__:["cdb","ColumnType"],__constructs__:"TId TString TBool TInt TFloat TEnum TRef TImage TList TCustom TFlags TColor TLayer TFile TTilePos TTileLayer TDynamic".split(" ")};D.TId=["TId",0];D.TId.toString=k;D.TId.__enum__=D;D.TString=["TString",1];D.TString.toString=k;D.TString.__enum__=D;D.TBool=["TBool",2];D.TBool.toString=k;D.TBool.__enum__=D;D.TInt=["TInt",3];D.TInt.toString=k;D.TInt.__enum__=D;D.TFloat=["TFloat",4];D.TFloat.toString=k;D.TFloat.__enum__=
D;D.TEnum=function(a){a=["TEnum",5,a];a.__enum__=D;a.toString=k;return a};D.TRef=function(a){a=["TRef",6,a];a.__enum__=D;a.toString=k;return a};D.TImage=["TImage",7];D.TImage.toString=k;D.TImage.__enum__=D;D.TList=["TList",8];D.TList.toString=k;D.TList.__enum__=D;D.TCustom=function(a){a=["TCustom",9,a];a.__enum__=D;a.toString=k;return a};D.TFlags=function(a){a=["TFlags",10,a];a.__enum__=D;a.toString=k;return a};D.TColor=["TColor",11];D.TColor.toString=k;D.TColor.__enum__=D;D.TLayer=function(a){a=
["TLayer",12,a];a.__enum__=D;a.toString=k;return a};D.TFile=["TFile",13];D.TFile.toString=k;D.TFile.__enum__=D;D.TTilePos=["TTilePos",14];D.TTilePos.toString=k;D.TTilePos.__enum__=D;D.TTileLayer=["TTileLayer",15];D.TTileLayer.toString=k;D.TTileLayer.__enum__=D;D.TDynamic=["TDynamic",16];D.TDynamic.toString=k;D.TDynamic.__enum__=D;var Wc=function(){};g["cdb.Parser"]=Wc;Wc.__name__=["cdb","Parser"];Wc.getType=function(a){var b=A.parseInt(a);if(null==b)throw new v("Unknown type "+a);switch(b){case 0:return D.TId;
case 1:return D.TString;case 2:return D.TBool;case 3:return D.TInt;case 4:return D.TFloat;case 5:return D.TEnum(y.substr(a,a.indexOf(":")+1,null).split(","));case 6:return D.TRef(y.substr(a,a.indexOf(":")+1,null));case 7:return D.TImage;case 8:return D.TList;case 9:return D.TCustom(y.substr(a,a.indexOf(":")+1,null));case 10:return D.TFlags(y.substr(a,a.indexOf(":")+1,null).split(","));case 11:return D.TColor;case 12:return D.TLayer(y.substr(a,a.indexOf(":")+1,null));case 13:return D.TFile;case 14:return D.TTilePos;
case 15:return D.TTileLayer;case 16:return D.TDynamic;default:throw new v("Unknown type "+a);}};Wc.parse=function(a){if(null==a)throw new v("CDB content is null");a=JSON.parse(a);for(var b=0,c=a.sheets;b<c.length;){var d=c[b];++b;for(var e=0,d=d.columns;e<d.length;){var f=d[e];++e;f.type=Wc.getType(f.typeStr);f.typeStr=null}}b=0;for(c=a.customTypes;b<c.length;)for(d=c[b],++b,e=0,d=d.cases;e<d.length;){var m=d[e];++e;f=0;for(m=m.args;f<m.length;){var w=m[f];++f;w.type=Wc.getType(w.typeStr);w.typeStr=
null}}return a};var sc=function(a,b){this.name=b;for(var c=0,d=a.sheets;c<d.length;){var e=d[c];++c;if(e.name==b){this.all=e.lines;this.sheet=e;break}}if(null==this.sheet)throw new v("'"+b+"' not found in CDB data");};g["cdb.Index"]=sc;sc.__name__=["cdb","Index"];sc.prototype={__class__:sc};var Gc=function(a,b){sc.call(this,a,b);this.byId=new Q;this.byIndex=[];for(var c=0,d=this.sheet.columns;c<d.length;){var e=d[c];++c;if(0==e.type[1]){c=e.name;d=0;for(e=this.sheet.lines;d<e.length;){var f=e[d];
++d;var m=X.field(f,c);null!=m&&""!=m&&(this.byId.set(m,f),this.byIndex.push(f))}break}}};g["cdb.IndexId"]=Gc;Gc.__name__=["cdb","IndexId"];Gc.__super__=sc;Gc.prototype=l(sc.prototype,{resolve:function(a,b){if(null==a)return null;var c=this.byId,c=null!=q[a]?c.getReserved(a):c.h[a];if(null!=c||b)return c;throw new v("Missing "+this.name+"."+a);},__class__:Gc});var Zd={};g["db._Data.Lines_Impl_"]=Zd;Zd.__name__=["db","_Data","Lines_Impl_"];Zd.__properties__={get_animation:"get_animation"};Zd.get_animation=
function(a){return ya.characterState.resolve(a.animation)};var fh={};g["db._Data.Puzzles_Impl_"]=fh;fh.__name__=["db","_Data","Puzzles_Impl_"];fh.__properties__={get_correctVO:"get_correctVO"};fh.get_correctVO=function(a){return null==a.correctVO?null:ya.lines.resolve(a.correctVO)};var gh={};g["db._Data.Puzzles_guessVO_Impl_"]=gh;gh.__name__=["db","_Data","Puzzles_guessVO_Impl_"];gh.__properties__={get_id:"get_id"};gh.get_id=function(a){return null==a.id?null:ya.lines.resolve(a.id)};var hh={};g["db._Data.Distractors_Impl_"]=
hh;hh.__name__=["db","_Data","Distractors_Impl_"];hh.__properties__={get_vo:"get_vo"};hh.get_vo=function(a){return null==a.vo?null:ya.lines.resolve(a.vo)};var ya=function(){};g["db.Data"]=ya;ya.__name__=["db","Data"];ya.load=function(a){a=Wc.parse(a);ya.lines=new Gc(a,"lines");ya.puzzles=new sc(a,"puzzles");ya.distractors=new Gc(a,"distractors");ya.difficultySettings=new sc(a,"difficultySettings");ya.characterState=new Gc(a,"characterState")};var Ca=g["db.InputMode"]={__ename__:["db","InputMode"],
__constructs__:["Standard","Trackpad","Mobile"]};Ca.Standard=["Standard",0];Ca.Standard.toString=k;Ca.Standard.__enum__=Ca;Ca.Trackpad=["Trackpad",1];Ca.Trackpad.toString=k;Ca.Trackpad.__enum__=Ca;Ca.Mobile=["Mobile",2];Ca.Mobile.toString=k;Ca.Mobile.__enum__=Ca;var T=function(){this.guessVOGeneric=[];this.guessVOSpecific=[];this.input=Ca.Standard};g["db.PuzzleData"]=T;T.__name__=["db","PuzzleData"];T.fromDB=function(a,b,c,d,e){var f=new T,m=0;switch(c[1]){case 0:m=0;break;case 1:m=1}var w=0;switch(d[1]){case 0:w=
0;break;case 1:w=1;break;case 2:w=2}var h=ya.puzzles.all.slice().filter(function(c){return c.level==a&&c.difficulty==b?c.type==m:!1});A.string(c);A.string(c);var g=ya.difficultySettings.all.slice().filter(function(a){return a.difficulty==b&&a.mode==m?a.input==w:!1});A.string(d);A.string(c);A.string(d);A.string(c);for(var h=h[0],k=0,n=h.guessVO;k<n.length;){var l=n[k];++k;f.guessVOSpecific.push(gh.get_id(l))}f.correctVO=fh.get_correctVO(h);f.level=a;f.difficulty=b;f.guessVOGeneric=T.getRandomGenerics(e-
f.guessVOSpecific.length,f.guessVOSpecific.concat([f.correctVO]));f.maxTime=30;f.type=c;f.input=d;f.difficultySettings=g[0];var p=T.stripVOPaths(f.guessVOGeneric.concat(f.guessVOSpecific).concat([f.correctVO]).map(function(a){return a.vo}));c=li.filter(Ma.fromAssets("vo"),function(a){return-1<p.indexOf(a.name)});f.voManifest=c;return f};T.loadDatabase=function(a){T._dbInitialized||(T._dbInitialized=!0,ya.load(a))};T.getRandomGenerics=function(a,b){var c=[],d=ya.lines.all.slice().filter(function(a){return a.omitAsGenericGuess?
!1:0>b.indexOf(a)});mi.shuffle(d);for(var e=d.length,e=a<e?a:e;0<e--;)c.push(d[e]);return c};T.stripVOPaths=function(a){var b=/\.\.\/\w+\//gm;return a.map(function(a){return Ib.withoutExtension(a.replace(b,""))})};T.storageKey=function(a,b,c){return""+T.storageDifficultyKey(a,b)+"-"+c};T.storageDifficultyKey=function(a,b){return""+A.string(a)+"-"+b};T.getNextInMode=function(a,b,c){var d=ya.puzzles.all.slice(),e=T.getPuzzles(d,a,T.toPuzzleType(c)),e=T.getHighestLevel(e);return e.level>b?{level:b+1,
difficulty:a,type:c}:e.level==b&&0<T.getPuzzles(d,a+1,T.toPuzzleType(c)).length?{level:0,difficulty:a+1,type:c}:null};T.unlockLevel=function(a,b,c){a=T.storageKey(c,a,b)+"-u";b=p.root.$IG[17];return b.getBool(a,!1)?!1:(b.setBool(a,!0),!0)};T.unlockDifficulty=function(a,b){var c=T.storageDifficultyKey(b,a)+"-u",d=p.root.$IG[17];return d.getBool(c,!1)?!1:(d.setBool(c,!0),!0)};T.isUnlocked=function(a,b,c){var d=T.storageDifficultyKey(c,a)+"-u";a=T.storageKey(c,a,b)+"-u";b=p.root.$IG[17];null==C._browser&&
(C._browser=C.parse(A.string(window.location)));return C._browser.getQueryBool("unlocked",!1)||b.getBool(d,!1)?!0:b.getBool(a,!1)};T.getHighestLevel=function(a){for(var b=a[0],c=1,d=a.length;c<d;){var e=c++,e=a[e];b.level<e.level&&(b=e)}return b};T.getPuzzles=function(a,b,c){return a.filter(function(a){return a.difficulty==b?a.type==c:!1})};T.toPuzzleType=function(a){switch(a[1]){case 0:return 0;case 1:return 1}};T.fromPuzzleType=function(a){switch(a){case 0:return ta.Sketch;case 1:return ta.Memory}};
T.prototype={makeSession:function(){var a=new ih(this.level,this.difficulty,this.type,this.input);a.totalTime=0;a.timeRemain=a.totalTime;return a},getStorageKey:function(){return T.storageKey(this.type,this.difficulty,this.level)},__class__:T};var ta=g["db.PuzzleType"]={__ename__:["db","PuzzleType"],__constructs__:["Sketch","Memory"]};ta.Sketch=["Sketch",0];ta.Sketch.toString=k;ta.Sketch.__enum__=ta;ta.Memory=["Memory",1];ta.Memory.toString=k;ta.Memory.__enum__=ta;var ih=function(a,b,c,d){this.ended=
!1;this.bubblesUsed=this.hintsUsed=this.sessionNum=0;this.inputMode=Ca.Standard;this.win=!1;this.badRatio=this.goodPercent=0;this.level=a;this.difficulty=b;this.type=c;this.inputMode=d};g["db.Session"]=ih;ih.__name__=["db","Session"];ih.prototype={end:function(){this.ended=!0},__class__:ih};var $d=function(){this._lineSegs=[];this._loadedFilename="puzzle";L.call(this)};g["drawing.BuilderGameEngine"]=$d;$d.__name__=["drawing","BuilderGameEngine"];$d.__super__=L;$d.prototype=l(L.prototype,{onStart:function(){var a=
this;L.prototype.onStart.call(this);var b=this.owner._internal_getFromParents(3,N),c=b.getObjectByType(xb),c=new Xc(c,null);this.owner.add(c);b=b.getObject("load_img").$IG[1];b=b instanceof Xb?b:null;this.connect1(c.segmentDrawn,I(this,this.onSegmentDrawn));this.connect0(c.segmentStart,I(this,this.onSegmentStart));this.connect0(c.segmentEnd,I(this,this.onSegmentEnd));this.connect1(p.$IH.getKeyboard().up,I(this,this.onKeyUp));this.connect2(b.fileLoaded,I(this,this.onFileLoaded));this.connectMessage("SaveJson",
function(b){a.saveJson()});null==C._browser&&(C._browser=C.parse(A.string(window.location)));b=C._browser.getQueryInt("gridSize",20);this.gridData=new Yc(c.canvasWidth,c.canvasHeight,b);this.gridData.setDebugGrid(c.getDebugTexture().get_graphics());null==C._browser&&(C._browser=C.parse(A.string(window.location)));b=C._browser.getQueryBool("grid",!1);c.showDebugGrid(b)},processSegs:function(a,b){for(var c=0,d=a.length;c<d;)for(var e=c++,e=a[e],f=2,m=e[0],w=e[1];f<e.length;)b(m,w,e[f],e[f+1]),m=e[f],
w=e[f+1],f+=2},onFileLoaded:function(a,b){var c=this;this._loadedFilename=P.replace(a.name,".png","");this._loadedFilename=P.replace(this._loadedFilename,".jpg","");this._currentSeg=[];this._lineSegs=[];var d=window.document.createElement("img");d.src=b.target.result;var e=this.owner._internal_getFromParents(3,N).getObjectByType(xb),f=function(){var a=p.$IH.$hG.createTextureFromImage(d),b=e.$IG[3].getLocalMatrix(),b=(new za(a)).setXY(b.m02,b.m12).disablePointer();b.registerDisposable(a);c.owner.add(b)};
0!=d.width||0!=d.height?f():this.registerDisposable((new fc(d,"load",function(a){f()})).once())},onPuzzleLoaded:function(a,b){for(var c=P.replace(ca.__cast(b.target.result,String),"data:application/json;base64,",""),c=JSON.parse(Ta.decode(c).toString()),d=p.$IH.$hG.createTexture(Math.ceil(this.canvas.info.width),Math.ceil(this.canvas.info.height)),e=0,f=c.length;e<f;){var m=e++;d.get_graphics().strokeLines(13369344,c[m],4)}this.canvas.owner.addChild((new F).add((new za(d)).disablePointer()))},onSegmentStart:function(){this._currentSeg=
[]},onSegmentDrawn:function(a){var b=!1;if(0<this._lineSegs.length){var c=this._lineSegs[this._lineSegs.length-1],d=c[c.length-1];c[c.length-2]==(a[0]|0)&&d==(a[1]|0)&&(this._currentSeg=this._lineSegs.pop(),a.splice(0,2),b=!0)}c=this._currentSeg;for(d=0;d<a.length;){if(b||2>c.length||c[c.length-2]!=a[d]&&c[c.length-1]!=a[d+1])c.push(a[d]|0),c.push(a[d+1]|0);d+=2}this.gridData.visitAlongLine(a[0],a[1],a[2],a[3])},onSegmentEnd:function(){2<this._currentSeg.length&&this._lineSegs.push(this._currentSeg)},
onKeyUp:function(a){switch(a.key[1]){case 18:this.saveJson()}},saveJson:function(){ae.saveString(this.dumpJson(),""+this._loadedFilename+".json")},dumpJson:function(){return JSON.stringify(this._lineSegs)},dumpBytes:function(){for(var a=new jh,b=0,c=this._lineSegs.length;b<c;){var d=b++,d=this._lineSegs[d];a.addInt32(d.length);for(var e=0,f=d.length;e<f;){var m=e++;a.addInt32(d[m])}}return a.getBytes()},dumpCompressed:function(){this.dumpBytes();return Ta.encode(null)},dumpUncompressed:function(){return Ta.encode(this.dumpBytes())},
__class__:$d});var Yc=function(a,b,c){this.goodVisited=this.badVisited=0;this.reset(a,b,c)};g["drawing.DrawingGrid"]=Yc;Yc.__name__=["drawing","DrawingGrid"];Yc.prototype={reset:function(a,b,c){this.width=a;this.height=b;this.gridSize=c;this.reinitializeGrid();return this},resetVisited:function(){for(var a=0,b=this._grid.length;a<b;)for(var c=a++,c=this._grid[c],d=0,e=c.length;d<e;){var f=d++;0!=(c[f]&1)&&(c[f]&=-2)}this.goodVisited=this.badVisited=0},setDebugGrid:function(a){return this},reinitializeGrid:function(){this.columns=
Math.ceil(this.width/this.gridSize);this.rows=Math.ceil(this.height/this.gridSize);this.badCells=this.totalCells=this.columns*this.rows;this._grid=Array(this.columns);for(var a=0,b=this.columns;a<b;){for(var c=a++,d=Array(this.rows),e=0,f=this.rows;e<f;){var m=e++;d[m]=4}this._grid[c]=d}},drawGoodLine:function(a,b,c,d){var e=this;return this.mutateAlongLine(a/this.gridSize|0,b/this.gridSize|0,c/this.gridSize|0,d/this.gridSize|0,function(a,b,c){return 0==(a&2)?(e.badCells--,2):a})},drawNeutralLine:function(a,
b,c,d){var e=this;return this.mutateAlongLine(a/this.gridSize|0,b/this.gridSize|0,c/this.gridSize|0,d/this.gridSize|0,function(a,b,c){return 0==(a&8)?(e.badCells--,8):a})},visitAlongLine:function(a,b,c,d){var e=this;return this.mutateAlongLine(a/this.gridSize|0,b/this.gridSize|0,c/this.gridSize|0,d/this.gridSize|0,function(a,b,c){return 0==(a&1)?(0!=(a&4)&&e.badVisited++,0!=(a&2)&&e.goodVisited++,a|1):a})},mutateAlongLine:function(a,b,c,d,e){var f=!1,m=d-b,w=c-a,h=(m^m>>31)-(m>>31)>(w^w>>31)-(w>>
31);h&&(m=a,a=b,b=m,m=c,c=d,d=m);a>c&&(m=a,a=c,c=m,m=b,b=d,d=m);var m=c-a,w=d-b,w=(w^w>>31)-(w>>31)|0,g=m/2|0,k=b;b=b<d?1:-1;if(h)for(c+=1;a<c;)d=a++,h=this._grid[k][d],this._grid[k][d]=e(h,k,d),h!=this._grid[k][d]&&(f=!0),g-=w,0>g&&(k+=b,g+=m);else for(c+=1;a<c;)d=a++,h=this._grid[d][k],this._grid[d][k]=e(h,d,k),h!=this._grid[d][k]&&(f=!0),g-=w,0>g&&(k+=b,g+=m);return f},recountGrid:function(){for(var a=this.badVisited=this.goodVisited=this.goodCells=this.badCells=this.totalCells=0,b=this.columns;a<
b;)for(var c=a++,c=this._grid[c],d=0,e=this.rows;d<e;){var f=d++,f=c[f];0!=(f&4)?(0!=(f&1)&&this.badVisited++,this.badCells++,this.totalCells++):0!=(f&2)&&(this.totalCells++,0!=(f&1)&&this.goodVisited++)}},__class__:Yc};var ba=g["kit.display.BlendMode"]={__ename__:["kit","display","BlendMode"],__constructs__:"Normal Add Multiply Screen Mask Copy".split(" ")};ba.Normal=["Normal",0];ba.Normal.toString=k;ba.Normal.__enum__=ba;ba.Add=["Add",1];ba.Add.toString=k;ba.Add.__enum__=ba;ba.Multiply=["Multiply",
2];ba.Multiply.toString=k;ba.Multiply.__enum__=ba;ba.Screen=["Screen",3];ba.Screen.toString=k;ba.Screen.__enum__=ba;ba.Mask=["Mask",4];ba.Mask.toString=k;ba.Mask.__enum__=ba;ba.Copy=["Copy",5];ba.Copy.toString=k;ba.Copy.__enum__=ba;var xb=function(){this.enabled=!0;this.blendMode=ba.Normal;this._currentSegment=[];this.segmentEnd=new ua;this.segmentStart=new ua;this.segmentDrawn=new fa;this.mask=this.emitPointEvents=!1;this.canvasColor=16777215;this.color=13369344;this.dashed=!1;this.lineThickness=
this.dashLength=3;this._isDown=!1;this._bEven=!0;this.resolution=4;this._scratch=new La;this._prevPoint=new La;this._drawingPoints=[];L.call(this)};g["drawing.InteractiveCanvas"]=xb;xb.__name__=["drawing","InteractiveCanvas"];xb.__super__=L;xb.prototype=l(L.prototype,{onStart:function(){L.prototype.onStart.call(this);this._scene=this.owner._internal_getFromParents(3,N);this.owner.addChild(this._canvas=new F);this.owner.addChild(this._drawing=new F);this._texture=p.$IH.$hG.createTexture(Math.ceil(this.info.width),
Math.ceil(this.info.height));this._d=new za(this._texture);this._drawing.add(this._d);var a=this.owner.$IG[3];if(this.mask&&null!=a){this._canvas.add(a);var b=new Jb(this.canvasColor,this.info.width,this.info.height);b.setXY(this.info.x-this.info.anchorX,this.info.y-this.info.anchorY);a.setXY(0,0).setAnchor(0,0);this._canvas.$IG[3].set_mask(this._d);a=b;this.owner.add(a)}null==a&&(b=this.owner,a=new be(Math.floor(this.info.width),Math.floor(this.info.height)),b.add(a),a.setXY(this.info.x-this.info.anchorX,
this.info.y-this.info.anchorY));this.clear();this.connect1(this.owner.$IG[3].get_pointerDown(),I(this,this.pointerDown));this.connect1(this.owner.$IG[3].get_pointerUp(),I(this,this.pointerUp));this.connect1(this.owner.$IG[3].get_pointerMove(),I(this,this.pointerMove));this.connect1(this.owner.$IG[3].get_pointerOut(),I(this,this.pointerUp));this.connect1(p.$IH.getKeyboard().down,I(this,this.onKeyDown));this.connect1(p.$IH.getKeyboard().up,I(this,this.onKeyUp))},setPaintTexture:function(a){null!=this._d&&
(this._canvas.add(new za(a)),this._canvas.$IG[3].set_mask(this._d))},clear:function(){this._isDown=!1;this._drawingPoints=[];this._currentSegment=[];this._texture.clear()},onKeyDown:function(a){O.enumEq(a.key,h.Space)&&(a=this.owner.$IG[3].viewToLocal(p.$IH.$gG.get_x(),p.$IH.$gG.get_y()),u.getBounds(this.owner).contains(a.x,a.y)&&this.pointerDown(null))},onKeyUp:function(a){O.enumEq(a.key,h.Space)&&this.pointerUp(null)},pointerDown:function(a){!this._isDown&&this.enabled&&(a=this.owner.$IG[3],this._isDown=
this._bEven=!0,this.segmentStart.emit(),p.$IH.getKeyboard().isDown(h.Shift)?(null!=this._currentSegment&&0==this._currentSegment.length&&(this._currentSegment.push(this._prevPoint.x),this._currentSegment.push(this._prevPoint.y)),this.pointerMove(null)):(a.viewToLocal(p.$IH.$gG.get_x(),p.$IH.$gG.get_y(),this._prevPoint),this._prevPoint.set(Math.round(this._prevPoint.x),Math.round(this._prevPoint.y)),this._drawingPoints.push([this._prevPoint.x,this._prevPoint.y]),this.emitPointEvents&&null!=this._currentSegment&&
(this._currentSegment.push(this._prevPoint.x),this._currentSegment.push(this._prevPoint.y)),this.redrawPoints()))},pointerUp:function(a){this._isDown&&(this._isDown=!1,this._currentSegment=[],this.segmentEnd.emit())},pointerMove:function(a){if(this._isDown&&this.enabled){this.owner.$IG[3].viewToLocal(p.$IH.$gG.get_x(),p.$IH.$gG.get_y(),this._scratch);a=Math.round(this._scratch.x);var b=Math.round(this._scratch.y);this._scratch.set(a,b);if(this._prevPoint.distanceTo(this._scratch.x,this._scratch.y)>=
(!this.dashed||this._bEven?this.resolution:this.dashLength)){a=this._drawingPoints[this._drawingPoints.length-1];this._prevPoint.set(this._scratch.x,this._scratch.y);if((this._bEven=!this._bEven)&&this.dashed)if(null!=this._drawingPoints)this._drawingPoints.push([this._prevPoint.x,this._prevPoint.y]);else{this.pointerUp(null);return}else null!=a&&(a.push(this._prevPoint.x),a.push(this._prevPoint.y));this.emitPointEvents&&null!=this._currentSegment&&(this._currentSegment.push(this._prevPoint.x),this._currentSegment.push(this._prevPoint.y));
this.redrawPoints()}}},redrawPoints:function(){for(var a=0,b=this._drawingPoints.length;a<b;){var c=a++,c=this._drawingPoints[c];this._texture.get_graphics().fillCircle(this.color,c[0],c[1],0.5*this.lineThickness,8);this._texture.get_graphics().fillCircle(this.color,c[c.length-2],c[c.length-1],0.5*this.lineThickness,8);this._texture.get_graphics().strokeLines(this.color,c,this.lineThickness)}this._drawingPoints=[[this._prevPoint.x,this._prevPoint.y]];this.emitPointEvents&&2<this._currentSegment.length&&
(this.segmentDrawn.emit(this._currentSegment.slice(0)),this._currentSegment=[this._prevPoint.x,this._prevPoint.y])},set_enabled:function(a){this.enabled!=a&&(a||this.pointerUp(null));return this.enabled=a},__class__:xb,__properties__:l(L.prototype.__properties__,{set_enabled:"set_enabled"})});var kh=function(){};g["kit.filter.FilterContext"]=kh;kh.__name__=["kit","filter","FilterContext"];kh.prototype={__class__:kh};var ce=function(){this.$3E=[];this.$2E=[]};g.$CH=ce;ce.__name__=["$CH"];ce.__interfaces__=
[kh];ce.prototype={$0E:function(a,b,c,d){var e=this.$2E.pop();null!=e?e.$2M(c,d):e=new lh(c,d);e.$yM=a;e.$zM=b;this.$3E.unshift(e);return e.$0M},apply:function(a){a.active&&a.apply(this)},render:function(a){this.$3E[0].$3M(a)},$1E:function(){var a=this.$3E.shift();this.$2E.push(a);return a.$0M},__class__:ce};var hb=function(){this.identity()};g["kit.math.Matrix"]=hb;hb.__name__=["kit","math","Matrix"];hb.multiply=function(a,b,c){null==c&&(c=new hb);var d=a.m00,e=a.m01,f=a.m02,m=a.m10,w=a.m11;a=a.m12;
var h=b.m00,g=b.m01,k=b.m02,n=b.m10,l=b.m11;b=b.m12;c.m00=d*h+e*n;c.m01=d*g+e*l;c.m02=d*k+e*b+f;c.m10=m*h+w*n;c.m11=m*g+w*l;c.m12=m*k+w*b+a;return c};hb.prototype={set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var f=Math.sin(e);e=Math.cos(e);this.set(e*c,f*c,-f*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=
this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m10/a,-this.m01/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new La);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var d=0;d<b;){var e=a[d],f=a[d+1];c[d++]=e*this.m00+f*this.m01+this.m02;c[d++]=e*this.m10+f*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-
this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},clone:function(a){null==a&&(a=new hb);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:hb};var La=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};g["kit.math.Point"]=La;La.__name__=["kit","math","Point"];La.prototype={set:function(a,b){this.x=a;this.y=b},add:function(a,
b){this.x+=a;this.y+=b},normalize:function(){var a=this.magnitude();this.x/=a;this.y/=a},dot:function(a,b){return this.x*a+this.y*b},multiply:function(a){this.x*=a;this.y*=a},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},distanceTo:function(a,b){return Math.sqrt(this.distanceToSquared(a,b))},distanceToSquared:function(a,b){var c=this.x-a,d=this.y-b;return c*c+d*d},__class__:La};var u=function(){this.$LF=null;this.$DF=this.$EF=0;this.$CF=null;var a=this;B.call(this);this.$B|=
150;this.$BF=new hb;var b=function(b,d){a.$B|=24};this.x=new V(0,b);this.y=new V(0,b);this.rotation=new V(0,b);this.scaleX=new V(1,b);this.scaleY=new V(1,b);this.anchorX=new V(0,b);this.anchorY=new V(0,b);this.alpha=new V(1)};g["kit.display.Sprite"]=u;u.__name__=["kit","display","Sprite"];u.hitTest=function(a,b,c){if(!a.active)return null;var d=a.$IG[3];if(null!=d){if(6!=(d.$B&6)||null!=d.$LF&&null!=d.$LF.$HJ||!d.getLocalMatrix().inverseTransform(b,c,u.$SF))return null;b=u.$SF.x;c=u.$SF.y;var e=d.get_scissor();
if(null!=e&&!e.contains(b,c))return null}a=u.$PF(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};u.getBounds=function(a,b){null==b&&(b=new Ba);b.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);u.$QF(a,null,b);b.width-=b.x;b.height-=b.y;return b};u.render=function(a,b){u.$MF(a,b,!0)};u.$MF=function(a,b,c){if(a.active){var d=null,e=null,f=a.$IG[3];if(null!=f){var m=f.alpha.$1G;if(0==(f.$B&2)||0>=m)return;var w=f.$LF;if(c&&null!=w&&
null!=w.$HJ)return;b.save();null!=w&&null!=w.$GJ&&0!=(f.$B&128)&&(c=w.$GJ.owner,null!=c&&(b.beginMask(),u.$MF(c,b,!1),b.endMask()));if(null!=w){var h=!1;c=!1;for(var g=0,k=0,n=0,l=0,q=0,s=w.$IJ;q<s.length;){var t=s[q];++q;t.active&&(h=!0,c=c?!0:!t.outputOnly,g=Math.max(g,t.paddingTop),k=Math.max(k,t.paddingRight),n=Math.max(n,t.paddingBottom),l=Math.max(l,t.paddingLeft))}if(h&&p.$IH.$hG.get_filterSupported()){e=f.$7E();h=null!=e?e.getViewMatrix():null;q=f.getViewMatrix();e=new Ba;e.set(1.79769313486231E308,
1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);var r=w.$JJ;if(null!=r){var s=r.x,t=r.y,v=s+r.width,r=t+r.height;v>s&&r>t&&(u.$RF(q,s,t,e),u.$RF(q,v,t,e),u.$RF(q,v,r,e),u.$RF(q,s,r,e))}else u.$QF(a,h,e);e.width-=e.x;e.height-=e.y;if(!e.get_empty()){e.x-=l;e.y-=g;e.width+=l+k;e.height+=g+n;d=u.$UF.$0E(e.x,e.y,Math.ceil(e.width),Math.ceil(e.height));c&&(d=d.get_graphics(),d.save(),d.translate(-e.x,-e.y),d.transform(q.m00,q.m10,q.m01,q.m11,q.m02,q.m12),u.$OF(f,d),u.$NF(a,d),d.restore());
d=0;for(c=w.$IJ;d<c.length;)g=c[d],++d,u.$UF.apply(g);d=u.$UF.$1E();null!=h&&(c=h.clone(u.$TF),c.invert(),b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12))}}}1>m&&b.multiplyAlpha(m);null==d&&(m=f.getLocalMatrix(),b.transform(m.m00,m.m10,m.m01,m.m11,m.m02,m.m12));null!=w&&(1==w.$CJ.$1G&&1==w.$DJ.$1G&&1==w.$EJ.$1G||b.tint(w.$CJ.$1G,w.$DJ.$1G,w.$EJ.$1G),null!=w.$AJ&&b.setBlendMode(w.$AJ),w=w.$BJ,null!=w&&null==d&&b.applyScissor(w.x,w.y,w.width,w.height));null==d?u.$OF(f,b):b.drawSubTexture(d,e.x,e.y,
0,0,e.width,e.height)}null==d&&u.$NF(a,b);null!=f&&b.restore()}};u.$NF=function(a,b){var c=a.$IG[8];if(null!=c)for(var c=c.occludedScenes,d=0;d<c.length;){var e=c[d];++d;u.render(e,b)}for(c=a.firstChild;null!=c;)d=c.next,u.render(c,b),c=d};u.$OF=function(a,b){a.draw(b);var c=a.$LF;null!=c&&null!=c.$FJ&&c.$FJ.render(b)};u.$PF=function(a,b,c){if(null!=a){var d=u.$PF(a.next,b,c);return null!=d?d:u.hitTest(a,b,c)}return null};u.$QF=function(a,b,c){if(a.active){var d=a.$IG[3];if(null!=d){if(0==(d.$B&2)||
null!=d.$LF&&null!=d.$LF.$HJ)return;b=null!=b?hb.multiply(b,d.getLocalMatrix()):d.getLocalMatrix();var e=d.getNaturalWidth(),d=d.getNaturalHeight();0<e&&0<d&&(u.$RF(b,0,0,c),u.$RF(b,e,0,c),u.$RF(b,e,d,c),u.$RF(b,0,d,c))}e=a.$IG[8];if(null!=e)for(var e=e.occludedScenes,d=0,f=e.length;d<f;)u.$QF(e[d],b,c),++d;for(a=a.firstChild;null!=a;)e=a.next,u.$QF(a,b,c),a=e}};u.$RF=function(a,b,c,d){a=a.transform(b,c,u.$SF);b=a.x;c=a.y;b<d.x&&(d.x=b);c<d.y&&(d.y=c);b>d.width&&(d.width=b);c>d.height&&(d.height=
c)};u.__super__=B;u.prototype=l(B.prototype,{get_entitySlot:function(){return 3},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b?b<this.getNaturalHeight():!1},getLocalMatrix:function(){0!=(this.$B&8)&&(this.$B&=-9,this.$BF.compose(this.x.$1G,this.y.$1G,this.scaleX.$1G,this.scaleY.$1G,3.141592653589793*this.rotation.$1G/180),this.$BF.translate(-this.anchorX.$1G,-this.anchorY.$1G));return this.$BF},getViewMatrix:function(){if(this.$6E()){var a=
this.$7E();this.$CF=null!=a?hb.multiply(a.getViewMatrix(),this.getLocalMatrix(),this.$CF):this.getLocalMatrix().clone(this.$CF);this.$B&=-17;null!=a&&(this.$EF=a.$DF);++this.$DF}return this.$CF},viewToLocal:function(a,b,c){null==c&&(c=new La);this.getViewMatrix().inverseTransform(a,b,c)||c.set(0,0);return c},localToView:function(a,b,c){return this.getViewMatrix().transform(a,b,c)},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/
2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setTint:function(a){if(null!=this.$LF||16777215!=a)this.get_tintR().set__((a&16711680)/16711680),this.get_tintG().set__((a&65280)/65280),this.get_tintB().set__((a&255)/255);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);
return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},disablePixelSnapping:function(){this.$B=ic.set(this.$B,32,!1);return this},onAdded:function(){0!=(this.$B&64)&&this.$8E()},onRemoved:function(){null!=this.$KF&&(this.$KF.dispose(),this.$KF=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a);var b=this.$LF;if(null!=b){b.$CJ.update(a);
b.$DJ.update(a);b.$EJ.update(a);for(var c=0,b=b.$IJ;c<b.length;){var d=b[c];++c;d.active&&d.update(a)}}},draw:function(a){},$6E:function(){if(0!=(this.$B&16))return!0;var a=this.$7E();return null==a?!1:this.$EF==a.$DF?a.$6E():!0},$7E:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a.$IG[3];if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this.$FF&&(this.$FF=new fa);return this.$FF},get_pointerMove:function(){null==this.$GF&&(this.$GF=
new fa);return this.$GF},get_pointerUp:function(){null==this.$HF&&(this.$HF=new fa);return this.$HF},get_pointerIn:function(){null==this.$IF&&(this.$IF=new fa);return this.$IF},get_pointerOut:function(){null==this.$JF&&(this.$JF=new fa);return this.$JF},$8E:function(){var a=this;null==this.$KF&&p.$IH.$aG.$nO(function(){a.$KF=p.$IH.$gG.move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.$7E()}null!=a.$JF&&0!=(a.$B&64)&&a.$JF.emit(b);a.$B&=-65;null!=a.$KF&&(a.$KF.dispose(),a.$KF=null)})})},
get_blendMode:function(){return null!=this.$LF?this.$LF.$AJ:null},set_blendMode:function(a){if(null==this.$LF){if(null==a)return null;this.$LF=new mb}return this.$LF.$AJ=a},get_scissor:function(){return null!=this.$LF?this.$LF.$BJ:null},set_scissor:function(a){if(null==this.$LF){if(null==a)return null;this.$LF=new mb}return this.$LF.$BJ=a},get_tintR:function(){null==this.$LF&&(this.$LF=new mb);return this.$LF.$CJ},get_tintG:function(){null==this.$LF&&(this.$LF=new mb);return this.$LF.$DJ},get_tintB:function(){null==
this.$LF&&(this.$LF=new mb);return this.$LF.$EJ},get_graphics:function(){null==this.$LF&&(this.$LF=new mb);var a=this.$LF.$FJ;null==a&&(a=this.$LF.$FJ=new de);return a},set_mask:function(a){if(null==this.$LF){if(null==a)return null;this.$LF=new mb}var b=this.$LF.$GJ;if(null!=b&&(b=b.$LF,null!=b&&null!=b.$HJ)){var c=b.$HJ;b.$HJ=null;c.set_mask(null)}null!=a&&(b=a.$LF,null==b&&(b=a.$LF=new mb),null!=b.$HJ&&b.$HJ.set_mask(null),b.$HJ=this);return this.$LF.$GJ=a},get_filters:function(){null==this.$LF&&
(this.$LF=new mb);return this.$LF.$IJ},set_filters:function(a){null==a&&(a=[]);null==this.$LF&&(this.$LF=new mb);return this.$LF.$IJ=a},set_filterBounds:function(a){if(null==this.$LF){if(null==a)return null;this.$LF=new mb}return this.$LF.$JJ=a},set_maskEnabled:function(a){this.$B=ic.set(this.$B,128,a);return a},set_visible:function(a){this.$B=ic.set(this.$B,2,a);return a},set_pointerEnabled:function(a){this.$B=ic.set(this.$B,4,a);return a},$9E:function(a){this.$_E(a);null!=this.$FF&&this.$FF.emit(a)},
$$E:function(a){this.$_E(a);null!=this.$GF&&this.$GF.emit(a)},$_E:function(a){0==(this.$B&64)&&(this.$B|=64,null!=this.$IF||null!=this.$JF)&&(null!=this.$IF&&this.$IF.emit(a),this.$8E())},$AF:function(a){1==a.source[1]&&(null!=this.$JF&&0!=(this.$B&64)&&this.$JF.emit(a),this.$B&=-65,null!=this.$KF&&(this.$KF.dispose(),this.$KF=null));null!=this.$HF&&this.$HF.emit(a)},__class__:u,__properties__:l(B.prototype.__properties__,{get_graphics:"get_graphics",get_tintB:"get_tintB",get_tintG:"get_tintG",get_tintR:"get_tintR",
get_pointerOut:"get_pointerOut",get_pointerIn:"get_pointerIn",get_pointerUp:"get_pointerUp",get_pointerMove:"get_pointerMove",get_pointerDown:"get_pointerDown",set_pointerEnabled:"set_pointerEnabled",set_filterBounds:"set_filterBounds",set_filters:"set_filters",get_filters:"get_filters",set_visible:"set_visible",set_maskEnabled:"set_maskEnabled",set_mask:"set_mask",set_scissor:"set_scissor",get_scissor:"get_scissor",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode"})});var be=function(a,
b){this._width=a;this._height=b;u.call(this)};g["drawing.DrawingSprite"]=be;be.__name__=["drawing","DrawingSprite"];be.__super__=u;be.prototype=l(u.prototype,{getNaturalWidth:function(){return this._width},getNaturalHeight:function(){return this._height},__class__:be});var ee=function(){this._count=0;this.gridChanged=new ua;L.call(this)};g["drawing.PrototypeGameEngine"]=ee;ee.__name__=["drawing","PrototypeGameEngine"];ee.__super__=L;ee.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);
var b=this.owner._internal_getFromParents(3,N),c=b.getObjectByType(xb).$IG[1];this.canvas=c instanceof xb?c:null;b=b.getObject("buttonLoad").$IG[1];b=b instanceof Xb?b:null;this.connect1(this.canvas.segmentDrawn,I(this,this.onSegmentDrawn));this.connect2(b.fileLoaded,I(this,this.onPuzzleLoaded));null==C._browser&&(C._browser=C.parse(A.string(window.location)));b=C._browser;b.getQueryInt("gridSize",15);this._maxBadRatio=b.getQueryFloat("ratio",50)/100;this._goodPercent=b.getQueryFloat("good",70)/100;
this.connectMessage("gridToggle",function(b){null!=a._debugGrid&&a._debugGrid.set_visible(0==(a._debugGrid.$B&2))})},onUpdate:function(a){L.prototype.onUpdate.call(this,a);null!=this.canvas&&null!=this.gridData&&this.canvas.enabled&&(this._count+=a);this.updateDebugInfo()},onPuzzleLoaded:function(a,b){null==C._browser&&(C._browser=C.parse(A.string(window.location)));for(var c=C._browser.getQueryInt("gridSize",15),d=P.replace(ca.__cast(b.target.result,String),"data:application/json;base64,",""),d=
JSON.parse(Ta.decode(d).toString()),e=p.$IH.$hG.createTexture(Math.ceil(this.canvas.info.width),Math.ceil(this.canvas.info.height)),f=0,m=d.length;f<m;){var w=f++;e.get_graphics().strokeLines(16777215,d[w],6)}this.initGrid(d,c);this.canvas.owner.addChild((new F).add((new za(e)).disablePointer()),!1)},initGrid:function(a,b){this.gridData=new Yc(this.canvas.info.width,this.canvas.info.height,b);var c=p.$IH.$hG.createTexture(Math.ceil(this.canvas.info.width),Math.ceil(this.canvas.info.height));this.gridData.setDebugGrid(c.get_graphics());
for(var d=0,e=a.length;d<e;)for(var f=d++,f=a[f],m=2,w=f[0],h=f[1];m<f.length;)this.gridData.drawGoodLine(w,h,f[m],f[m+1]),w=f[m],h=f[m+1],m+=2;this.canvas.owner.addChild((new F).add(this._debugGrid=(new za(c)).setAlpha(0.4).disablePointer()),!1)},onSegmentDrawn:function(a){if(null!=this.gridData&&this.gridData.visitAlongLine(a[0],a[1],a[2],a[3])){this.gridChanged.emit();this.updateDebugInfo();a=this.gridData.badVisited/this.gridData.goodVisited;var b=this.gridData;if(this.gridData.goodVisited/(b.totalCells-
b.badCells)>=this._goodPercent&&a<=this._maxBadRatio){a=this.owner._internal_getFromParents(3,N);b=a.getLayer("winMessage").$IG[3];b.set_visible(!0);var c=new yb;c.quality=2;c.setBlur(60);b.alpha.set__(0);b.set_filters([c]);b.set_filterBounds(new Ba(0,0,1E3,700));b.alpha.animateTo(1,0.1,E.quadIn);c.blurX.animateTo(0,0.3,E.quadIn);c.blurY.animateTo(0,0.3,E.quadIn);a.disablePointer()}}},updateDebugInfo:function(){if(null!=this.gridData){var a=this.owner._internal_getFromParents(3,N),b=a.getObject("good").$IG[3],
b=b instanceof na?b:null,c=a.getObject("bad").$IG[3],c=c instanceof na?c:null,d=a.getObject("total").$IG[3],d=d instanceof na?d:null,e=a.getObject("ratio").$IG[3],f=e instanceof na?e:null,e=a.getObject("goodCell").$IG[3],e=e instanceof na?e:null,m=a.getObject("badCell").$IG[3],w=m instanceof na?m:null,m=a.getObject("gridSize").$IG[3],m=m instanceof na?m:null,h=a.getObject("time").$IG[3],h=h instanceof na?h:null,g=this.gridData;b.set_text("Good: "+Math.round(this.gridData.goodVisited/(g.totalCells-
g.badCells)*100)+"%");c.set_text("Bad: "+Math.round(this.gridData.badVisited/this.gridData.badCells*100)+"%");0<this.gridData.badVisited&&0<this.gridData.goodVisited?f.set_text("Bad Ratio: "+Math.round(this.gridData.badVisited/this.gridData.goodVisited*100)+"%"):f.set_text("Bad Ratio: 0%");b=this.gridData;d.set_text("Total: "+Math.round((b.badVisited+b.goodVisited)/this.gridData.totalCells*100)+"%");b=this.gridData;e.set_text("Good Cells: "+(b.totalCells-b.badCells));w.set_text("Bad Cells: "+this.gridData.badCells);
a=a.getObject("gbRatio").$IG[3];b=this.gridData;(a instanceof na?a:null).set_text("G/B Ratio: "+Math.round((b.totalCells-b.badCells)/this.gridData.badCells*100)+"%");h.set_text("Time: "+Math.round(this._count));m.set_text("Grid Size: "+Math.round(this.gridData.gridSize))}},__class__:ee});var zb=g["ez.PhysicsType"]={__ename__:["ez","PhysicsType"],__constructs__:["Dynamic","Static","Kinematic"]};zb.Dynamic=["Dynamic",0];zb.Dynamic.toString=k;zb.Dynamic.__enum__=zb;zb.Static=["Static",1];zb.Static.toString=
k;zb.Static.__enum__=zb;zb.Kinematic=["Kinematic",2];zb.Kinematic.toString=k;zb.Kinematic.__enum__=zb;var Yb=function(){this.physicsType=zb.Dynamic;this.collisionGroup=this.collidesWith=this.onBeginContact=this.onEndContact=null;this.sensor=!1;this.restitution=0;this.friction=0.2;this.gravityScale=1;this.fixedRotation=!1;this.density=1;this.physicsEnabled=!1;this.onPointerDown=this.onPointerIn=this.onPointerOut=this.onPointerUp=null;this.pointerEnabled=!0;L.call(this)};g["ez.Actor"]=Yb;Yb.__name__=
["ez","Actor"];Yb.__super__=L;Yb.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);var b=this.owner.$IG[3];null!=b&&(b.set_pointerEnabled(this.pointerEnabled),null!=this.onPointerDown&&b.get_pointerDown().connect(function(b){a.$cF(a.onPointerDown)}),null!=this.onPointerIn&&b.get_pointerIn().connect(function(b){a.$cF(a.onPointerIn)}),null!=this.onPointerOut&&b.get_pointerOut().connect(function(b){a.$cF(a.onPointerOut)}),null!=this.onPointerUp&&b.get_pointerUp().connect(function(b){a.$cF(a.onPointerUp)}))},
$cF:function(a){null!=this.owner&&this.owner.emitMessageToParents(a,this.owner)},__class__:Yb});var fe=function(){this.duration=1;s.call(this)};g["ez.Delay"]=fe;fe.__name__=["ez","Delay"];fe.__super__=s;fe.prototype=l(s.prototype,{$xE:function(a){var b=new U;a.addChild((new F).add(new ge(this.duration,b)));return b},__class__:fe});var ge=function(a,b){B.call(this);this.$eF=a;this.$fF=b};g.$CI=ge;ge.__name__=["$CI"];ge.__super__=B;ge.prototype=l(B.prototype,{get_entitySlot:function(){return 21},onUpdate:function(a){this.$eF-=
a;0>=this.$eF&&(this.owner.dispose(),this.$fF.success(null))},__class__:ge});var Va=g["ez.MessageLocation"]={__ename__:["ez","MessageLocation"],__constructs__:["Local","Global","Parents","Children"]};Va.Local=["Local",0];Va.Local.toString=k;Va.Local.__enum__=Va;Va.Global=["Global",1];Va.Global.toString=k;Va.Global.__enum__=Va;Va.Parents=["Parents",2];Va.Parents.toString=k;Va.Parents.__enum__=Va;Va.Children=["Children",3];Va.Children.toString=k;Va.Children.__enum__=Va;var he=function(){this.location=
Va.Local;s.call(this)};g["ez.EmitMessage"]=he;he.__name__=["ez","EmitMessage"];he.__super__=s;he.prototype=l(s.prototype,{$wE:function(a){switch(this.location[1]){case 0:a.emitMessage(this.message,this.data);break;case 1:this.script.owner.emitMessageToChildren(this.message,this.data);break;case 2:a.emitMessageToParents(this.message,this.data);break;case 3:a.emitMessageToChildren(this.message,this.data)}},__class__:he});var Vd=function(a,b){this.callInitPlatformSDK=!0;this.loaded=new ua;B.call(this);
null==b&&(b=a);this.$gF=b};g["ez.EzApp"]=Vd;Vd.__name__=["ez","EzApp"];Vd.__super__=B;Vd.prototype=l(B.prototype,{get_entitySlot:function(){return 26},onStart:function(){var a=this,b=this.owner.$IG[8];if(null==b){var c=this.owner,b=new ie;c.add(b)}var d=this.owner.$IG[2];null==d&&(c=this.owner,d=new Ec,c.add(d));c=this.owner.$IG[10];if(null==c){var e=this.owner,c=new Sa;e.add(c)}c=ma.getRequiredAssetPacks(this.$gF).map(function(a){return d.load(a)});c=U.all(c);this.callInitPlatformSDK&&(c=p.$IH.initPlatformSDK(c));
c.then(function(c){b.unwindToScene(new nb(a.$gF));a.loaded.emit()})},__class__:Vd});var Zb=function(a){null==a&&(a=!0);B.call(this);this.opaque=a;this.shown=new ua;this.hidden=new ua};g["kit.scene.Scene"]=Zb;Zb.__name__=["kit","scene","Scene"];Zb.__super__=B;Zb.prototype=l(B.prototype,{get_entitySlot:function(){return 9},__class__:Zb});var nb=function(a,b){null==b&&(b=!0);this.onStarted=this.onStopped=this.onUpdated=this.onPropertyChanged=this.onKeyDown=this.onKeyUp=this.onPointerDown=this.onPointerUp=
this.$iF=null;Zb.call(this,b);this.$hF=a};g["ez.EzScene"]=nb;nb.__name__=["ez","EzScene"];nb.__super__=Zb;nb.prototype=l(Zb.prototype,{onStart:function(){var a=this;Zb.prototype.onStart.call(this);var b=this.owner._internal_getFromParents(2).getScene(this.$hF),c=[];this.registerDisposable(b.reloadCount.watch(function(d,e){var f=b.properties,f=null!=q.onStarted?f.getReserved("onStarted"):f.h.onStarted;a.onStarted=f;f=b.properties;f=null!=q.onStopped?f.getReserved("onStopped"):f.h.onStopped;a.onStopped=
f;f=b.properties;f=null!=q.onUpdated?f.getReserved("onUpdated"):f.h.onUpdated;a.onUpdated=f;f=b.properties;f=null!=q.onPropertyChanged?f.getReserved("onPropertyChanged"):f.h.onPropertyChanged;a.onPropertyChanged=f;f=b.properties;f=null!=q.onKeyDown?f.getReserved("onKeyDown"):f.h.onKeyDown;a.onKeyDown=f;f=b.properties;f=null!=q.onKeyUp?f.getReserved("onKeyUp"):f.h.onKeyUp;a.onKeyUp=f;f=b.properties;f=null!=q.onPointerDown?f.getReserved("onPointerDown"):f.h.onPointerDown;a.onPointerDown=f;f=b.properties;
f=null!=q.onPointerUp?f.getReserved("onPointerUp"):f.h.onPointerUp;a.onPointerUp=f;for(f=0;f<c.length;){var m=c[f];++f;m.dispose()}c=[];null!=a.onKeyDown&&(f=a.connect1(p.$IH.getKeyboard().down,function(b){a.$cF(a.onKeyDown)}),c.push(f));null!=a.onKeyUp&&(f=a.connect1(p.$IH.getKeyboard().up,function(b){a.$cF(a.onKeyUp)}),c.push(f));null!=a.onPointerDown&&(f=a.connect1(p.$IH.$gG.down,function(b){a.$cF(a.onPointerDown)}),c.push(f));null!=a.onPointerUp&&(f=a.connect1(p.$IH.$gG.up,function(b){a.$cF(a.onPointerUp)}),
c.push(f))}));var d=b.createSprite(),e=la.$MM("width"),f=la.$MM("height");d.setCamera(0,0,e,f);this.$iF=(new F).add(d);this.owner.addChild(this.$iF);e=new Sa;this.owner.add(e);if(null!=this.onPropertyChanged){for(var f=[e],m=this.owner.parent;null!=m;){var w=m.$IG[10];null!=w&&f.push(w);m=m.parent}for(m=0;m<f.length;)w=f[m],++m,this.connect2(w.changed,function(b,c){a.$cF(a.onPropertyChanged)})}for(f=b.properties.keys();f.hasNext();)m=f.next(),w=b.properties,w=parseFloat(null!=q[m]?w.getReserved(m):
w.h[m]),isNaN(w)||e.set(m,w);1!=la.$MM("scaleMode")&&(e=function(){var a=Math.min(p.$IH.$iG.get_width()/d.cameraWidth.$1G,p.$IH.$iG.get_height()/d.cameraHeight.$1G),b=p.$IH.$iG.get_width()/2-a*d.cameraWidth.$1G/2,c=p.$IH.$iG.get_height()/2;d.setXY(b,c-a*d.cameraHeight.$1G/2);d.setScale(a)},e(),this.connect0(p.$IH.$iG.resize,e));e=b.createScript();this.$iF.add(e);this.owner.yieldForStart();null!=this.onStarted&&this.$cF(this.onStarted)},onUpdate:function(a){Zb.prototype.onUpdate.call(this,a);null!=
this.onUpdated&&this.$cF(this.onUpdated)},onStop:function(){Zb.prototype.onStop.call(this);null!=this.onStopped&&this.$cF(this.onStopped)},$cF:function(a){this.$iF.emitMessageToParents(a,this.owner)},__class__:nb});var $=function(){this.subActions=[];s.call(this)};g["kit.creator.GroupAction"]=$;$.__name__=["kit","creator","GroupAction"];$.__super__=s;$.prototype=l(s.prototype,{$xE:function(a){return s.runSequence(this.subActions,a)},__class__:$});var mh=function(){$.call(this)};g["ez.Parallel"]=mh;
mh.__name__=["ez","Parallel"];mh.__super__=$;mh.prototype=l($.prototype,{$xE:function(a){return s.runParallel(this.subActions,a)},__class__:mh});var je=function(){this.count=-1;$.call(this)};g["ez.Repeat"]=je;je.__name__=["ez","Repeat"];je.__super__=$;je.prototype=l($.prototype,{$xE:function(a){return 0>this.count?this.$kF(a):this.$lF(a,this.count)},$kF:function(a){var b=this;return s.runSequence(this.subActions,a).then(function(c){return b.$kF(a)})},$lF:function(a,b){var c=this;return 0>=b?null:
s.runSequence(this.subActions,a).then(function(d){return c.$lF(a,b-1)})},__class__:je});var ke=function(){this.name=null;s.call(this)};g["ez.RunAction"]=ke;ke.__name__=["ez","RunAction"];ke.__super__=s;ke.prototype=l(s.prototype,{$xE:function(a){return this.script.run(this.name,a)},__class__:ke});var nh=function(){$.call(this)};g["ez.Sequence"]=nh;nh.__name__=["ez","Sequence"];nh.__super__=$;nh.prototype=l($.prototype,{__class__:nh});var oh=function(){$.call(this)};g["ez.Spawn"]=oh;oh.__name__=["ez",
"Spawn"];oh.__super__=$;oh.prototype=l($.prototype,{$xE:function(a){if(null==a)return null;var b=this.script.owner._internal_getFromParents(3,N);a=a.$IG[1];a=null!=a?a.info:this.target;var c=b.createObject(a);b.getLayer(a.layer.name).addChild(c);c.yieldForStart();return s.runSequence(this.subActions,c)},__class__:oh});var ob=function(){s.call(this)};g["ez.TweenAction"]=ob;ob.__name__=["ez","TweenAction"];ob.__super__=s;ob.prototype=l(s.prototype,{$mF:function(a,b,c,d,e){if(0>=d)return b.set__(c),
null;b.animateTo(c,d,this.$oF(e));return tc.on(a,b)},$nF:function(a,b,c,d,e,f,m){if(0>=f)return b.set__(c),d.set__(e),null;m=this.$oF(m);b.animateTo(c,f,m);d.animateTo(e,f,m);return tc.on(a,b)},$oF:function(a){switch(a[1]){case 0:return E.linear;case 1:return E.quadIn;case 2:return E.quadOut;case 3:return E.quadInOut;case 4:return E.cubeIn;case 5:return E.cubeOut;case 6:return E.cubeInOut;case 7:return E.quartIn;case 8:return E.quartOut;case 9:return E.quartInOut;case 10:return E.quintIn;case 11:return E.quintOut;
case 12:return E.quintInOut;case 13:return E.sineIn;case 14:return E.sineOut;case 15:return E.sineInOut;case 16:return E.bounceIn;case 17:return E.bounceOut;case 18:return E.bounceInOut;case 19:return E.circIn;case 20:return E.circOut;case 21:return E.circInOut;case 22:return E.expoIn;case 23:return E.expoOut;case 24:return E.expoInOut;case 25:return E.backIn;case 26:return E.backOut;case 27:return E.backInOut;case 28:return E.elasticIn;case 29:return E.elasticOut;case 30:return E.elasticInOut}},
$pF:function(a){},__class__:ob});var tc=function(a,b){B.call(this);this.$qF=a;this.$rF=a.$rF;this.$fF=b};g.$CJ=tc;tc.__name__=["$CJ"];tc.on=function(a,b){var c=new U;a.addChild((new F).add(new tc(b,c)));return c};tc.__super__=B;tc.prototype=l(B.prototype,{get_entitySlot:function(){return 19},onUpdate:function(a){this.$qF.$rF!=this.$rF&&(this.owner.dispose(),this.$fF.success(null))},__class__:tc});var r=g["ez.TweenEase"]={__ename__:["ez","TweenEase"],__constructs__:"Linear QuadIn QuadOut QuadInOut CubeIn CubeOut CubeInOut QuartIn QuartOut QuartInOut QuintIn QuintOut QuintInOut SineIn SineOut SineInOut BounceIn BounceOut BounceInOut CircIn CircOut CircInOut ExpoIn ExpoOut ExpoInOut BackIn BackOut BackInOut ElasticIn ElasticOut ElasticInOut".split(" ")};
r.Linear=["Linear",0];r.Linear.toString=k;r.Linear.__enum__=r;r.QuadIn=["QuadIn",1];r.QuadIn.toString=k;r.QuadIn.__enum__=r;r.QuadOut=["QuadOut",2];r.QuadOut.toString=k;r.QuadOut.__enum__=r;r.QuadInOut=["QuadInOut",3];r.QuadInOut.toString=k;r.QuadInOut.__enum__=r;r.CubeIn=["CubeIn",4];r.CubeIn.toString=k;r.CubeIn.__enum__=r;r.CubeOut=["CubeOut",5];r.CubeOut.toString=k;r.CubeOut.__enum__=r;r.CubeInOut=["CubeInOut",6];r.CubeInOut.toString=k;r.CubeInOut.__enum__=r;r.QuartIn=["QuartIn",7];r.QuartIn.toString=
k;r.QuartIn.__enum__=r;r.QuartOut=["QuartOut",8];r.QuartOut.toString=k;r.QuartOut.__enum__=r;r.QuartInOut=["QuartInOut",9];r.QuartInOut.toString=k;r.QuartInOut.__enum__=r;r.QuintIn=["QuintIn",10];r.QuintIn.toString=k;r.QuintIn.__enum__=r;r.QuintOut=["QuintOut",11];r.QuintOut.toString=k;r.QuintOut.__enum__=r;r.QuintInOut=["QuintInOut",12];r.QuintInOut.toString=k;r.QuintInOut.__enum__=r;r.SineIn=["SineIn",13];r.SineIn.toString=k;r.SineIn.__enum__=r;r.SineOut=["SineOut",14];r.SineOut.toString=k;r.SineOut.__enum__=
r;r.SineInOut=["SineInOut",15];r.SineInOut.toString=k;r.SineInOut.__enum__=r;r.BounceIn=["BounceIn",16];r.BounceIn.toString=k;r.BounceIn.__enum__=r;r.BounceOut=["BounceOut",17];r.BounceOut.toString=k;r.BounceOut.__enum__=r;r.BounceInOut=["BounceInOut",18];r.BounceInOut.toString=k;r.BounceInOut.__enum__=r;r.CircIn=["CircIn",19];r.CircIn.toString=k;r.CircIn.__enum__=r;r.CircOut=["CircOut",20];r.CircOut.toString=k;r.CircOut.__enum__=r;r.CircInOut=["CircInOut",21];r.CircInOut.toString=k;r.CircInOut.__enum__=
r;r.ExpoIn=["ExpoIn",22];r.ExpoIn.toString=k;r.ExpoIn.__enum__=r;r.ExpoOut=["ExpoOut",23];r.ExpoOut.toString=k;r.ExpoOut.__enum__=r;r.ExpoInOut=["ExpoInOut",24];r.ExpoInOut.toString=k;r.ExpoInOut.__enum__=r;r.BackIn=["BackIn",25];r.BackIn.toString=k;r.BackIn.__enum__=r;r.BackOut=["BackOut",26];r.BackOut.toString=k;r.BackOut.__enum__=r;r.BackInOut=["BackInOut",27];r.BackInOut.toString=k;r.BackInOut.__enum__=r;r.ElasticIn=["ElasticIn",28];r.ElasticIn.toString=k;r.ElasticIn.__enum__=r;r.ElasticOut=["ElasticOut",
29];r.ElasticOut.toString=k;r.ElasticOut.__enum__=r;r.ElasticInOut=["ElasticInOut",30];r.ElasticInOut.toString=k;r.ElasticInOut.__enum__=r;var Zc=function(){this.strokeWidth=5;this.strokeColor=10066329;this.fillColor=12632256;Yb.call(this)};g["ez.VectorGraphics"]=Zc;Zc.__name__=["ez","VectorGraphics"];Zc.__super__=Yb;Zc.prototype=l(Yb.prototype,{onStart:function(){var a=this.owner.$IG[3];null==a&&(a=new le(this.info),this.info.transformSprite(a),this.owner.add(a));Yb.prototype.onStart.call(this);
a=a.get_graphics();switch(this.info.shape[1]){case 0:a.fillRect(this.fillColor,0,0,this.info.width,this.info.height);0<this.strokeWidth&&a.strokeLines(this.strokeColor,[0,0,this.info.width,0,this.info.width,this.info.height,0,this.info.height,0,0],this.strokeWidth);break;case 1:var b=this.info.width/2,c=this.info.height/2;a.fillEllipse(this.fillColor,b,c,b,c);0<this.strokeWidth&&a.strokeEllipse(this.strokeColor,b,c,b,c,this.strokeWidth);break;case 2:a.fillPolygon(this.fillColor,this.$sF(!1));0<this.strokeWidth&&
a.strokeLines(this.strokeColor,this.$sF(!0),this.strokeWidth);break;case 3:a.strokeLines(this.strokeColor,this.$sF(!1),this.strokeWidth)}},$sF:function(a){for(var b=[],c=0,d=this.info.points;c<d.length;){var e=d[c];++c;b.push(e.x);b.push(e.y)}a&&0<b.length&&(b.push(b[0]),b.push(b[1]));return b},__class__:Zc});var le=function(a){u.call(this);this.$tF=a;switch(a.shape[1]){case 2:case 3:var b=this.$xF=this.$wF=this.$vF=this.$uF=0;for(a=a.points;b<a.length;){var c=a[b];++b;c.x<this.$uF?this.$uF=c.x:c.x>
this.$wF&&(this.$wF=c.x);c.y<this.$vF?this.$vF=c.y:c.y>this.$xF&&(this.$xF=c.y)}break;default:this.$vF=this.$uF=0,this.$wF=a.width,this.$xF=a.height}};g.$CK=le;le.__name__=["$CK"];le.__super__=u;le.prototype=l(u.prototype,{containsLocal:function(a,b){return a>=this.$uF&&a<=this.$wF&&b>=this.$vF?b<=this.$xF:!1},getNaturalWidth:function(){return this.$tF.width},getNaturalHeight:function(){return this.$tF.height},__class__:le});var me=function(){this.ease=r.Linear;this.to=this.duration=0;s.call(this)};
g["ez.display.AlphaTo"]=me;me.__name__=["ez","display","AlphaTo"];me.__super__=ob;me.prototype=l(ob.prototype,{$xE:function(a){return this.$mF(a,a.$IG[3].alpha,this.to,this.duration,this.ease)},__class__:me});var ph=function(){s.call(this)};g["ez.display.Hide"]=ph;ph.__name__=["ez","display","Hide"];ph.__super__=s;ph.prototype=l(s.prototype,{$wE:function(a){a.$IG[3].set_visible(!1)},__class__:ph});var ne=function(){this.ease=r.Linear;this.x=this.y=this.duration=0;s.call(this)};g["ez.display.MoveBy"]=
ne;ne.__name__=["ez","display","MoveBy"];ne.__super__=ob;ne.prototype=l(ob.prototype,{$xE:function(a){this.$pF(a);var b=a.$IG[3];return this.$nF(a,b.x,b.x.$1G+this.x,b.y,b.y.$1G+this.y,this.duration,this.ease)},__class__:ne});var oe=function(){this.ease=r.Linear;this.duration=0;this.x=this.y=null;s.call(this)};g["ez.display.MoveTo"]=oe;oe.__name__=["ez","display","MoveTo"];oe.__super__=ob;oe.prototype=l(ob.prototype,{$xE:function(a){this.$pF(a);var b=a.$IG[3];return this.$nF(a,b.x,null!=this.x?this.x:
b.x.$1G,b.y,null!=this.y?this.y:b.y.$1G,this.duration,this.ease)},__class__:oe});var pe=function(){this.ease=r.Linear;this.duration=0;this.x=this.y=null;s.call(this)};g["ez.display.ScaleTo"]=pe;pe.__name__=["ez","display","ScaleTo"];pe.__super__=ob;pe.prototype=l(ob.prototype,{$xE:function(a){var b=a.$IG[3];return this.$nF(a,b.scaleX,null!=this.x?this.x:b.scaleX.$1G,b.scaleY,null!=this.y?this.y:b.scaleY.$1G,this.duration,this.ease)},__class__:pe});var qh=function(){s.call(this)};g["ez.display.Show"]=
qh;qh.__name__=["ez","display","Show"];qh.__super__=s;qh.prototype=l(s.prototype,{$wE:function(a){a.$IG[3].set_visible(!0)},__class__:qh});var qe=function(){this.loop=this.waitForComplete=!0;this.state=null;s.call(this)};g["ez.movie.ChangeState"]=qe;qe.__name__=["ez","movie","ChangeState"];qe.__super__=s;qe.prototype=l(s.prototype,{$xE:function(a){if(null==this.state)return null;a=a.$IG[3];a=a instanceof ab?a:null;if(null==a)return null;if(this.loop)a.loop(this.state,!1);else if(a.play(this.state,
!0),this.waitForComplete){var b=new U;a.state.get_changed().connect(function(a,d){b.success(null)}).once();return b}return null},__class__:qe});var Ja=g["ez.property.PropertyLocation"]={__ename__:["ez","property","PropertyLocation"],__constructs__:["Global","Scene","Target"]};Ja.Global=["Global",0];Ja.Global.toString=k;Ja.Global.__enum__=Ja;Ja.Scene=["Scene",1];Ja.Scene.toString=k;Ja.Scene.__enum__=Ja;Ja.Target=["Target",2];Ja.Target.toString=k;Ja.Target.__enum__=Ja;var pb=function(){this.location=
Ja.Scene;this.property=null;s.call(this)};g["ez.property.PropertyAction"]=pb;pb.__name__=["ez","property","PropertyAction"];pb.$0F=function(a,b){switch(a[1]){case 0:var c=parseFloat(b);return isNaN(c)?0:c;case 1:return""!=b&&"0"!=b?"false"!=b:!1;case 2:return b}};pb.__super__=s;pb.prototype=l(s.prototype,{$wE:function(a){if(null!=this.property){var b=this.$yF(a),c=b.$IG[10];null==c&&(c=new Sa,b.add(c));b=c.get(this.property);a=this.$zF(a,b);c.set(this.property,a)}},$yF:function(a){switch(this.location[1]){case 0:return this.script.owner._internal_getFromParents(26).owner;
case 1:return this.script.owner._internal_getFromParents(9,nb).owner;case 2:return a}},$zF:function(a,b){return null},__class__:pb});var re=function(){this.value=1;pb.call(this)};g["ez.property.AddToProperty"]=re;re.__name__=["ez","property","AddToProperty"];re.__super__=pb;re.prototype=l(pb.prototype,{$zF:function(a,b){return b+this.value},__class__:re});var oa=g["ez.property.IfOperator"]={__ename__:["ez","property","IfOperator"],__constructs__:"Equals NotEquals LessThan LessThanOrEquals GreaterThan GreaterThanOrEquals".split(" ")};
oa.Equals=["Equals",0];oa.Equals.toString=k;oa.Equals.__enum__=oa;oa.NotEquals=["NotEquals",1];oa.NotEquals.toString=k;oa.NotEquals.__enum__=oa;oa.LessThan=["LessThan",2];oa.LessThan.toString=k;oa.LessThan.__enum__=oa;oa.LessThanOrEquals=["LessThanOrEquals",3];oa.LessThanOrEquals.toString=k;oa.LessThanOrEquals.__enum__=oa;oa.GreaterThan=["GreaterThan",4];oa.GreaterThan.toString=k;oa.GreaterThan.__enum__=oa;oa.GreaterThanOrEquals=["GreaterThanOrEquals",5];oa.GreaterThanOrEquals.toString=k;oa.GreaterThanOrEquals.__enum__=
oa;var ib=g["ez.property.PropertyType"]={__ename__:["ez","property","PropertyType"],__constructs__:["Number","Boolean","String"]};ib.Number=["Number",0];ib.Number.toString=k;ib.Number.__enum__=ib;ib.Boolean=["Boolean",1];ib.Boolean.toString=k;ib.Boolean.__enum__=ib;ib.String=["String",2];ib.String.toString=k;ib.String.__enum__=ib;var se=function(){this._value=null;this.value="";this.type=ib.Number;this.operator=oa.Equals;$.call(this)};g["ez.property.IfProperty"]=se;se.__name__=["ez","property","IfProperty"];
se.__super__=$;se.prototype=l($.prototype,{$xE:function(a){var b=Sa.find(a,this.property);null==b&&(b=0);null==this._value&&(this._value=pb.$0F(this.type,this.value));var c;switch(this.operator[1]){case 0:c=b==this._value;break;case 1:c=b!=this._value;break;case 2:c=b<this._value;break;case 3:c=b<=this._value;break;case 4:c=b>this._value;break;case 5:c=b>=this._value}return c?s.runSequence(this.subActions,a):null},__class__:se});var te=function(){this._value=null;this.value="";this.type=ib.Number;
pb.call(this)};g["ez.property.SetProperty"]=te;te.__name__=["ez","property","SetProperty"];te.__super__=pb;te.prototype=l(pb.prototype,{$zF:function(a,b){null==this._value&&(this._value=pb.$0F(this.type,this.value));return this._value},__class__:te});var ha=g["ez.scene.SceneTransition"]={__ename__:["ez","scene","SceneTransition"],__constructs__:"None Slide Fade Wipe Dream Pixelate Ripple".split(" ")};ha.None=["None",0];ha.None.toString=k;ha.None.__enum__=ha;ha.Slide=["Slide",1];ha.Slide.toString=
k;ha.Slide.__enum__=ha;ha.Fade=["Fade",2];ha.Fade.toString=k;ha.Fade.__enum__=ha;ha.Wipe=["Wipe",3];ha.Wipe.toString=k;ha.Wipe.__enum__=ha;ha.Dream=["Dream",4];ha.Dream.toString=k;ha.Dream.__enum__=ha;ha.Pixelate=["Pixelate",5];ha.Pixelate.toString=k;ha.Pixelate.__enum__=ha;ha.Ripple=["Ripple",6];ha.Ripple.toString=k;ha.Ripple.__enum__=ha;var Na=function(){this.duration=0.5;this.transition=ha.None;s.call(this)};g["ez.scene.SceneAction"]=Na;Na.__name__=["ez","scene","SceneAction"];Na.$6F=function(a,
b){for(var c=[],d=0;d<a.length;){var e=a[d];++d;0>b.indexOf(e)&&c.push(e)}return c};Na.__super__=s;Na.prototype=l(s.prototype,{$1F:function(a,b){null==b&&(b=!0);return new nb(a,b)},$2F:function(){return[]},$3F:function(a,b,c,d){var e=this,f=this.script.owner._internal_getFromParents(2),m=this.$5F(),w=new $c(f,a,this.$2F());a=null!=b?new $c(f,b,[]):null;f=[];if(c)for(var h=0,g=m.scenes;h<g.length;){var k=g[h];++h;k=k.$IG[9];k=k instanceof nb?k:null;null!=k&&(f=f.concat(ma.getRequiredAssetPacks(k.$hF)))}h=
m.get_topScene().firstComponent;if(0<w.$9F.length&&null!=a)return null!=h&&h.registerDisposable(a),c&&(a.$$F=Na.$6F(f,w.$8F.concat(a.$8F)),w.$$F=Na.$6F(a.$8F,w.$8F)),a.$_F().then(function(a){a=e.$1F(b);a.registerDisposable(w);d?m.pushScene(a):m.unwindToScene(a);a.owner.yieldForStart();var c=a.owner.$IG[10];null==c&&(a=a.owner,c=new Sa,a.add(c));c.set("progress",0);return w.$_F().progress(function(a){c.set("progress",100*a|0)})});null!=h&&h.registerDisposable(w);c&&(w.$$F=Na.$6F(f,w.$8F));m.get_topScene();
var n=m.get_topScene().$IG[10];null==n&&(c=m.get_topScene(),n=new Sa,c.add(n));n.set("progress",0);return w.$_F().progress(function(a){n.set("progress",100*a|0)})},$4F:function(){switch(this.transition[1]){case 0:return null;case 1:return new ue(this.duration);case 2:return new ad(this.duration);case 3:return new ve(this.duration);case 4:return new we(this.duration);case 5:return new xe(this.duration);case 6:return new ye(this.duration)}},$5F:function(){return this.script.owner._internal_getFromParents(8)},
__class__:Na});var ze=function(){this.disposeUnusedAssets=!0;this.onLoadError=this.loadingScene=null;Na.call(this)};g["ez.scene.ChangeScene"]=ze;ze.__name__=["ez","scene","ChangeScene"];ze.__super__=Na;ze.prototype=l(Na.prototype,{$xE:function(a){var b=this;if(null==this.scene)return null;var c=this.$5F();return this.$3F(this.scene,this.loadingScene,this.disposeUnusedAssets,!1).then(function(a){a=b.$1F(b.scene);var e=b.$4F();c.unwindToScene(a,e)}).catchError(function(c){null!=b.onLoadError&&null!=
b.script.owner&&b.script.owner.emitMessageToParents(b.onLoadError,a);return(new U).failure(c)})},__class__:ze});var Ae=function(){this.disposeUnusedAssets=!0;Na.call(this)};g["ez.scene.PopScene"]=Ae;Ae.__name__=["ez","scene","PopScene"];Ae.__super__=Na;Ae.prototype=l(Na.prototype,{$wE:function(a){this.$5F().popScene(this.$4F())},__class__:Ae});var Be=function(){this.onLoadError=this.loadingScene=null;this.opaque=!1;Na.call(this)};g["ez.scene.PushScene"]=Be;Be.__name__=["ez","scene","PushScene"];Be.__super__=
Na;Be.prototype=l(Na.prototype,{$xE:function(a){var b=this;if(null==this.scene)return null;var c=this.$5F(),d=c.get_topScene();return this.$3F(this.scene,this.loadingScene,!1,!0).then(function(a){c.$fT(d);a=b.$1F(b.scene,b.opaque);var f=b.$4F();c.pushScene(a,f)}).catchError(function(c){null!=b.onLoadError&&null!=b.script.owner&&b.script.owner.emitMessageToParents(b.onLoadError,a);return(new U).failure(c)})},__class__:Be});var $c=function(a,b,c){this.$$F=[];this.$AG=a;this.$hF=b;this.$8F=ma.getRequiredAssetPacks(b).concat(c);
this.$9F=this.$8F.filter(function(b){return!a.isLoaded(b)})};g.$CL=$c;$c.__name__=["$CL"];$c.__interfaces__=[Ra];$c.prototype={$_F:function(){var a=this,b=this.$9F.map(function(b){return a.$AG.load(b)});return U.all(b)},dispose:function(){for(var a=0,b=this.$$F;a<b.length;){var c=b[a];++a;this.$AG.removePackByName(c)}},__class__:$c};var uc=function(){this.soundChannel=null;this.loop=this.waitForComplete=this.stopWhenTargetDisposed=!1;this.volume=1;this.sound=null;s.call(this)};g["ez.sound.PlaySound"]=
uc;uc.__name__=["ez","sound","PlaySound"];uc.__super__=s;uc.prototype=l(s.prototype,{$xE:function(a){if(null==this.sound)return null;var b=this.script.owner._internal_getFromParents(2);if(null==b)return null;b=b.getSound(this.sound);b=this.loop?b.loop(this.volume):b.play(this.volume);if(null!=this.soundChannel){var c=this.soundChannel,d=uc.channels,c=null!=q[c]?d.getReserved(c):d.h[c];null!=c&&c.dispose();c=this.soundChannel;d=uc.channels;null!=q[c]?d.setReserved(c,b):d.h[c]=b}this.stopWhenTargetDisposed&&
(c=a.$IG[20],null==c&&(c=new Ce,a.add(c)),c.registerDisposable(b));if(this.waitForComplete){var e=new U;b.get_complete().watch(function(a,b){a&&e.success(null)});return e}return null},__class__:uc});var Ce=function(){B.call(this)};g.$CM=Ce;Ce.__name__=["$CM"];Ce.__super__=B;Ce.prototype=l(B.prototype,{get_entitySlot:function(){return 20},__class__:Ce});var Xc=function(a,b){this._overlayHolder=new F;this.enabled=!0;this.segmentStart=new ua;this.segmentEnd=new ua;this.segmentDrawn=new fa;B.call(this);
var c=a.$IG[1];this._canvas=c instanceof xb?c:null;this._puzzle=b;this.canvasWidth=this._canvas.info.width;this.canvasHeight=this._canvas.info.height};g["gameplay.CanvasManager"]=Xc;Xc.__name__=["gameplay","CanvasManager"];Xc.__super__=B;Xc.prototype=l(B.prototype,{get_entitySlot:function(){return 15},onStart:function(){var a=0;if(null!=this._puzzle){var b=this.owner._internal_getFromParents(2),c=this._puzzle,d=O.enumEq(c.type,ta.Memory)?"m":"s",c=b.getTexture(""+("z"+c.difficulty+"_"+c.level+"_"+
d)+"/bg",!1);null!=c&&this._canvas.owner.addChildAt((new F).add(this._bg=(new za(c)).disablePointer()),a++);c=this._puzzle;d=O.enumEq(c.type,ta.Memory)?"m":"s";c=b.getTexture(""+("z"+c.difficulty+"_"+c.level+"_"+d)+"/line");this._canvas.owner.addChildAt((new F).add(this._line=(new za(c)).disablePointer()),a++);this._canvas.owner.addChildAt(this._overlayHolder,a);this._canvas.setPaintTexture(b.getTexture("textures/"+["doodler","illustrator","masterArtist"][this._puzzle.difficulty]))}null!=this._debugGrid&&
this._canvas.owner.addChild((new F).add(this._debugGrid.setAlpha(0.4).disablePointer()),!1);this.connect1(this._canvas.segmentDrawn,(Wa=this.segmentDrawn,I(Wa,Wa.emit)));this.connect0(this._canvas.segmentEnd,(Wa=this.segmentEnd,I(Wa,Wa.emit)));this.connect0(this._canvas.segmentStart,(Wa=this.segmentStart,I(Wa,Wa.emit)))},showLine:function(a){this._line.alpha.animateTo(a?1:0,0.6,E.quadOut)},useOverlay:function(a){this.removeOverlay();this._overlayHolder.addChild(a)},removeOverlay:function(){this._overlayHolder.disposeChildren()},
showLineHint:function(){null==this._scriptRunner&&this.owner.addChild(this._scriptRunner=new F);var a=new U,b=new Ab;b.run(new $b([new De(new $b([new Kb(this._line.alpha,1,0.1),new Kb(this._line.alpha,0,0.6)]),3),new Hc(15),new jc(function(){a.success(null)})]));this._scriptRunner.add(b);return a},reset:function(){this._canvas.clear()},getDebugTexture:function(){if(null==this._debugGrid){var a=p.$IH.$hG.createTexture(Math.ceil(this.canvasWidth),Math.ceil(this.canvasHeight));this._debugGrid=new za(a);
0!=(this.$B&1)&&this._canvas.owner.addChild((new F).add(this._debugGrid.setAlpha(0.4).disablePointer()),!1);this.registerDisposable(a)}return this._debugGrid.texture},showDebugGrid:function(a){this.getDebugTexture();this._debugGrid.set_visible(a)},toggleDebugGrid:function(){this.getDebugTexture();this._debugGrid.set_visible(0==(this._debugGrid.$B&2))},__class__:Xc});var bd=function(a){this.timedOut=new ua;this.enabled=!0;this._count=0;B.call(this);this._timeToTimeout=a};g["gameplay.DrawingInactivityMonitor"]=
bd;bd.__name__=["gameplay","DrawingInactivityMonitor"];bd.__super__=B;bd.prototype=l(B.prototype,{get_entitySlot:function(){return 23},reset:function(){this._count=0;this._timedOut=!1},onUpdate:function(a){this.enabled&&(this._count+=a,this._count>=this._timeToTimeout&&(this._timedOut=!0,this._count=0,this.timedOut.emit()))},__class__:bd});var qb=function(){this._hintCount=0;this._resetClicked=this._unlikelyMessageEmitted=this._cantWinMessageEmitted=!1;this.gridChanged=new ua;L.call(this)};g["gameplay.GameEngine"]=
qb;qb.__name__=["gameplay","GameEngine"];qb.__super__=L;qb.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);var b=this.owner._internal_getFromParents(2),c=Z.getGameSelectionFromParents(this.owner).getPuzzleData(),d=this.owner._internal_getFromParents(3,N),e=["sfx/drawing","sfx/drawing","sfx/paint-loop"];this._dragSound=b.getSound(e[Math.min(c.difficulty,e.length-1)|0]);e=d.getObjectByType(xb);e=new Xc(e,c);this.owner.add(e);var f;null==C._browser&&(C._browser=
C.parse(A.string(window.location)));f=C._browser;this._maxBadRatio=f.getQueryFloat("ratio",100*c.difficultySettings.goodBadRatio)/100;this._goodPercent=f.getQueryFloat("good",100*c.difficultySettings.percentComplete)/100;f=f.getQueryInt("gridSize",c.difficultySettings.gridSize);this._session=Z.getGameSelectionFromParents(this.owner).startNewSession();d=d.getObject("timerTxt");d.yieldForStart();d=d.$IG[3];this._timerTxt=d instanceof Da?d:null;this.setupDistractors();d=new Ee(this._session);this.owner.add(this.voController=
new vc(c,this._session)).add(d);var m=O.enumEq(c.type,ta.Memory)?"m":"s",m=b.getFile(""+("z"+c.difficulty+"_"+c.level+"_"+m)+"/puzzle.json").toJson(),w=O.enumEq(c.type,ta.Memory)?"m":"s",w=b.getFile(""+("z"+c.difficulty+"_"+c.level+"_"+w)+"/bg.json",!1),w=null!=w?w.toJson():null;this.initGrid(m,w,f);this._cellsForNextStatus=this.getNextStatusCell();O.enumEq(c.type,ta.Memory)?O.enumEq(c.type,ta.Memory)&&this.memoryModeSetup():this.sketchModeSetup();this.sendTrackingEvent(!0);this.connect1(e.segmentDrawn,
I(this,this.onSegmentDrawn));this.connect0(e.segmentEnd,I(this,this.onSegmentEnd));this.connect2(d.changed,I(this,this.onTimerChange));this.connectMessage("gridToggle",function(b){a.owner.$IG[15].toggleDebugGrid()});this.connectMessage("DoneClicked",I(this,this.onDoneClicked));this.connectMessage("ReadyClicked",I(this,this.onReadyClicked));this.registerDisposable(this._unloadDynamicsOnDispose=new cd(["_dynamic"],b));this.connectMessage("restartClicked",I(this,this.onRestartClicked))},onRestartClicked:function(a){this._unloadDynamicsOnDispose.abort()},
resetCanvas:function(a){this.owner.$IG[15].reset();this.gridData.resetVisited();if(a){a=this.owner._internal_getFromParents(3,N);var b=Z.getTaskManagerFromParents(this.owner),c=this.owner.$IG[13];c.running=!1;var d=this.owner.$IG[15];d.enabled=d._canvas.set_enabled(!1);a.getLayer("bubble-container").$IG[3].set_visible(!1);b.queue(this.makeModalFromSymbol("countdown","overlay",function(){c.running=!0;d.enabled=d._canvas.set_enabled(!0)}))}},memoryModeSetup:function(){var a=this,b=this.owner._internal_getFromParents(3,
N),c=this.owner.$IG[15];c.enabled=c._canvas.set_enabled(!1);this.voController.enabled=!1;this.owner.$IG[13].running=!1;c=b.getObject("patrick").$IG[3];(c instanceof ab?c:null).loop("blindfold");b.getObject("buttonDone").$IG[3].set_visible(!1);b=this.owner._internal_getFromParents(3,N).getObject("btnHint",!1);if(null!=b){var d=b.$IG[3];this.connect1(d.get_pointerDown(),function(b){d.set_visible(!1);a.owner.$IG[15].showLineHint().then(function(b){3>a._hintCount&&d.set_visible(!0)});a._hintCount++;a._session.hintsUsed=
a._hintCount})}},onEnterMemoryDraw:function(){var a=this.owner._internal_getFromParents(3,N),b=this.owner._internal_getFromParents(4),c=this.owner.$IG[15];this.voController.enabled=!0;c.enabled=c._canvas.set_enabled(!0);this.owner.$IG[13].running=!0;var d=a.getObject("patrick").$IG[3];(d instanceof ab?d:null).loop("default");c.showLine(!1);c=a.getObject("btnHint").$IG[3];c.set_visible(!0);c.alpha.animate(0,1,0.3);a=a.getObject("buttonDone").$IG[3];a.set_visible(!0);a.alpha.animate(0,1,0.3);b.run("OnEnterMemoryDraw",
this.owner,!1)},sketchModeSetup:function(){var a=this.owner._internal_getFromParents(3,N),b=Z.getTaskManagerFromParents(this.owner),c=this.owner.$IG[13];a.getLayer("bubble-container").$IG[3].set_visible(!1);b.queue(this.makeModalFromSymbol("countdown","overlay",function(){c.running=!0}))},setupDistractors:function(){var a=Z.getGameSelectionFromParents(this.owner);this._distractorPlayed=0.5<Math.random();this._distractorTime=5+Math.random()*(0.5*a.getPuzzleData().maxTime-5)},onReadyClicked:function(a){a=
this.owner._internal_getFromParents(10).get("bubblesPlaced");if(null==a||1>a.length)Z.getTaskManagerFromParents(this.owner).queue(this.makeModalFromSymbol("no-bubble-modal","overlay",I(this,this.onEnterMemoryDraw)));else this.onEnterMemoryDraw();null!=a&&(this._session.bubblesUsed=a.length)},onDoneClicked:function(a){var b=this;if(null!=this.gridData&&!this._session.ended){a=this.owner._internal_getFromParents(8);var c=new nb("done-modal",!1),d=p.root.$IG[10];c.hidden.connect(function(){if(!0==d.get("_confirm")){var a=
0.2*b._goodPercent,c=0.5*a,a=c+Math.random()*(a-c);b.didMeetWinCriteria(b._session.badRatio,b._session.goodPercent+a)?b.triggerWin():b.triggerLose()}}).once();a.pushScene(c)}},makeModalFromSymbol:function(a,b,c,d){null==b&&(b="overlay");return this.makeModalTask(this.makeSymbolModal(a),b,c,d)},makeModalTask:function(a,b,c,d){null==b&&(b="overlay");var e=this.owner._internal_getFromParents(3,N);return new Fe(a,e.getLayer(b),c,d)},makeSymbolModal:function(a){a=this.owner._internal_getFromParents(2).getSceneSymbol(a);
return(new F).add(a.createSprite()).add(a.createScript())},initGrid:function(a,b,c){var d=this.owner.$IG[15];this.gridData=new Yc(d.canvasWidth,d.canvasHeight,c);null!=b&&this.processSegs(b,(Wa=this.gridData,I(Wa,Wa.drawNeutralLine)));this.processSegs(a,(Wa=this.gridData,I(Wa,Wa.drawGoodLine)));null!=b&&this.gridData.recountGrid();a=this.gridData;this._maxCellsCanMiss=this._maxBadRatio*(a.totalCells-a.badCells)},processSegs:function(a,b){for(var c=0,d=a.length;c<d;)for(var e=c++,e=a[e],f=2,m=e[0],
w=e[1];f<e.length;)b(m,w,e[f],e[f+1]),m=e[f],w=e[f+1],f+=2},onTimerChange:function(a,b){this._timerTxt.set_text(b);var c=Z.getTaskManagerFromParents(this.owner);if(a>this._distractorTime&&0==c._queue.length&&!this._distractorPlayed){var d=this.owner.$IG[15];this._distractorPlayed=!0;var e=this.owner.$IG[13];e.running=!1;this.voController.playDistractor(function(){d.enabled=d._canvas.set_enabled(!0);e.running=!0})}c=this.gridData;c.badVisited+c.goodVisited>this._cellsForNextStatus&&!this._session.ended&&
(this.voController.playStatusVO(),this._cellsForNextStatus=this.getNextStatusCell());this.updateDebugInfo()},triggerWin:function(){var a=this;this._session.win=!0;this._session.end();this.sendTrackingEvent(!1);this.owner._internal_getFromParents(3,N).disablePointer();var b=this.owner.$IG[15];b.enabled=b._canvas.set_enabled(!1);this.owner.$IG[13].running=!1;b.showLine(!0);b=this.owner._internal_getFromParents(3,N).getObject("btnHint",!1);null!=b&&(b=b.$IG[3],b.disablePointer(),b.alpha.animateTo(0,
0.3));this.owner.emitMessageToParents("OnFinalGuessStart",this.owner);this.voController.playWinVO().addCallbackToQueue(function(){a.owner.emitMessageToParents("OnWin",a.owner)})},triggerLose:function(){var a=this;this._session.win=!1;this._session.end();this.sendTrackingEvent(!1);var b=this.owner.$IG[15];b.enabled=b._canvas.set_enabled(!1);this.owner.$IG[13].running=!1;this.owner._internal_getFromParents(3,N).disablePointer();b.showLine(!0);this.owner.emitMessageToParents("OnFinalGuessStart",this.owner);
this.voController.playLoseVO().addCallbackToQueue(function(){a.owner.emitMessageToParents("OnLose",a.owner)})},onWinImpossible:function(){this.owner.emitMessageToParents("OnWinImpossible",this.owner)},onWinUnlikely:function(){this.owner.emitMessageToParents("OnWinUnlikely",this.owner)},dispose:function(){null!=this._dragPlayback&&(this._dragPlayback.dispose(),this._dragPlayback=null);L.prototype.dispose.call(this)},onSegmentDrawn:function(a){if(null!=this.gridData&&(null==this._dragSound||null!=this._dragPlayback&&
!this._dragPlayback.get_complete().$1G||(this._dragPlayback=this._dragSound.play(0.5)),this.gridData.visitAlongLine(a[0],a[1],a[2],a[3]))){this.gridChanged.emit();this.updateDebugInfo();a=this.gridData.badVisited/this.gridData.goodVisited;var b=this.gridData,b=this.gridData.goodVisited/(b.totalCells-b.badCells);this.gridData.badVisited>this._maxCellsCanMiss&&!this._cantWinMessageEmitted?(this._cantWinMessageEmitted=!0,this.onWinImpossible()):this.isUnlikelyToWin()&&!this._unlikelyMessageEmitted&&
(this._unlikelyMessageEmitted=!0,this.onWinUnlikely());this._session.badRatio=a;this._session.goodPercent=b;this.didMeetWinCriteria(a,b)&&this.triggerWin()}},onSegmentEnd:function(){null!=this._dragPlayback&&(this._dragPlayback.dispose(),this._dragPlayback=null)},getNextStatusCell:function(){var a=this.gridData,b=this.gridData;return a.badVisited+a.goodVisited+(b.totalCells-b.badCells)/3},isUnlikelyToWin:function(){var a=this.gridData,b=this.gridData;return a.badVisited+a.goodVisited>b.totalCells-
b.badCells},didMeetWinCriteria:function(a,b){return b>=this._goodPercent?a<=this._maxBadRatio:!1},sendTrackingEvent:function(a){var b=["matchID",A.string(this._session.level),"matchType",A.string(this._session.type),"difficultyLevel",["Easy","Medium","Hard"][this._session.difficulty],"sketchesPlayed",this._session.sessionNum];a||(b=b.concat(["controlScheme",this.inputToTrackingString(this._session.inputMode),"matchResult",this._session.win?"Successful":"Unsuccessful","matchName","Level "+this._session.level,
"timeSpentInMatch",this._session.totalTime,"bubblesUsed",this._session.bubblesUsed,"hintsUsed",this._session.hintsUsed]));b.unshift(a?"matchStarted":"matchSummary");ga.track(b)},inputToTrackingString:function(a){return O.enumEq(a,Ca.Standard)?"Mouse":A.string(a)},updateDebugInfo:function(){var a=this.owner._internal_getFromParents(3,N),b=a.getObject("good").$IG[3],b=b instanceof na?b:null,c=a.getObject("bad").$IG[3],c=c instanceof na?c:null,d=a.getObject("total").$IG[3],d=d instanceof na?d:null,e=
a.getObject("ratio").$IG[3],f=e instanceof na?e:null,e=a.getObject("goodCell").$IG[3],e=e instanceof na?e:null,m=a.getObject("badCell").$IG[3],w=m instanceof na?m:null,m=a.getObject("gridSize").$IG[3],m=m instanceof na?m:null,h=a.getObject("time").$IG[3],h=h instanceof na?h:null,g=this.gridData;b.set_text("Good: "+Math.round(this.gridData.goodVisited/(g.totalCells-g.badCells)*100)+"%");c.set_text("Bad: "+Math.round(this.gridData.badVisited/this.gridData.badCells*100)+"%");0<this.gridData.badVisited&&
0<this.gridData.goodVisited?f.set_text("Bad Ratio: "+Math.round(this.gridData.badVisited/this.gridData.goodVisited*100)+"%"):f.set_text("Bad Ratio: 0%");b=this.gridData;d.set_text("Total: "+Math.round((b.badVisited+b.goodVisited)/this.gridData.totalCells*100)+"%");b=this.gridData;e.set_text("Good Cells: "+(b.totalCells-b.badCells));w.set_text("Bad Cells: "+this.gridData.badCells);a=a.getObject("gbRatio").$IG[3];b=this.gridData;(a instanceof na?a:null).set_text("G/B Ratio: "+Math.round((b.totalCells-
b.badCells)/this.gridData.badCells*100)+"%");h.set_text("Time: "+Math.round(this.owner.$IG[13].elapsed));m.set_text("Grid Size: "+Math.round(this.gridData.gridSize))},__class__:qb});var Sd=function(){this._changed=!0;this.prevSessions=[];var a=this;B.call(this);var b=function(b,d){a._changed=!0};this.level=new qa(0,b);this.difficulty=new qa(0,b);this.type=new qa(ta.Sketch,b);this.input=new qa(R.get_mobile()?Ca.Mobile:Ca.Standard,b)};g["gameplay.GameSelection"]=Sd;Sd.__name__=["gameplay","GameSelection"];
Sd.__super__=B;Sd.prototype=l(B.prototype,{get_entitySlot:function(){return 12},onStart:function(){var a=this.owner._internal_getFromParents(2);T.loadDatabase(a.getFile("puzzle-data.cdb").toString())},getPuzzleData:function(){if(this._changed){this._changed=!1;var a=R.get_mobile()?10:20;this._currentData=T.fromDB(this.level.$1G,this.difficulty.$1G,this.type.$1G,this.input.$1G,a)}return this._currentData},startNewSession:function(){var a=0;null!=this.session&&this.session.ended&&(this.prevSessions.push(this.session),
a=this.session.sessionNum+1);this.session=this.getPuzzleData().makeSession();this.session.sessionNum=a;return this.session},__class__:Sd});var Ge=function(){this._bubbleSuccessfullyPlaced=!1;qb.call(this)};g["gameplay.MemoryTutorialEngine"]=Ge;Ge.__name__=["gameplay","MemoryTutorialEngine"];Ge.__super__=qb;Ge.prototype=l(qb.prototype,{sketchModeSetup:function(){},onRestartClicked:function(a){this.owner.$IG[15].reset();this.gridData.resetVisited()},memoryModeSetup:function(){var a=this;this._distractorPlayed=
!0;var b=this.owner._internal_getFromParents(3,N),c=Z.getTaskManagerFromParents(this.owner),d=this.owner._internal_getFromParents(2);this._bubbleMarkers=(new F).add((new za(d.getTexture("tutorialImages/uiTutorial_targets"))).disablePointer());this._bubbleMarkers.$IG[3].alpha.set_behavior(new He(0.7,1,0.3));this.owner.$IG[15].useOverlay(this._bubbleMarkers);b.getLayer("bubble-container").$IG[3].disablePointer();var d=b.owner.parent.$IG[10],e=this.owner.$IG[15];e.enabled=e._canvas.set_enabled(!1);this.voController.enabled=
!1;this.owner.$IG[13].running=!1;this._bubblePropertyChangeHandle=d.changed.connect(I(this,this.onPropertyBagChanged));this.registerDisposable(this._bubblePropertyChangeHandle);b=b.getObject("patrick").$IG[3];(b instanceof ab?b:null).loop("blindfold");b=this.owner._internal_getFromParents(3,N).getObject("btnHint",!1);if(null!=b){var f=b.$IG[3];this.connect1(f.get_pointerDown(),function(b){f.set_visible(!1);a.owner.$IG[15].showLineHint().then(function(b){3>a._hintCount&&f.set_visible(!0)})})}c.queue(this.makeModalFromSymbol("memoryTutorial/memory-intro",
"overlay",I(this,this.setupBubbleDragging)))},setupBubbleDragging:function(){var a=this.owner._internal_getFromParents(3,N);Z.getTaskManagerFromParents(this.owner);var b=a.getLayer("bubble-container").$IG[3];this._bubbleDragLayer=this.makeSymbolModal("memoryTutorial/place-bubbles");this._bubbleDragLayer.$IG[3].disablePointer();a.getLayer("overlay").addChildAt(this._bubbleDragLayer,1);var a=this._bubbleDragLayer.$IG[3],c=this.connectMessage("dragStart",I(this,this.onDragStart));a.registerDisposable(c);
c=this.connectMessage("dragFail",I(this,this.onDragFail));a.registerDisposable(c);c=this.connectMessage("dragSuccess",I(this,this.onDragSuccess));a.registerDisposable(c);b.set_pointerEnabled(!0)},onDragStart:function(a){null!=this._bubbleDragLayer&&this._bubbleDragLayer.$IG[4].run("HideHand",this._bubbleDragLayer,!1)},onDragSuccess:function(a){null==this._bubbleDragLayer||this._bubbleSuccessfullyPlaced||(this._bubbleSuccessfullyPlaced=!0,this._bubbleDragLayer.dispose(),this._bubbleDragLayer=this.makeSymbolModal("memoryTutorial/continue-bubbles"),
this._bubbleDragLayer.$IG[3].disablePointer(),this.owner._internal_getFromParents(3,N).getLayer("overlay").addChildAt(this._bubbleDragLayer,1))},onDragFail:function(a){null==this._bubbleDragLayer||this._bubbleSuccessfullyPlaced||this._bubbleDragLayer.$IG[4].run("ShowHand",this._bubbleDragLayer,!1)},onBubblesSuccessfullyPlaced:function(){var a=this;null!=this._bubbleDragLayer&&this._bubbleDragLayer.dispose();this._bubbleMarkers.dispose();var b=Z.getTaskManagerFromParents(this.owner);this.owner._internal_getFromParents(3,
N).getLayer("bubble-container").$IG[3].disablePointer();b.queue(this.makeModalFromSymbol("memoryTutorial/ready-click","overlay",function(){a.onEnterMemoryDraw()}))},onEnterMemoryDraw:function(){var a=this,b=this.owner._internal_getFromParents(3,N),c=this.owner._internal_getFromParents(4),d=this.owner.$IG[15],e=Z.getTaskManagerFromParents(this.owner),f=b.getObject("btnHint").$IG[3];c.run("OnEnterMemoryDraw",this.owner,!1).then(function(b){b=a.makeModalFromSymbol("memoryTutorial/lines-fade","overlay",
function(){d.showLine(!1);c.run("BlindfoldOff",a.owner)});e.queue(b).queue(a.makeModalFromSymbol("memoryTutorial/hint-click","overlay",function(){d.enabled=d._canvas.set_enabled(!0);f.set_visible(!0);a.setupTrace()}))})},setupTrace:function(){null!=this._drawingModal&&(this._drawingModal.dispose(),this._drawingModal=null);var a=this.owner.$IG[23];if(null==a){var b=this.owner,a=new bd(5);b.add(a);a.connect0(a.timedOut,I(this,this.onWinImpossible))}a.enabled=!1;this.owner.$IG[13].running=!0;Z.getTaskManagerFromParents(this.owner);
a=this.owner._internal_getFromParents(3,N);b=this.owner.$IG[15];b.enabled=b._canvas.set_enabled(!0);b.showLineHint();a.getObject("btnHint").$IG[3].set_visible(!0);this._drawingModal=b=this.makeSymbolModal("memoryTutorial/draw-lines");this._drawingModal.$IG[3].disablePointer();a.getLayer("overlay").addChild(b)},onPropertyBagChanged:function(a,b){if("bubblesPlaced"==a)6==b&&(this._bubblePropertyChangeHandle.dispose(),this.onBubblesSuccessfullyPlaced());else if("bubbles"==a)for(var c=0;c<b.length;)++c},
triggerWin:function(){var a=this;this._session.win=!0;this._session.end();var b=this.owner.$IG[15];b.enabled=b._canvas.set_enabled(!1);this.owner.$IG[13].running=!1;null!=this._drawingModal&&this._drawingModal.dispose();b=this.owner.$IG[23];null!=b&&b.dispose();var b=this.owner._internal_getFromParents(3,N),c=b.owner.$IG[4];b.getObject("btnHint").$IG[3].set_visible(!1);b=Z.getTaskManagerFromParents(this.owner);this.owner.$IG[11].playWinVO(!1);b.queue(new kc(function(){c.run("OnWin",a.owner)}))},triggerLose:function(){},
onWinUnlikely:function(){this.onWinImpossible()},onWinImpossible:function(){var a=this;null!=this._drawingModal&&this._drawingModal.dispose();this._unlikelyMessageEmitted=this._cantWinMessageEmitted=!1;var b=this.owner.$IG[15],c=Z.getTaskManagerFromParents(this.owner);b.enabled=b._canvas.set_enabled(!1);b.showLine(!0);this.owner._internal_getFromParents(3,N).getObject("btnHint").$IG[3].set_visible(!1);var d=this.makeModalFromSymbol("memoryTutorial/try-again","overlay",function(){c.clearNonRunning();
b.reset();a.gridData.resetVisited();a.setupTrace()});c.queue(d)},onSegmentDrawn:function(a){null!=this._drawingModal&&1<this.gridData.goodVisited&&this._drawingModal.$IG[4].run("OnLineDrawing",this._drawingModal,!1);var b=this.owner.$IG[23];null!=b&&(b.enabled=!0,b.reset());qb.prototype.onSegmentDrawn.call(this,a)},getNextStatusCell:function(){return this.gridData.totalCells+1},updateDebugInfo:function(){},__class__:Ge});var rh=function(){};g["kit.MessageResult"]=rh;rh.__name__=["kit","MessageResult"];
rh.prototype={__class__:rh};var F=function(){this.active=!0;this.parent=this.firstChild=this.next=this.firstComponent=null;this.$IG={}};g["kit.Entity"]=F;F.__name__=["kit","Entity"];F.__interfaces__=[Ra];F.$JG=function(a){for(var b=null;null!=a;)b=a,a=a.next;return b};F.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_entitySlot(),c=this.$IG[b];null!=c&&this.remove(c);this.$IG[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;
a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),a=c.get_entitySlot(),delete this.$IG[a],0!=(c.$B&1)&&(c.onStop(),c.$B&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;b?this.$EG(F.$JG(this.firstChild),a):this.$FG(a);return this},addChildAt:function(a,
b){null!=a.parent&&a.parent.removeChild(a);a.parent=this;this.$EG(this.$HG(b),a);return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){if(c==a){this.$DG(b);c.parent=null;c.next=null;break}b=c;c=c.next}},emitMessage:function(a,b){for(var c=!1,d=this.firstComponent;null!=d;){var e=d.next;d.onMessage(a,b)&&(c=!0);d=e}F.$KG.handled=c;return F.$KG},emitMessageToParents:function(a,b){for(var c=!1,d=this;;){var e=d.parent;d.emitMessage(a,b).handled&&(c=!0);d=e;if(null==d)break}F.$KG.handled=
c;return F.$KG},emitMessageToChildren:function(a,b){for(var c=this.emitMessage(a,b).handled,d=this.firstChild;null!=d;){var e=d.next;d.emitMessageToChildren(a,b).handled&&(c=!0);d=e}F.$KG.handled=c;return F.$KG},get_zIndex:function(){var a=0;if(null!=this.parent)for(var b=this.parent.firstChild;null!=b&&b!=this;)b=b.next,++a;return a},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();
this.disposeChildren()},yieldForStart:function(){for(var a=this.firstComponent;null!=a;){var b=a.next;0==(a.$B&1)&&(a.$B|=1,a.$A(),a.onStart());a=b}for(a=this.firstChild;null!=a;)b=a.next,a.yieldForStart(),a=b},_internal_getFromParents:function(a,b){for(var c=this;;){var d=c.$IG[a];null!=b&&(d=d instanceof b?d:null);if(null!=d)return d;c=c.parent;if(null==c)break}return null},_internal_getFromChildren:function(a,b){var c=this.$IG[a];null!=b&&(c=c instanceof b?c:null);if(null!=c)return c;for(c=this.firstChild;null!=
c;){var d=c._internal_getFromChildren(a,b);if(null!=d)return d;c=c.next}return null},$DG:function(a){null!=a?a.next=a.next.next:this.$GG()},$EG:function(a,b){null!=a?(b.next=a.next,a.next=b):this.$FG(b)},$FG:function(a){a.next=this.firstChild;this.firstChild=a},$GG:function(){this.firstChild=this.firstChild.next},$HG:function(a){for(var b=null,c=this.firstChild;null!=c&&0<a;)b=c,c=c.next,--a;return b},__class__:F,__properties__:{get_zIndex:"get_zIndex"}};var dd=function(){L.call(this)};g["gameplay.ResultsEngine"]=
dd;dd.__name__=["gameplay","ResultsEngine"];dd.__super__=L;dd.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);var b=Z.getGameSelectionFromParents(this.owner);null==b.session&&b.startNewSession();var c=this.owner._internal_getFromParents(3,N),d=this.owner._internal_getFromParents(17),e=b.getPuzzleData().getStorageKey()+"-bestTime",f=!1,m=!1,w=!1,h=O.enumEq(b.type.$1G,ta.Memory);c.getLayer("modeSketch").$IG[3].set_visible(h);c.getLayer("modeMemory").$IG[3].set_visible(!h);
b.session.win&&(f=T.unlockLevel(0,0,ta.Memory),m=T.unlockDifficulty(0,b.type.$1G),m||(c=b.session.difficulty+1,T.isUnlocked(c,0,b.session.type)||(w=(w=T.unlockDifficulty(c,b.session.type))?3>c:!1)));var c=!d.exists(e),g=d.getFloat(e,b.session.totalTime),h=!1;b.session.win&&(b.session.totalTime<g||c)&&0<b.session.totalTime&&(h=!0,d.setFloat(e,b.session.totalTime));null!=this.highScore&&this.highScore.yieldForStart();null!=this.time&&this.time.yieldForStart();var k=bb.getTextSetter(this.time,1);bb.getTextSetter(this.highScore,
1)(this.formattedTime(g));d=function(b,c){var d=a.formattedTime(b);k(d)};d(0,0);this._score=new V(0,d);this._score.animateTo(b.session.totalTime,0.01*b.session.totalTime);d=this.owner._internal_getFromParents(4);c&&null!=this.onFirstPlay&&d.run(this.onFirstPlay,this.owner,!1);h&&!c&&null!=this.onNewBestTime&&d.run(this.onNewBestTime,this.owner,!1);f&&(ga.track(["featureUnlock","featureName","Memory Mode"]),null!=this.onMemoryUnlock&&d.run(this.onMemoryUnlock,this.owner));m&&(ga.track(["featureUnlock",
"featureName",this.trackingString(0,b.session.type)]),null!=this.onEasyUnlock&&d.run(this.onEasyUnlock,this.owner));w&&(f=b.session.difficulty+1,1==f&&null!=this.onMediumUnlock?d.run(this.onMediumUnlock,this.owner):2==f&&null!=this.onHardUnlock&&d.run(this.onHardUnlock,this.owner),ga.track(["featureUnlock","featureName",this.trackingString(f,b.session.type)]))},onUpdate:function(a){L.prototype.onUpdate.call(this,a);null!=this._score&&this._score.update(a)},trackingString:function(a,b){return""+["Easy",
"Medium","Hard"][a]+" "+A.string(b)+" Levels"},formattedTime:function(a){return Math.floor(a/60)+":"+bb.zeroPad(Math.floor(a%60),2)},__class__:dd});var Ie=function(){qb.call(this)};g["gameplay.SketchTutorialEngine"]=Ie;Ie.__name__=["gameplay","SketchTutorialEngine"];Ie.__super__=qb;Ie.prototype=l(qb.prototype,{sketchModeSetup:function(){this._distractorPlayed=!0;this.owner.$IG[11].enabled=!1;this.showIntroAnimation()},showIntroAnimation:function(){null!=this._drawingModal&&(this._drawingModal.dispose(),
this._drawingModal=null);var a=this.owner.$IG[23];if(null==a){var b=this.owner,a=new bd(5);b.add(a);a.connect0(a.timedOut,I(this,this.onWinImpossible))}a.enabled=!1;this.owner.$IG[13].running=!0;Z.getTaskManagerFromParents(this.owner);a=this.owner._internal_getFromParents(3,N);b=this.owner.$IG[15];b.enabled=b._canvas.set_enabled(!0);this._drawingModal=b=this.makeSymbolModal("sketchTutorial/sketch-intro");this._drawingModal.$IG[3].disablePointer();a.getLayer("overlay").addChild(b)},triggerWin:function(){var a=
this;null!=this._drawingModal&&(this._drawingModal.dispose(),this._drawingModal=null);var b=this.owner.$IG[23];null!=b&&b.dispose();this.owner.$IG[13].running=!1;this._session.win=!0;this._session.end();b=this.owner.$IG[15];b.enabled=b._canvas.set_enabled(!1);this.owner.$IG[13].running=!1;var c=this.owner._internal_getFromParents(3,N),d=c.owner.$IG[4],e=c.getObject("buttonReset").$IG[3],f=c.getObject("buttonDone").$IG[3];c.getObject("patrick").$IG[3].set_visible(!0);b=Z.getTaskManagerFromParents(this.owner);
b.queue(this.makeModalFromSymbol("sketchTutorial/success","overlay"));this.owner.$IG[11].playWinVO(!1);b.queue(new kc(function(){c.getObject("uiContainer_time").$IG[3].set_visible(!0);c.getObject("timerTxt").$IG[3].set_visible(!0)})).queue(this.makeModalFromSymbol("sketchTutorial/timer","overlay")).queue(this.makeModalFromSymbol("sketchTutorial/reset","overlay",function(){e.set_visible(!0)})).queue(this.makeModalFromSymbol("sketchTutorial/done","overlay",function(){f.set_visible(!0);d.run("OnWin",
a.owner)}))},triggerLose:function(){},onWinUnlikely:function(){this.onWinImpossible()},isUnlikelyToWin:function(){var a=this.gridData,b=this.gridData;return a.badVisited+a.goodVisited>0.94*(b.totalCells-b.badCells)},onWinImpossible:function(){var a=this;this._unlikelyMessageEmitted=this._cantWinMessageEmitted=!1;null!=this._drawingModal&&this._drawingModal.dispose();var b=this.owner.$IG[15],c=Z.getTaskManagerFromParents(this.owner);b.enabled=b._canvas.set_enabled(!1);c.queue(this.makeModalFromSymbol("sketchTutorial/dotted-hint",
"overlay",function(){b.reset();a.gridData.resetVisited();b.enabled=b._canvas.set_enabled(!0);a.showIntroAnimation()}))},onSegmentDrawn:function(a){null!=this._drawingModal&&1<this.gridData.goodVisited&&this._drawingModal.$IG[4].run("OnLineDrawing",this._drawingModal,!1);var b=this.owner.$IG[23];null!=b&&(b.enabled=!0,b.reset());qb.prototype.onSegmentDrawn.call(this,a)},getNextStatusCell:function(){return this.gridData.totalCells+1},updateDebugInfo:function(){},__class__:Ie});var Ee=function(a){this.changed=
new gc;this.elapsed=0;this.running=!1;B.call(this);this._session=a};g["gameplay.TimeController"]=Ee;Ee.__name__=["gameplay","TimeController"];Ee.__super__=B;Ee.prototype=l(B.prototype,{get_entitySlot:function(){return 13},onUpdate:function(a){this.running&&(this.elapsed+=a,this._session.totalTime=this.elapsed,a=Math.floor(this.elapsed%60),this.changed.emit(this.elapsed,bb.zeroPad(Math.floor(this.elapsed/60),2)+":"+bb.zeroPad(a,2)))},__class__:Ee});var Lb=function(){s.call(this)};g["gameplay.actions.PuzzleSceneAction"]=
Lb;Lb.__name__=["gameplay","actions","PuzzleSceneAction"];Lb.$6F=function(a,b){for(var c=[],d=0;d<a.length;){var e=a[d];++d;0>b.indexOf(e)&&c.push(e)}return c};Lb.__super__=s;Lb.prototype=l(s.prototype,{createScene:function(a,b){null==b&&(b=!0);return new nb(a,b)},getAdditionalPackNames:function(){return[]},getAdditionalManifests:function(){return new Q},loadScene:function(a,b,c,d){var e=this,f=this.script.owner._internal_getFromParents(2),m=this.getDirector(),w=new ed(f,a,this.getAdditionalPackNames(),
this.getAdditionalManifests());a=null!=b?new ed(f,b,[],new Q):null;f=[];if(c)for(var h=0,g=m.scenes;h<g.length;){var k=g[h];++h;k=k.$IG[9];k=k instanceof nb?k:null;null!=k&&(f=f.concat(ma.getRequiredAssetPacks(k.$hF)))}h=m.get_topScene().firstComponent;if(0<w.needsLoad.length&&null!=a)return null!=h&&h.registerDisposable(a),c&&(a.needsDispose=Lb.$6F(f,w.willBeUsed.concat(a.willBeUsed)),w.needsDispose=Lb.$6F(a.willBeUsed,w.willBeUsed)),a.load().then(function(a){a=e.createScene(b);a.registerDisposable(w);
if(d){var c=e.createLoaderTransition();m.pushScene(a,c)}else c=e.createLoaderTransition(),m.unwindToScene(a,c);a.owner.yieldForStart();var f=a.owner.$IG[10];null==f&&(a=a.owner,f=new Sa,a.add(f));f.set("progress",0);return w.load().progress(function(a){f.set("progress",100*a|0)})});null!=h&&h.registerDisposable(w);c&&(w.needsDispose=Lb.$6F(f,w.willBeUsed));m.get_topScene();var n=m.get_topScene().$IG[10];null==n&&(c=m.get_topScene(),n=new Sa,c.add(n));n.set("progress",0);return w.load().progress(function(a){n.set("progress",
100*a|0)})},createLoaderTransition:function(){return new ad(0.3,E.sineInOut)},createTransition:function(){var a=p.root._internal_getFromParents(2),b=a.getLibrary("transition"),a=a.getSound("sfx/bubble-transition");return(new Je(b.createSprite("face_group",!0))).useSound(a)},getDirector:function(){return this.script.owner._internal_getFromParents(8)},__class__:Lb});var Ke=function(){this.disposeUnusedAssets=!0;this.onLoadError=this.loadingScene=null;s.call(this)};g["gameplay.actions.ChangePuzzleScene"]=
Ke;Ke.__name__=["gameplay","actions","ChangePuzzleScene"];Ke.__super__=Lb;Ke.prototype=l(Lb.prototype,{$xE:function(a){var b=this;if(null==this.scene)return null;this._isGameScene=-1<["gameplay","interactive-sketch-tutorial","interactive-memory-tutorial"].indexOf(this.scene);var c=this.getDirector();return this.loadScene(this.scene,this.loadingScene,this.disposeUnusedAssets,!1).then(function(a){a=b.createScene(b.scene);var e=b.createTransition();c.unwindToScene(a,e)}).catchError(function(c){null!=
b.onLoadError&&null!=b.script.owner&&b.script.owner.emitMessageToParents(b.onLoadError,a);return(new U).failure(c)})},getAdditionalPackNames:function(){if(this._isGameScene){var a=Z.getGameSelectionFromParents(p.root).getPuzzleData(),b=O.enumEq(a.type,ta.Memory)?"m":"s";return["z"+a.difficulty+"_"+a.level+"_"+b]}return[]},getAdditionalManifests:function(){var a=new Q;if(this._isGameScene){var b=Z.getGameSelectionFromParents(p.root).getPuzzleData(),c=this.script.owner._internal_getFromParents(2),d=
b.voManifest;null!=q._dynamic?a.setReserved("_dynamic",d):a.h._dynamic=d;null!=c.localBase&&(b.voManifest.$hH=c.localBase);null!=c.remoteBase&&(b.voManifest.$iH=c.remoteBase)}return a},__class__:Ke});var Le=function(){$.call(this)};g["gameplay.actions.IfInputType"]=Le;Le.__name__=["gameplay","actions","IfInputType"];Le.__super__=$;Le.prototype=l($.prototype,{$xE:function(a){var b=Z.getGameSelectionFromParents(a);return(b=O.enumEq(this.value,b.input.$1G))&&this.equals||!b&&!this.equals?s.runSequence(this.subActions,
a):null},__class__:Le});var Me=function(){$.call(this)};g["gameplay.actions.IfPuzzleMode"]=Me;Me.__name__=["gameplay","actions","IfPuzzleMode"];Me.__super__=$;Me.prototype=l($.prototype,{$xE:function(a){var b=Z.getGameSelectionFromParents(a);return O.enumEq(this.value,b.type.$1G)?s.runSequence(this.subActions,a):null},__class__:Me});var Ne=function(){this.value=!0;$.call(this)};g["gameplay.actions.IfTutorialViewed"]=Ne;Ne.__name__=["gameplay","actions","IfTutorialViewed"];Ne.__super__=$;Ne.prototype=
l($.prototype,{$xE:function(a){var b=a._internal_getFromParents(17),c=Z.getGameSelectionFromParents(a),c=O.enumEq(c.type.$1G,ta.Memory)?"Memory":"Sketch";return b.getBool("instructions"+c,!1)==this.value?s.runSequence(this.subActions,a):null},__class__:Ne});var ed=function(a,b,c,d){this.needsDispose=[];this._assets=a;this._name=b;this.willBeUsed=ma.getRequiredAssetPacks(b).concat(c);this.needsLoad=this.willBeUsed.filter(function(b){return!a.isLoaded(b)});this.dynamicPacks=d};g["gameplay.actions._PuzzleSceneAction.SceneLoader"]=
ed;ed.__name__=["gameplay","actions","_PuzzleSceneAction","SceneLoader"];ed.__interfaces__=[Ra];ed.prototype={load:function(){for(var a=this,b=this.needsLoad.map(function(b){return a._assets.load(b)}),c=[],d=this.dynamicPacks.keys();d.hasNext();){var e=d.next(),f=this.dynamicPacks;c.push(this._assets.loadManifest(null!=q[e]?f.getReserved(e):f.h[e],e));this.willBeUsed.push(e)}return U.all(b.concat(c))},dispose:function(){for(var a=0,b=this.needsDispose;a<b.length;){var c=b[a];++a;this._assets.removePackByName(c)}},
__class__:ed};var Oe=function(){s.call(this)};g["gameplay.actions.SetDifficulty"]=Oe;Oe.__name__=["gameplay","actions","SetDifficulty"];Oe.__super__=s;Oe.prototype=l(s.prototype,{$wE:function(a){Z.getGameSelectionFromParents(a).difficulty.set__(this.difficulty)},__class__:Oe});var Pe=function(){s.call(this)};g["gameplay.actions.SetGameType"]=Pe;Pe.__name__=["gameplay","actions","SetGameType"];Pe.__super__=s;Pe.prototype=l(s.prototype,{$wE:function(a){Z.getGameSelectionFromParents(a).type.set__(this.type)},
__class__:Pe});var Qe=function(){s.call(this)};g["gameplay.actions.SetInputAction"]=Qe;Qe.__name__=["gameplay","actions","SetInputAction"];Qe.__super__=s;Qe.prototype=l(s.prototype,{$wE:function(a){Z.getGameSelectionFromParents(a).input.set__(this.mode)},__class__:Qe});var fd=function(){};g["haxe.IMap"]=fd;fd.__name__=["haxe","IMap"];fd.prototype={__class__:fd};var sh=function(a){this.url=a;this.headers=new pc;this.params=new pc;this.async=!0;this.withCredentials=!1};g["haxe.Http"]=sh;sh.__name__=
["haxe","Http"];sh.prototype={setHeader:function(a,b){this.headers=Ub.filter(this.headers,function(b){return b.header!=a});this.headers.push({header:a,value:b});return this},setPostData:function(a){this.postData=a;return this},request:function(a){var b=this;b.responseData=null;var c=this.req=Re.createXMLHttpRequest(),d=function(a){if(4==c.readyState){var d;try{d=c.status}catch(e){d=null}null!=d&&"undefined"!==typeof window&&(a=window.location.protocol.toLowerCase(),(new Ga("^(?:about|app|app-storage|.+-extension|file|res|widget):$",
"")).match(a)&&(d=null!=c.responseText?200:404));void 0==d&&(d=null);if(null!=d)b.onStatus(d);if(null!=d&&200<=d&&400>d)b.req=null,b.onData(b.responseData=c.responseText);else if(null==d)b.req=null,b.onError("Failed to connect or resolve host");else switch(d){case 12007:b.req=null;b.onError("Unknown host");break;case 12029:b.req=null;b.onError("Failed to connect to host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=
d);var e=this.postData;if(null!=e)a=!0;else for(var f=this.params.h;null!=f;)var m=f.item,f=f.next,e=null==e?"":e+"&",w=encodeURIComponent(m.param)+"=",e=e+(w+encodeURIComponent(m.value));try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var h=1>=this.url.split("?").length;c.open("GET",this.url+(h?"?":"&")+e,this.async);e=null}else c.open("GET",this.url,this.async)}catch(g){g instanceof v&&(g=g.val);b.req=null;this.onError(g.toString());return}c.withCredentials=this.withCredentials;!Ub.exists(this.headers,
function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.h;null!=a;)f=a.item,a=a.next,c.setRequestHeader(f.header,f.value);c.send(e);this.async||d(null)},onData:function(a){},onError:function(a){},onStatus:function(a){},__class__:sh};var rb=function(){this.buf=new Wb;this.cache=[];this.useCache=rb.USE_CACHE;this.useEnumIndex=rb.USE_ENUM_INDEX;this.shash=new Q;this.scount=0};g["haxe.Serializer"]=
rb;rb.__name__=["haxe","Serializer"];rb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash,b=null!=q[a]?b.getReserved(a):b.h[a];if(null!=b)this.buf.b+="R",this.buf.b+=null==b?"null":""+b;else{var b=this.shash,c=this.scount++;null!=q[a]?b.setReserved(a,c):b.h[a]=c;this.buf.b+="y";a=encodeURIComponent(a);this.buf.b+=A.string(a.length);this.buf.b+=":";this.buf.b+=null==a?"null":""+a}},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=
c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=X.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(X.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=O["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?
(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:if(ca.__instanceof(a,Ci))a=O.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(ca.__instanceof(a,Di))this.buf.b+="B",this.serializeString(O.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 5:throw new v("Cannot serialize function");case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&
this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=0,d=a.length;c<d;){var e=c++;null==a[e]?++b:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==b?"null":""+b));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=A.string(a.getTime());break;case pc:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case jb:this.buf.b+=
"q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case sb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=X.field(c,"__id__"),X.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Q:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=q[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case Xa:this.buf.b+=
"s";this.buf.b+=A.string(Math.ceil(8*a.length/6));this.buf.b+=":";c=0;d=a.length-2;b=rb.BASE64_CODES;if(null==b){for(var b=Array(rb.BASE64.length),e=0,f=rb.BASE64.length;e<f;){var m=e++;b[m]=y.cca(rb.BASE64,m)}rb.BASE64_CODES=b}for(;c<d;)e=a.b[c++],f=a.b[c++],m=a.b[c++],this.buf.b+=String.fromCharCode(b[e>>2]),this.buf.b+=String.fromCharCode(b[(e<<4|f>>4)&63]),this.buf.b+=String.fromCharCode(b[(f<<2|m>>6)&63]),this.buf.b+=String.fromCharCode(b[m&63]);c==d?(d=a.b[c++],a=a.b[c++],this.buf.b+=String.fromCharCode(b[d>>
2]),this.buf.b+=String.fromCharCode(b[(d<<4|a>>4)&63]),this.buf.b+=String.fromCharCode(b[a<<2&63])):c==d+1&&(a=a.b[c++],this.buf.b+=String.fromCharCode(b[a>>2]),this.buf.b+=String.fromCharCode(b[a<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(O.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(O.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;
case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=A.string(this.useEnumIndex?"j":"w");this.serializeString(O.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=A.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=A.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;default:throw new v("Cannot serialize "+A.string(a));}},__class__:rb};var Se=function(){};g["haxe._Unserializer.DefaultResolver"]=
Se;Se.__name__=["haxe","_Unserializer","DefaultResolver"];Se.prototype={resolveClass:function(a){return O.resolveClass(a)},resolveEnum:function(a){return O.resolveEnum(a)},__class__:Se};var cb=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=cb.DEFAULT_RESOLVER;null==a&&(a=new Se,cb.DEFAULT_RESOLVER=a);this.resolver=a};g["haxe.Unserializer"]=cb;cb.__name__=["haxe","Unserializer"];cb.initCodes=function(){for(var a=[],b=0,c=cb.BASE64.length;b<c;){var d=b++;a[cb.BASE64.charCodeAt(d)]=
d}return a};cb.run=function(a){return(new cb(a)).unserialize()};cb.prototype={readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(y.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=
this.length)throw new v("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new v("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw new v("Invalid enum format");var c=this.readDigits();if(0==c)return O.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return O.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=
this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw new v("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new v("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new v("Class not found "+a);a=O.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw new v("Invalid custom data");return a;case 77:a=new sb;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new v("Invalid string reference");return this.scache[a];case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 98:a=new Q;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);){var b=this.unserialize(),
c=this.unserialize();null!=q[b]?a.setReserved(b,c):a.h[b]=c}this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new v("Class not found "+a);a=O.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new v("Enum not found "+a);this.pos++;var c=this.readDigits(),d=b.__constructs__.slice()[c];
if(null==d)throw new v("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 107:return NaN;case 108:a=new pc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 109:return-Infinity;case 110:return null;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 112:return Infinity;case 113:a=new jb;this.cache.push(a);for(b=this.buf.charCodeAt(this.pos++);58==b;)b=this.readDigits(),c=this.unserialize(),
a.h[b]=c,b=this.buf.charCodeAt(this.pos++);if(104!=b)throw new v("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new v("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new v("Invalid bytes length");var e=cb.CODES;null==e&&(e=cb.initCodes(),cb.CODES=e);for(var f=this.pos,m=a&3,w=f+(a-m),b=new Xa(new ArrayBuffer(3*(a>>2)+(2<=m?m-1:0))),c=0;f<w;){var h=
e[d.charCodeAt(f++)],g=e[d.charCodeAt(f++)];b.b[c++]=(h<<2|g>>4)&255;h=e[d.charCodeAt(f++)];b.b[c++]=(g<<4|h>>2)&255;g=e[d.charCodeAt(f++)];b.b[c++]=(h<<6|g)&255}2<=m&&(g=e[d.charCodeAt(f++)],w=e[d.charCodeAt(f++)],b.b[c++]=(g<<2|w>>4)&255,3==m&&(d=e[d.charCodeAt(f++)],b.b[c++]=(w<<4|d>>2)&255));this.pos+=a;this.cache.push(b);return b;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+
1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=y.strDate(y.substr(this.buf,this.pos,19)),this.pos+=19):(a=this.readFloat(),a=new Date(a)),this.cache.push(a),a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new v("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 120:throw v.wrap(this.unserialize());
case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw new v("Invalid string length");b=y.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw new v("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:cb};var Xa=function(a){this.length=a.byteLength;this.b=new Uint8Array(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};g["haxe.io.Bytes"]=
Xa;Xa.__name__=["haxe","io","Bytes"];Xa.alloc=function(a){return new Xa(new ArrayBuffer(a))};Xa.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new Xa((new Uint8Array(b)).buffer)};Xa.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Xa(a)};Xa.fastGet=
function(a,b){return a.bytes[b]};Xa.prototype={getString:function(a,b){if(0>a||0>b||a+b>this.length)throw new v(tb.OutsideBounds);for(var c="",d=this.b,e=String.fromCharCode,f=a,m=a+b;f<m;){var h=d[f++];if(128>h){if(0==h)break;c+=e(h)}else if(224>h)c+=e((h&63)<<6|d[f++]&127);else if(240>h)var g=d[f++],c=c+e((h&31)<<12|(g&127)<<6|d[f++]&127);else var g=d[f++],k=d[f++],h=(h&15)<<18|(g&127)<<12|(k&127)<<6|d[f++]&127,c=c+e((h>>10)+55232),c=c+e(h&1023|56320)}return c},toString:function(){return this.getString(0,
this.length)},__class__:Xa};var Ta=function(){};g["haxe.crypto.Base64"]=Ta;Ta.__name__=["haxe","crypto","Base64"];Ta.encode=function(a,b){null==b&&(b=!0);var c=(new Te(Ta.BYTES)).encodeBytes(a).toString();if(b)switch(a.length%3){case 1:c+="==";break;case 2:c+="="}return c};Ta.decode=function(a,b){null==b&&(b=!0);if(b)for(;61==y.cca(a,a.length-1);)a=y.substr(a,0,-1);return(new Te(Ta.BYTES)).decodeBytes(Xa.ofString(a))};var Te=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw new v("BaseCode : base length must be a power of two.");
this.base=a;this.nbits=c};g["haxe.crypto.BaseCode"]=Te;Te.__name__=["haxe","crypto","BaseCode"];Te.prototype={encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=new Xa(new ArrayBuffer(d+(0==8*a.length%b?0:1))),f=0,m=0,h=(1<<b)-1,g=0,k=0;k<d;){for(;m<b;)m+=8,f<<=8,f|=a.b[g++];m-=b;e.b[k++]=c.b[f>>m&h]&255}0<m&&(e.b[k++]=c.b[f<<b-m&h]&255);return e},initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}b=0;for(c=this.base.length;b<c;){var d=b++;a[this.base.b[d]]=d}this.tbl=
a},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var c=this.tbl,d=a.length*b>>3,e=new Xa(new ArrayBuffer(d)),f=0,m=0,h=0,g=0;g<d;){for(;8>m;){var m=m+b,f=f<<b,k=c[a.b[h++]];if(-1==k)throw new v("BaseCode : invalid encoded char");f|=k}m-=8;e.b[g++]=f>>m&255}return e},__class__:Te};var jb=function(){this.h={}};g["haxe.ds.IntMap"]=jb;jb.__name__=["haxe","ds","IntMap"];jb.__interfaces__=[fd];jb.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},
exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return y.iter(a)},__class__:jb};var sb=function(){this.h={__keys__:{}}};g["haxe.ds.ObjectMap"]=sb;sb.__name__=["haxe","ds","ObjectMap"];sb.__interfaces__=[fd];sb.assignId=function(a){return a.__id__=++sb.count};sb.getId=function(a){return a.__id__};sb.prototype={set:function(a,b){var c=
a.__id__||(a.__id__=++sb.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return y.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},
next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:sb};var Bb=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};g["haxe.ds._StringMap.StringMapIterator"]=Bb;Bb.__name__=["haxe","ds","_StringMap","StringMapIterator"];Bb.prototype={hasNext:function(){return this.index<this.count},next:function(){var a=this.map,b=this.keys[this.index++];return null!=q[b]?a.getReserved(b):a.h[b]},__class__:Bb};var Q=function(){this.h={}};g["haxe.ds.StringMap"]=Q;Q.__name__=
["haxe","ds","StringMap"];Q.__interfaces__=[fd];Q.prototype={set:function(a,b){null!=q[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=q[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=q[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=
q[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){return y.iter(this.arrayKeys())},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Bb(this,this.arrayKeys())},__class__:Q};var jh=function(){this.b=[]};g["haxe.io.BytesBuffer"]=jh;
jh.__name__=["haxe","io","BytesBuffer"];jh.prototype={addInt32:function(a){this.b.push(a&255);this.b.push(a>>8&255);this.b.push(a>>16&255);this.b.push(a>>>24)},getBytes:function(){var a=new Xa((new Uint8Array(this.b)).buffer);this.b=null;return a},__class__:jh};var tb=g["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};tb.Blocked=["Blocked",0];tb.Blocked.toString=k;tb.Blocked.__enum__=tb;tb.Overflow=["Overflow",1];tb.Overflow.toString=
k;tb.Overflow.__enum__=tb;tb.OutsideBounds=["OutsideBounds",2];tb.OutsideBounds.toString=k;tb.OutsideBounds.__enum__=tb;tb.Custom=function(a){a=["Custom",3,a];a.__enum__=tb;a.toString=k;return a};var ni=function(){};g["haxe.io.FPHelper"]=ni;ni.__name__=["haxe","io","FPHelper"];ni.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};ni.floatToI32=function(a){if(0==a)return 0;var b=0>a?-a:a,c=Math.floor(Math.log(b)/0.6931471805599453);
-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1));8388608==b&&128>c&&(b=0,++c);return(0>a?-2147483648:0)|c+127<<23|b};var Ib=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=y.substr(a,0,c),a=y.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=y.substr(a,0,b),a=y.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=y.substr(a,b+1,null),this.file=y.substr(a,0,b)):(this.ext=null,
this.file=a)};g["haxe.io.Path"]=Ib;Ib.__name__=["haxe","io","Path"];Ib.withoutExtension=function(a){a=new Ib(a);a.ext=null;return a.toString()};Ib.withoutDirectory=function(a){a=new Ib(a);a.dir=null;return a.toString()};Ib.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Ib};var Ue=function(){};g["haxe.rtti.Meta"]=Ue;Ue.__name__=["haxe","rtti","Meta"];Ue.getType=function(a){a=Ue.getMeta(a);return null==
a||null==a.obj?{}:a.obj};Ue.getMeta=function(a){return a.__meta__};var Ha=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++,d=b.charCodeAt(d);10==d?(this.lineNumber++,this.positionAtLine=0):13!=d&&this.positionAtLine++}};g["haxe.xml.XmlParserException"]=Ha;Ha.__name__=["haxe","xml","XmlParserException"];Ha.prototype={toString:function(){return O.getClassName(ca.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+
this.positionAtLine},__class__:Ha};var ec=function(){};g["haxe.xml.Parser"]=ec;ec.__name__=["haxe","xml","Parser"];ec.parse=function(a,b){null==b&&(b=!1);var c=t.createDocument();ec.doParse(a,b,0,c);return c};ec.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,f=1,m=1,h=null,g=0,k=0,n=0,l=a.charCodeAt(c),p=new Wb,s=1,r=-1;l==l;){switch(f){case 0:switch(l){case 9:case 10:case 13:case 32:break;default:f=m;continue}break;case 1:if(60==l)f=0,m=2;else{g=c;f=13;continue}break;case 2:switch(l){case 33:if(91==
a.charCodeAt(c+1)){c+=2;if("CDATA["!=y.substr(a,c,6).toUpperCase())throw new v(new Ha("Expected <![CDATA[",a,c));c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=y.substr(a,c+2,6).toUpperCase())throw new v(new Ha("Expected <!DOCTYPE",a,c));c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new v(new Ha("Expected \x3c!--",a,c));c+=2;f=15}g=c+1;break;case 47:if(null==d)throw new v(new Ha("Expected node name",a,c));g=c+1;f=0;m=10;break;case 63:f=14;g=c;
break;default:f=3;g=c;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(c==g)throw new v(new Ha("Expected node name",a,c));e=t.createElement(y.substr(a,g,c-g));d.addChild(e);++k;f=0;m=4;continue}break;case 4:switch(l){case 47:f=11;break;case 62:f=9;break;default:f=5;g=c;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(g==c)throw new v(new Ha("Expected attribute name",a,c));h=y.substr(a,g,c-g);
if(e.exists(h))throw new v(new Ha("Duplicate attribute ["+h+"]",a,c));f=0;m=6;continue}break;case 6:if(61==l)f=0,m=7;else throw new v(new Ha("Expected =",a,c));break;case 7:switch(l){case 34:case 39:p=new Wb;f=8;g=c+1;r=l;break;default:throw new v(new Ha('Expected "',a,c));}break;case 8:switch(l){case 38:s=c-g;p.b+=null==s?y.substr(a,g,null):y.substr(a,g,s);f=18;s=8;g=c+1;break;case 60:case 62:if(b)throw new v(new Ha("Invalid unescaped "+String.fromCharCode(l)+" in attribute value",a,c));l==r&&(m=
c-g,p.b+=null==m?y.substr(a,g,null):y.substr(a,g,m),m=p.b,p=new Wb,e.set(h,m),f=0,m=4);break;default:l==r&&(m=c-g,p.b+=null==m?y.substr(a,g,null):y.substr(a,g,m),m=p.b,p=new Wb,e.set(h,m),f=0,m=4)}break;case 9:g=c=ec.doParse(a,b,c,e);f=1;break;case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(g==c)throw new v(new Ha("Expected node name",a,c));m=y.substr(a,g,c-g);if(d.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+d.nodeType);if(m!=
d.nodeName){if(d.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+d.nodeType);throw new v(new Ha("Expected </"+d.nodeName+">",a,c));}f=0;m=12;continue}break;case 11:if(62==l)f=1;else throw new v(new Ha("Expected >",a,c));break;case 12:if(62==l)return 0==k&&d.addChild(t.createPCData("")),c;throw new v(new Ha("Expected >",a,c));case 13:60==l?(m=c-g,p.b+=null==m?y.substr(a,g,null):y.substr(a,g,m),m=t.createPCData(p.b),p=new Wb,d.addChild(m),++k,f=0,m=2):38==l&&(s=c-g,p.b+=
null==s?y.substr(a,g,null):y.substr(a,g,s),f=18,s=13,g=c+1);break;case 14:63==l&&62==a.charCodeAt(c+1)&&(++c,l=y.substr(a,g+1,c-g-2),d.addChild(t.createProcessingInstruction(l)),++k,f=1);break;case 15:45==l&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(t.createComment(y.substr(a,g,c-g))),++k,c+=2,f=1);break;case 16:91==l?++n:93==l?--n:62==l&&0==n&&(d.addChild(t.createDocType(y.substr(a,g,c-g))),++k,f=1);break;case 17:93==l&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(l=t.createCData(y.substr(a,
g,c-g)),d.addChild(l),++k,c+=2,f=1);break;case 18:if(59==l){g=y.substr(a,g,c-g);if(35==g.charCodeAt(0))g=120==g.charCodeAt(1)?A.parseInt("0"+y.substr(g,1,g.length-1)):A.parseInt(y.substr(g,1,g.length-1)),p.b+=String.fromCharCode(g);else if(l=ec.escapes,null!=q[g]?l.existsReserved(g):l.h.hasOwnProperty(g))l=ec.escapes,g=null!=q[g]?l.getReserved(g):l.h[g],p.b+=A.string(g);else{if(b)throw new v(new Ha("Undefined entity: "+g,a,c));p.b+=A.string("&"+g+";")}g=c+1;f=s}else if(!(97<=l&&122>=l||65<=l&&90>=
l||48<=l&&57>=l||58==l||46==l||95==l||45==l)&&35!=l){if(b)throw new v(new Ha("Invalid character in entity: "+String.fromCharCode(l),a,c));p.b+="&";l=c-g;p.b+=null==l?y.substr(a,g,null):y.substr(a,g,l);g=c--;f=s}}l=a.charCodeAt(++c)}1==f&&(g=c,f=13);if(13==f){if(c!=g||0==k)b=c-g,p.b+=null==b?y.substr(a,g,null):y.substr(a,g,b),d.addChild(t.createPCData(p.b));return c}if(!b&&18==f&&13==s)return p.b+="&",b=c-g,p.b+=null==b?y.substr(a,g,null):y.substr(a,g,b),d.addChild(t.createPCData(p.b)),c;throw new v(new Ha("Unexpected end",
a,c));};var Mb=function(a){this.output=new Wb;this.pretty=a};g["haxe.xml.Printer"]=Mb;Mb.__name__=["haxe","xml","Printer"];Mb.print=function(a,b){null==b&&(b=!1);var c=new Mb(b);c.writeNode(a,"");return c.output.b};Mb.prototype={writeNode:function(a,b){switch(a.nodeType){case 0:this.output.b+=A.string(b+"<");if(a.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+a.nodeType);this.output.b+=A.string(a.nodeName);for(var c=a.attributes();c.hasNext();){var d=c.next();this.output.b+=
A.string(" "+d+'="');d=P.htmlEscape(a.get(d),!0);this.output.b+=A.string(d);this.output.b+='"'}if(this.hasChildren(a)){this.output.b+=">";this.pretty&&(this.output.b+="\n");if(a.nodeType!=t.Document&&a.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+a.nodeType);for(c=y.iter(a.children);c.hasNext();)d=c.next(),this.writeNode(d,this.pretty?b+"\t":b);this.output.b+=A.string(b+"</");if(a.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+
a.nodeType);this.output.b+=A.string(a.nodeName);this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(a.nodeType==t.Document||a.nodeType==t.Element)throw new v("Bad node type, unexpected "+a.nodeType);c=a.nodeValue;0!=c.length&&(c=b+P.htmlEscape(c),this.output.b+=A.string(c),this.pretty&&(this.output.b+="\n"));break;case 2:this.output.b+=A.string(b+"<![CDATA[");if(a.nodeType==t.Document||a.nodeType==t.Element)throw new v("Bad node type, unexpected "+a.nodeType);
c=P.trim(a.nodeValue);this.output.b+=A.string(c);this.output.b+="]]\x3e";this.pretty&&(this.output.b+="\n");break;case 3:if(a.nodeType==t.Document||a.nodeType==t.Element)throw new v("Bad node type, unexpected "+a.nodeType);c=a.nodeValue;c=c.replace(/[\n\r\t]+/g,"");this.output.b+=null==b?"null":""+b;c=P.trim("\x3c!--"+c+"--\x3e");this.output.b+=A.string(c);this.pretty&&(this.output.b+="\n");break;case 4:if(a.nodeType==t.Document||a.nodeType==t.Element)throw new v("Bad node type, unexpected "+a.nodeType);
this.output.b+=A.string("<!DOCTYPE "+a.nodeValue+">");this.pretty&&(this.output.b+="\n");break;case 5:if(a.nodeType==t.Document||a.nodeType==t.Element)throw new v("Bad node type, unexpected "+a.nodeType);this.output.b+=A.string("<?"+a.nodeValue+"?>");this.pretty&&(this.output.b+="\n");break;case 6:if(a.nodeType!=t.Document&&a.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+a.nodeType);for(c=y.iter(a.children);c.hasNext();)d=c.next(),this.writeNode(d,b)}},hasChildren:function(a){if(a.nodeType!=
t.Document&&a.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+a.nodeType);for(a=y.iter(a.children);a.hasNext();){var b=a.next();switch(b.nodeType){case 0:case 1:return!0;case 2:case 3:if(b.nodeType==t.Document||b.nodeType==t.Element)throw new v("Bad node type, unexpected "+b.nodeType);if(0!=P.ltrim(b.nodeValue).length)return!0}}return!1},__class__:Mb};var v=function(a){Error.call(this);this.val=a;this.message=String(a);Error.captureStackTrace&&Error.captureStackTrace(this,
v)};g["js._Boot.HaxeError"]=v;v.__name__=["js","_Boot","HaxeError"];v.wrap=function(a){return a instanceof Error?a:new v(a)};v.__super__=Error;v.prototype=l(Error.prototype,{__class__:v});var ca=function(){};g["js.Boot"]=ca;ca.__name__=["js","Boot"];ca.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=ca.__nativeClassName(a);return null!=a?ca.__resolveNativeClass(a):null};ca.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";
var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+ca.__string_rec(a[f],b)):c+ca.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+ca.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(m){return"???"}if(null!=d&&d!=Object.toString&&"function"==
typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+ca.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};ca.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<
e;){var f=d++,f=c[f];if(f==b||ca.__interfLoop(f,b))return!0}return ca.__interfLoop(a.__super__,b)};ca.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof Array?null==a.__enum__:!1;case Ei:return"boolean"==typeof a;case Mi:return!0;case Fi:return"number"==typeof a;case Ni:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(a instanceof b||ca.__interfLoop(ca.getClass(a),b))return!0}else{if("object"==
typeof b&&ca.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Ci&&null!=a.__name__||b==Di&&null!=a.__ename__?!0:a.__enum__==b}};ca.__cast=function(a,b){if(ca.__instanceof(a,b))return a;throw new v("Cannot cast "+A.string(a)+" to "+A.string(b));};ca.__nativeClassName=function(a){a=ca.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};ca.__isNativeObj=function(a){return null!=ca.__nativeClassName(a)};ca.__resolveNativeClass=function(a){return Ki[a]};
var Re=function(){};g["js.Browser"]=Re;Re.__name__=["js","Browser"];Re.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};Re.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new v("Unable to create XMLHttpRequest object.");};var oi=function(){};g["js.html._CanvasElement.CanvasUtil"]=oi;oi.__name__=["js","html","_CanvasElement",
"CanvasUtil"];oi.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var gd=function(){};g["kit.asset.AssetPack"]=gd;gd.__name__=["kit","asset","AssetPack"];gd.__interfaces__=[Ra];gd.prototype={__class__:gd,__properties__:{get_manifest:"get_manifest"}};var Ec=function(){this.$NG=new Q;this.$MG=[];this.preferredPixelScale=-1;this.localBase=this.remoteBase=null;B.call(this)};g["kit.Assets"]=Ec;Ec.__name__=
["kit","Assets"];Ec.__interfaces__=[gd];Ec.__super__=B;Ec.prototype=l(B.prototype,{get_entitySlot:function(){return 2},load:function(a,b){null==b&&(b=-1);0>=b&&(b=this.preferredPixelScale);var c=Ma.fromAssets(a,b);null!=this.localBase&&(c.$hH=this.localBase);null!=this.remoteBase&&(c.$iH=this.remoteBase);return this.loadManifest(c,a)},loadManifest:function(a,b){var c=this;if(null!=b){var d=this.$NG,e=null!=q[b]?d.getReserved(b):d.h[b];if(null==e){var d=this.$NG,f=e=new th;null!=q[b]?d.setReserved(b,
f):d.h[b]=f;e.$WG=p.$IH.loadAssetPack(a).then(function(a){var d=c.$NG;(null!=q[b]?d.getReserved(b):d.h[b])==e&&c.$MG.push(new Ve(a));return e.$OG=a})}return e.$WG}return p.$IH.loadAssetPack(a).then(function(a){c.addPack(a);return a})},addPack:function(a){this.$MG.push(new Ve(a));return this},removePackByName:function(a){var b=this.$NG,b=null!=q[a]?b.getReserved(a):b.h[a];if(null!=b&&(this.$NG.remove(a),null!=b.$OG)){a=0;for(var c=this.$MG.length;a<c;){var d=a++;if(this.$MG[d].$OG==b.$OG){this.$MG.splice(d,
1);break}}b.$OG.dispose()}},isLoaded:function(a){var b=this.$NG;a=null!=q[a]?b.getReserved(a):b.h[a];return null!=a?null!=a.$OG:!1},getTexture:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;e=e.$OG.getTexture(a,!1);if(null!=e)return e}c=this.$LG();return null!=c?c.getTexture(a,b):null},getSound:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;e=e.$OG.getSound(a,!1);if(null!=e)return e}c=this.$LG();return null!=c?c.getSound(a,b):null},
getFile:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;e=e.$OG.getFile(a,!1);if(null!=e)return e}c=this.$LG();return null!=c?c.getFile(a,b):null},getVectorFont:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;e=e.$OG.getVectorFont(a,!1);if(null!=e)return e}c=this.$LG();return null!=c?c.getVectorFont(a,b):null},getVideo:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;e=e.$OG.getVideo(a,!1);if(null!=e)return e}c=
this.$LG();return null!=c?c.getVideo(a,b):null},getFont:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;var f=e.$PG,f=null!=q[a]?f.getReserved(a):f.h[a];if(null!=f)return f;if(null!=e.$OG.getFile(a+".fnt",!1))return c=new wc(this,a),e=e.$PG,null!=q[a]?e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$LG();return null!=e?e.getFont(a,b):null},getLibrary:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;var f=e.$RG,f=null!=q[a]?f.getReserved(a):
f.h[a];if(null!=f)return f;if(null!=e.$OG.getFile(a+"/library.json",!1))return c=new hd(this,a),e=e.$RG,null!=q[a]?e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$LG();return null!=e?e.getLibrary(a,b):null},getScene:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;var f=e.$SG,f=null!=q[a]?f.getReserved(a):f.h[a];if(null!=f)return f;if(null!=e.$OG.getFile(a+".scene",!1))return c=new ma(this,a),e=e.$SG,null!=q[a]?e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$LG();
return null!=e?e.getScene(a,b):null},getSceneSymbol:function(a,b){null==b&&(b=!0);for(var c=0,d=this.$MG;c<d.length;){var e=d[c];++c;var f=e.$TG,f=null!=q[a]?f.getReserved(a):f.h[a];if(null!=f)return f;if(null!=e.$OG.getFile(a+".symbol",!1))return c=new ma(this,a,!0),e=e.$TG,null!=q[a]?e.setReserved(a,c):e.h[a]=c,c.disposeFiles()}e=this.$LG();return null!=e?e.getSceneSymbol(a,b):null},$LG:function(){return null==this.owner||null==this.owner.parent?null:this.owner.parent._internal_getFromParents(2)},
dispose:function(){B.prototype.dispose.call(this);var a=this.$MG;this.$MG=[];this.$NG=new Q;for(var b=0;b<a.length;){var c=a[b];++b;c.$OG.dispose()}},get_manifest:function(){return null},__class__:Ec,__properties__:l(B.prototype.__properties__,{get_manifest:"get_manifest"})});var Ve=function(a){this.$TG=new Q;this.$SG=new Q;this.$RG=new Q;this.$PG=new Q;this.$OG=a};g.$CN=Ve;Ve.__name__=["$CN"];Ve.prototype={__class__:Ve};var th=function(){};g.$CO=th;th.__name__=["$CO"];th.prototype={__class__:th};
var Ud=function(){this.$XG=this.$YG=null};g.$CQ=Ud;Ud.__name__=["$CQ"];Ud.prototype={$ZG:function(){var a=this.$YG;if(null!=a){this.$YG=null;for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}}this.$XG=null},__class__:Ud};var pi=function(){};g["kit.util.PackageLog"]=pi;pi.__name__=["kit","util","PackageLog"];var uh=function(){};g.$CR=uh;uh.__name__=["$CR"];uh.prototype={__class__:uh};var Fb=function(){this.$xG=!0};g.$CS=Fb;Fb.__name__=["$CS"];Fb.__interfaces__=[uh];Fb.$0G=function(a){var b=Re.getLocalStorage();
return null!=b?new We(b,a):new Xe};Fb.prototype={init:function(){var a=this,b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";G.$lQ(b,"tap-highlight-color","transparent");b.setAttribute("moz-opaque","");this.$iG=new Ic(b);this.$gG=new Ya;this.$fG=new Ye(this.$gG,b);this.$hG=this.$eG(b);this.$aG=new xc;this.$tG=b;this.$uG=b.parentElement;this.$uG.style.overflow="hidden";this.$uG.style.position="relative";G.$lQ(this.$uG,"touch-action","none");var d=
0,e=function(c){if(!(1E3>c.timeStamp-d)){var e=b.getBoundingClientRect(),f=a.$cG(c,e),e=a.$dG(c,e);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a.$fG.$2L(f,e,c.button),b.focus());break;case "mousemove":a.$fG.$6L(f,e);break;case "mouseup":a.$fG.$3L(f,e,c.button);break;case "DOMMouseScroll":case "mousewheel":a.$fG.$7L(f,e,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1);window.addEventListener("mousemove",e,!1);window.addEventListener("mouseup",
e,!1);b.addEventListener("mousewheel",e,!1);b.addEventListener("DOMMouseScroll",e,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var f="undefined"!=typeof window.ontouchstart,e=G.$iQ("maxTouchPoints",window.navigator).value|0;if(f||1<e){var m=new Ze(this.$gG,f?4:e);this.$jG=m;e=function(b){var c=f?b.changedTouches:[b],e=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "MSPointerMove":case "pointermove":case "touchmove":b.preventDefault();for(b=0;b<c.length;){var g=
c[b];++b;var h=a.$cG(g,e),w=a.$dG(g,e);m.$6L((f?g.identifier:g.pointerId)|0,h,w)}break;case "MSPointerUp":case "pointerup":case "touchcancel":case "touchend":for(b=0;b<c.length;)g=c[b],++b,h=a.$cG(g,e),w=a.$dG(g,e),m.$3L((f?g.identifier:g.pointerId)|0,h,w);break;case "MSPointerDown":case "pointerdown":case "touchstart":for(b.preventDefault(),b=0;b<c.length;)g=c[b],++b,h=a.$cG(g,e),w=a.$dG(g,e),m.$2L((f?g.identifier:g.pointerId)|0,h,w)}};f?(b.addEventListener("touchstart",e,!1),b.addEventListener("touchmove",
e,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1)):(b.addEventListener("MSPointerDown",e,!1),b.addEventListener("MSPointerMove",e,!1),b.addEventListener("MSPointerUp",e,!1))}else this.$jG=new $e;var g=window.onerror;window.onerror=function(a,b,c){p.uncaughtError.emit(a);return null!=g?g(a,b,c):!1};var h=G.$iQ("hidden",window.document);null!=h.value?(e=function(a){p.hidden.set__(X.field(window.document,h.field))},e(null),window.document.addEventListener(h.prefix+"visibilitychange",
e,!1)):(e=function(a){p.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",e,!1),window.addEventListener("pagehide",e,!1));p.hidden.get_changed().connect(function(b,c){b||(a.$wG=!0)});this.$wG=!1;this.$vG=Date.now();var k=G.$iQ("requestAnimationFrame").value;if(null!=k){var l=window.performance,n=null!=l&&G.$kQ("now",l);n&&(this.$vG=l.now());var q=null,q=function(c){k(q,b);c=n?l.now():c;a.$bG(c)};k(q,b)}else window.setInterval(function(){var b=Date.now();a.$bG(b)},16);la.$MM("fullscreen")&&
this.$jG.get_supported()&&this.$iG.get_fullscreenSupported()&&this.$jG.up.connect(function(b){a.$iG.fullscreen.$1G||a.$iG.requestFullscreen()});var s=la.$NM();null!=s&&(this.$iG.fullscreen.get_changed().connect(function(b,c){b&&a.$iG.lockOrientation(s)}),this.$iG.lockOrientation(s));this.$aG.$kO.add(new af);this.$aG.$qJ();return(new U).success(null)},loadAssetPack:function(a){return(new ia(this,a)).$WG},getLocalStorage:function(){if(null==this.$qG){var a="2DKit.local."+A.string(la.$MM("id"));this.$qG=
Fb.$0G(a)}return this.$qG},createLogHandler:function(a){return null},initPlatformSDK:function(a){return a},$bG:function(a){var b=(a-this.$vG)/1E3;this.$vG=a;p.hidden.$1G||(this.$wG?this.$wG=!1:(this.$xG&&(this.$xG=!1,this.$iG.$UQ(null)),this.$aG.$bG(b),this.$aG.$HI(this.$hG)))},getKeyboard:function(){var a=this;if(null==this.$pG){this.$pG=new Gb;var b=function(b){switch(b.type){case "keydown":a.$pG.$2L(b.keyCode)&&b.preventDefault();break;case "keyup":a.$pG.$3L(b.keyCode)}};this.$tG.addEventListener("keydown",
b,!1);this.$tG.addEventListener("keyup",b,!1);if(null!=window.history&&null!=(Wa=window.history,I(Wa,Wa.pushState))){var c=!1,d=function(){window.history.pushState("2DKitBack",null);c=!0};window.addEventListener("popstate",function(b){c&&(null!=a.$pG.backButton.$CH?(d(),a.$pG.backButton.emit()):window.history.back())});if(G.$dQ)this.$gG.down.connect(function(a){d()}).once();else d()}}return this.$pG},getExternal:function(){null==this.$mG&&(this.$mG=new bf);return this.$mG},getRenderer:function(){return this.$hG},
$cG:function(a,b){return(a.clientX-b.left)*this.$iG.get_width()/b.width},$dG:function(a,b){return(a.clientY-b.top)*this.$iG.get_height()/b.height},$eG:function(a){var b=this;if(window.navigator.isCocoonJS){window.ext.IDTK_APP.makeCall("setWebGLEnabled",!0);var c=window.jsembed;null!=c&&(c.disableAutoScaling(),window.document.documentElement.style.height="100%",window.document.body.style.height="100%",c=function(){var c=a.parentNode;null!=c&&(c.style.width="100%",c.style.height="100%",c.style.left=
"0",c.style.top="0",b.$iG.$UQ(null))},c(),window.setTimeout(c,500))}try{var d=oi.getContextWebGL(a,{alpha:!1,depth:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});if(null!=d){var e=new cf(this.$iG,d);if(e.$oS)return e}}catch(f){}return new df(a)},__class__:Fb};var qa=function(a,b){this.$1G=a;this.$2G=null!=b?new gc(b):null};g["kit.util.Value"]=qa;qa.__name__=["kit","util","Value"];qa.prototype={watch:function(a){a(this.$1G,this.$1G);return this.get_changed().connect(a)},set__:function(a){var b=this.$1G;
a!=b&&(this.$1G=a,null!=this.$2G&&this.$2G.emit(a,b));return a},get_changed:function(){null==this.$2G&&(this.$2G=new gc);return this.$2G},__class__:qa,__properties__:{get_changed:"get_changed",set__:"set__"}};var Jc=function(a,b){this.$3G=null;this.$5G=a;this.$4G=b;this.stayInList=!0};g["kit.util.SignalConnection"]=Jc;Jc.__name__=["kit","util","SignalConnection"];Jc.__interfaces__=[Ra];Jc.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this.$5G&&(this.$5G.$7G(this),
this.$5G=null)},__class__:Jc};var Ka=function(a){this.$CH=null!=a?new Jc(this,a):null;this.$DH=null};g["kit.util.SignalBase"]=Ka;Ka.__name__=["kit","util","SignalBase"];Ka.prototype={$6G:function(a,b){var c=this,d=new Jc(this,a);this.$CH==Ka.$EH?this.$8G(function(){c.$_G(d,b)}):this.$_G(d,b);return d},$7G:function(a){var b=this;this.$CH==Ka.$EH?this.$8G(function(){b.$AH(a)}):this.$AH(a)},$8G:function(a){for(var b=null,c=this.$DH;null!=c;)b=c,c=c.next;a=new vh(a);null!=b?b.next=a:this.$DH=a},$9G:function(){var a=
this.$CH;this.$CH=Ka.$EH;return a},$$G:function(a){this.$CH=a;a=this.$DH;for(this.$DH=null;null!=a;)a.$HU(),a=a.next},$_G:function(a,b){if(b)a.$3G=this.$CH,this.$CH=a;else{for(var c=null,d=this.$CH;null!=d;)c=d,d=d.$3G;null!=c?c.$3G=a:this.$CH=a}},$AH:function(a){for(var b=null,c=this.$CH;null!=c;){if(c==a){a=c.$3G;null==b?this.$CH=a:b.$3G=a;break}b=c;c=c.$3G}},__class__:Ka};var gc=function(a){Ka.call(this,a)};g["kit.util.Signal2"]=gc;gc.__name__=["kit","util","Signal2"];gc.__super__=Ka;gc.prototype=
l(Ka.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$6G(a,b)},emit:function(a,b){var c=this;this.$CH==Ka.$EH?this.$8G(function(){c.$FH(a,b)}):this.$FH(a,b)},$FH:function(a,b){for(var c=this.$9G(),d=c;null!=d;)d.$4G(a,b),d.stayInList||d.dispose(),d=d.$3G;this.$$G(c)},__class__:gc});var ua=function(a){Ka.call(this,a)};g["kit.util.Signal0"]=ua;ua.__name__=["kit","util","Signal0"];ua.__super__=Ka;ua.prototype=l(Ka.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$6G(a,b)},emit:function(){var a=
this;this.$CH==Ka.$EH?this.$8G(function(){a.$FH()}):this.$FH()},$FH:function(){for(var a=this.$9G(),b=a;null!=b;)b.$4G(),b.stayInList||b.dispose(),b=b.$3G;this.$$G(a)},__class__:ua});var fa=function(a){Ka.call(this,a)};g["kit.util.Signal1"]=fa;fa.__name__=["kit","util","Signal1"];fa.__super__=Ka;fa.prototype=l(Ka.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$6G(a,b)},emit:function(a){var b=this;this.$CH==Ka.$EH?this.$8G(function(){b.$FH(a)}):this.$FH(a)},$FH:function(a){for(var b=
this.$9G(),c=b;null!=c;)c.$4G(a),c.stayInList||c.dispose(),c=c.$3G;this.$$G(b)},__class__:fa});var V=function(a,b){this.$rF=null;qa.call(this,a,b)};g["kit.animation.AnimatedFloat"]=V;V.__name__=["kit","animation","AnimatedFloat"];V.__super__=qa;V.prototype=l(qa.prototype,{set__:function(a){this.$rF=null;return qa.prototype.set__.call(this,a)},update:function(a){null!=this.$rF&&(qa.prototype.set__.call(this,this.$rF.update(a)),this.$rF.isComplete()&&(this.$rF=null))},animate:function(a,b,c,d){this.set__(a);
this.animateTo(b,c,d)},animateTo:function(a,b,c){this.set_behavior(new id(this.$1G,a,b,c))},set_behavior:function(a){this.$rF=a;this.update(0);return a},__class__:V,__properties__:l(qa.prototype.__properties__,{set_behavior:"set_behavior"})});var p=function(){};g["kit.System"]=p;p.__name__=["kit","System"];p.$GH=function(){null==p.$JH&&(p.$JH=p.$IH.init());return p.$JH};var wh=function(a){this.$LH=a};g["kit.util.Logger"]=wh;wh.__name__=["kit","util","Logger"];wh.prototype={__class__:wh};var ef=function(){};
g["kit.Log"]=ef;ef.__name__=["kit","Log"];ef.__super__=pi;ef.prototype=l(pi.prototype,{__class__:ef});var Kc=function(a){null==a&&(a=1);this.$MH=0;B.call(this);this.scale=new V(a)};g["kit.SpeedAdjuster"]=Kc;Kc.__name__=["kit","SpeedAdjuster"];Kc.__super__=B;Kc.prototype=l(B.prototype,{get_entitySlot:function(){return 14},onUpdate:function(a){0<this.$MH&&(a=this.$MH,this.$MH=0);this.scale.update(a)},__class__:Kc});var ff=function(){};g["kit.animation.Behavior"]=ff;ff.__name__=["kit","animation","Behavior"];
ff.prototype={__class__:ff};var E=function(){};g["kit.animation.Ease"]=E;E.__name__=["kit","animation","Ease"];E.linear=function(a){return a};E.quadIn=function(a){return a*a};E.quadOut=function(a){return a*(2-a)};E.quadInOut=function(a){return 0.5>=a?a*a*2:1- --a*a*2};E.cubeIn=function(a){return a*a*a};E.cubeOut=function(a){return 1+--a*a*a};E.cubeInOut=function(a){return 0.5>=a?a*a*a*4:1+--a*a*a*4};E.quartIn=function(a){return a*a*a*a};E.quartOut=function(a){return 1- --a*a*a*a};E.quartInOut=function(a){if(0.5>=
a)return a*a*a*a*8;a=2*a-2;return(1-a*a*a*a)/2+0.5};E.quintIn=function(a){return a*a*a*a*a};E.quintOut=function(a){return--a*a*a*a*a+1};E.quintInOut=function(a){return 1>(a*=2)?a*a*a*a*a/2:((a-=2)*a*a*a*a+2)/2};E.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};E.sineOut=function(a){return Math.sin(1.5707963267948966*a)};E.sineInOut=function(a){return 0.5-Math.cos(3.141592653589793*a)/2};E.bounceIn=function(a){a=1-a;return 0.36363636363636365>a?1-7.5625*a*a:0.7272727272727273>a?1-(7.5625*
(a-0.5454545454545454)*(a-0.5454545454545454)+0.75):0.9090909090909091>a?1-(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375):1-(7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375)};E.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};E.bounceInOut=
function(a){if(0.5>a)return a=1-2*a,0.36363636363636365>a?(1-7.5625*a*a)/2:0.7272727272727273>a?(1-(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75))/2:0.9090909090909091>a?(1-(7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375))/2:(1-(7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375))/2;a=2*a-1;return 0.36363636363636365>a?7.5625*a*a/2+0.5:0.7272727272727273>a?(7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75)/2+0.5:0.9090909090909091>a?(7.5625*(a-0.8181818181818182)*
(a-0.8181818181818182)+0.9375)/2+0.5:(7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375)/2+0.5};E.circIn=function(a){return 1-Math.sqrt(1-a*a)};E.circOut=function(a){--a;return Math.sqrt(1-a*a)};E.circInOut=function(a){return 0.5>=a?(Math.sqrt(1-a*a*4)-1)/-2:(Math.sqrt(1-(2*a-2)*(2*a-2))+1)/2};E.expoIn=function(a){return Math.pow(2,10*(a-1))};E.expoOut=function(a){return-Math.pow(2,-10*a)+1};E.expoInOut=function(a){return 0.5>a?Math.pow(2,10*(2*a-1))/2:(-Math.pow(2,-10*(2*a-1))+2)/2};
E.backIn=function(a){return a*a*(2.70158*a-1.70158)};E.backOut=function(a){return 1- --a*a*(-2.70158*a-1.70158)};E.backInOut=function(a){a*=2;if(1>a)return a*a*(2.70158*a-1.70158)/2;a-=2;return(1-a*a*(-2.70158*a-1.70158))/2+0.5};E.elasticIn=function(a){return-(Math.pow(2,10*--a)*Math.sin(1.5707963267948966*(a-0.25464790894703254*Math.asin(1))/0.4))};E.elasticOut=function(a){return Math.pow(2,-10*a)*Math.sin(1.5707963267948966*(a-0.25464790894703254*Math.asin(1))/0.4)+1};E.elasticInOut=function(a){return 0.5>
a?-0.5*Math.pow(2,10*(a-=0.5))*Math.sin(1.5707963267948966*(a-0.1)/0.4):Math.pow(2,-10*(a-=0.5))*Math.sin(1.5707963267948966*(a-0.1)/0.4)*0.5+1};var He=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c=1);this.start=a;this.end=b;this.cycles=d;this.speed=new V(c);this.$ZH=1.5707963267948966+3.141592653589793/c*e;this.$aH=0.5*(a-b);this.$bH=b+this.$aH};g["kit.animation.Sine"]=He;He.__name__=["kit","animation","Sine"];He.__interfaces__=[ff];He.prototype={update:function(a){this.speed.update(a);
this.$ZH+=3.141592653589793/this.speed.$1G*a;return this.$bH+Math.sin(this.$ZH)*this.$aH},isComplete:function(){return 0<this.cycles?(this.$ZH-1.5707963267948966)/3.141592653589793*0.5>=this.cycles:!1},__class__:He};var id=function(a,b,c,d){this.$dH=a;this.$eH=b;this.$fH=c;this.elapsed=0;this.$gH=null!=d?d:E.linear};g["kit.animation.Tween"]=id;id.__name__=["kit","animation","Tween"];id.__interfaces__=[ff];id.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this.$fH?this.$eH:this.$dH+
(this.$eH-this.$dH)*this.$gH(this.elapsed/this.$fH)},isComplete:function(){return this.elapsed>=this.$fH},__class__:id};var ac=function(){};g["kit.asset.Asset"]=ac;ac.__name__=["kit","asset","Asset"];ac.__interfaces__=[Ra];ac.prototype={__class__:ac};var x=g["kit.asset.AssetFormat"]={__ename__:["kit","asset","AssetFormat"],__constructs__:"WEBP JXR PNG JPG GIF _2DKD _2DKP _2DKE MP3 M4A OPUS OGG WAV WOFF TTF OTF SWF MP4 WEBM Data".split(" ")};x.WEBP=["WEBP",0];x.WEBP.toString=k;x.WEBP.__enum__=x;x.JXR=
["JXR",1];x.JXR.toString=k;x.JXR.__enum__=x;x.PNG=["PNG",2];x.PNG.toString=k;x.PNG.__enum__=x;x.JPG=["JPG",3];x.JPG.toString=k;x.JPG.__enum__=x;x.GIF=["GIF",4];x.GIF.toString=k;x.GIF.__enum__=x;x._2DKD=["_2DKD",5];x._2DKD.toString=k;x._2DKD.__enum__=x;x._2DKP=["_2DKP",6];x._2DKP.toString=k;x._2DKP.__enum__=x;x._2DKE=["_2DKE",7];x._2DKE.toString=k;x._2DKE.__enum__=x;x.MP3=["MP3",8];x.MP3.toString=k;x.MP3.__enum__=x;x.M4A=["M4A",9];x.M4A.toString=k;x.M4A.__enum__=x;x.OPUS=["OPUS",10];x.OPUS.toString=
k;x.OPUS.__enum__=x;x.OGG=["OGG",11];x.OGG.toString=k;x.OGG.__enum__=x;x.WAV=["WAV",12];x.WAV.toString=k;x.WAV.__enum__=x;x.WOFF=["WOFF",13];x.WOFF.toString=k;x.WOFF.__enum__=x;x.TTF=["TTF",14];x.TTF.toString=k;x.TTF.__enum__=x;x.OTF=["OTF",15];x.OTF.toString=k;x.OTF.__enum__=x;x.SWF=["SWF",16];x.SWF.toString=k;x.SWF.__enum__=x;x.MP4=["MP4",17];x.MP4.toString=k;x.MP4.__enum__=x;x.WEBM=["WEBM",18];x.WEBM.toString=k;x.WEBM.__enum__=x;x.Data=["Data",19];x.Data.toString=k;x.Data.__enum__=x;var xh=function(a,
b,c,d){this.cacheKey=null;this.name=a;this.url=b;this.format=c;this.bytes=d};g["kit.asset.AssetEntry"]=xh;xh.__name__=["kit","asset","AssetEntry"];xh.prototype={__class__:xh};var gf=function(){};g["kit.asset.File"]=gf;gf.__name__=["kit","asset","File"];gf.__interfaces__=[ac];gf.prototype={__class__:gf};var Ma=function(){this.$hH=this.$iH=null;this.pixelScale=1;this.$MG=[]};g["kit.asset.Manifest"]=Ma;Ma.__name__=["kit","asset","Manifest"];Ma.fromAssets=function(a,b,c){null==c&&(c=!0);null==b&&(b=-1);
b=1;c=[];for(var d=la.$MM("assets"),e=0,f=X.fields(d);e<f.length;){var m=f[e];++e;if(P.startsWith(m,a)){var g=y.substr(m,a.length,null);if(0<g.length){var h=new Ga("^-([\\d\\.]+)%$","");h.match(g)&&(g=parseFloat(h.matched(1)),c.push(new hf(m,g/100)))}else c.push(new hf(m,1))}}if(0==c.length)return null;c.sort(function(a,b){return X.compare(a.$nH,b.$nH)});a=null;for(e=0;e<c.length&&!(f=c[e],++e,a=f,f.$nH>=b););b=X.field(d,a.$mH);c=new Ma;c.$hH="assets";c.pixelScale=a.$nH;d=encodeURIComponent(a.$mH);
for(a=0;a<b.length;){e=b[a];++a;f=e.name;m=d;g=0;for(h=f.split("/");g<h.length;){var k=h[g];++g;m+="/"+encodeURIComponent(k)}P.endsWith(f,".__gz.txt")&&(f=y.substr(f,0,f.length-9));g=Ma.$jH(f);g!=x.Data&&(f=Za.removeFileExtension(f));f=c.add(f,m,e.bytes,g);null!=e.md5&&(f.cacheKey="assets:"+A.string(e.md5))}return c};Ma.$jH=function(a){a=Za.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "2dkd":return x._2DKD;case "2dke":return x._2DKE;case "2dkp":return x._2DKP;case "gif":return x.GIF;
case "jpeg":case "jpg":return x.JPG;case "jxr":case "wdp":return x.JXR;case "m4a":return x.M4A;case "mp3":return x.MP3;case "mp4":return x.MP4;case "ogg":return x.OGG;case "opus":return x.OPUS;case "otf":return x.OTF;case "png":return x.PNG;case "swf":return x.SWF;case "ttf":return x.TTF;case "wav":return x.WAV;case "webm":return x.WEBM;case "webp":return x.WEBP;case "woff":return x.WOFF}return x.Data};Ma.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=Ma.$jH(b));a=new xh(a,b,d,c);this.$MG.push(a);
return a},iterator:function(){return y.iter(this.$MG)},getFullURL:function(a){var b=null!=this.$iH&&Ma.$lH?this.$iH:this.$hH;return null!=b?Za.joinPath(b,a.url):a.url},__class__:Ma};var hf=function(a,b){this.$mH=a;this.$nH=b};g.$CT=hf;hf.__name__=["$CT"];hf.prototype={__class__:hf};var jf=function(){this.offsetX=this.offsetY=0;this.active=!0;this.following=null};g["kit.creator.Camera"]=jf;jf.__name__=["kit","creator","Camera"];jf.__super__=L;jf.prototype=l(L.prototype,{onStart:function(){L.prototype.onStart.call(this);
var a=this.owner.$IG[3];if(null==a){var b=this.owner,a=new u;b.add(a);this.info.transformSprite(a);a.set_visible(!1)}this.active&&(this.owner._internal_getFromParents(3,N).camera=this)},onUpdate:function(a){L.prototype.onUpdate.call(this,a);this.zoom.update(a)},$oH:function(a){var b=this.owner.$IG[3];if(null!=this.following){var c=this.following.$IG[3];null!=c&&b.setXY(c.x.$1G+this.offsetX,c.y.$1G+this.offsetY)}for(var c=this.zoom.$1G,d=b.y.$1G-0.5*a.cameraHeight.$1G/c,b=-Nb.clamp(b.x.$1G-0.5*a.cameraWidth.$1G/
c,0,a.info.width*a.info.tileWidth-a.cameraWidth.$1G/c),d=-Nb.clamp(d,0,a.info.height*a.info.tileHeight-a.cameraHeight.$1G/c),e=0,f=a.info.layers;e<f.length;){var m=f[e];++e;var g=m.name,h=a.layers,g=(null!=q[g]?h.getReserved(g):h.h[g]).$IG[3],h=m.parallaxX,k=m.parallaxY,h=(h>k?h:k)*(c-1)+1;g.setScale(h);g.x.set__(m.parallaxX*b*h);g.y.set__(m.parallaxY*d*h)}},__class__:jf});var kf=function(a){this.$tH=new Q;B.call(this);this.scene=a;this.$pH()};g["kit.creator.CreatorScript"]=kf;kf.__name__=["kit",
"creator","CreatorScript"];kf.__super__=B;kf.prototype=l(B.prototype,{get_entitySlot:function(){return 4},run:function(a,b,c){c=this.$tH;a=null!=q[a]?c.getReserved(a):c.h[a];return null!=a?s.runSequence(a.actions,b):null},onMessage:function(a,b){var c=!1,d=this.$tH,d=null!=q[a]?d.getReserved(a):d.h[a];if(null!=d){var e=b instanceof F?b:null;if(null!=e)for(var f=this.owner;null!=f;)f==p.root&&(s.runSequence(d.actions,e),c=!0),f=f.parent}return B.prototype.onMessage.call(this,a,b)?!0:c},$pH:function(){this.groups=
[];for(var a=0,b=this.scene.script.groups;a<b.length;){var c=b[a];++a;var d=c.actions.map(I(this,this.$qH)).filter(function(a){return null!=a}),d=new yh(c,d);this.groups.push(d);var c=c.name,e=this.$tH;null!=q[c]?e.setReserved(c,d):e.h[c]=d}},$qH:function(a){var b=O.resolveClass(a.type);if(null==b)return null;var c=O.createInstance(b,[]);c.script=this;for(var d=a.properties.keys();d.hasNext();){var e=d.next(),f=yc.$oM(b,e);if(null!=f){var m=a.properties,m=null!=q[e]?m.getReserved(e):m.h[e],f=this.$rH(f,
m,a.type+"."+e);null!=f&&X.setProperty(c,e,f)}}b=c instanceof $?c:null;null!=b&&(b.subActions=a.subActions.map(I(this,this.$qH)).filter(function(a){return null!=a}));return c},$rH:function(a,b,c){var d=yc.$rH(a,b);if(null!=d)return d;switch(a[1]){case 4:a=a[2];var d=[],e=0;for(b=b.split(",");e<b.length;){var f=b[e];++e;d.push(this.$rH(a,P.trim(f),c))}return d;case 6:switch(a[2]){case jd:return this.scene.getLayer(b,!1);case hc:return this.scene.getObject(b,!1)}}return null},__class__:kf});var yh=
function(a,b){this.info=a;this.actions=b};g["kit.creator.Group"]=yh;yh.__name__=["kit","creator","Group"];yh.prototype={__class__:yh};var ab=function(a){this.$xH=new F;this.state=new qa(null);u.call(this);this.$wH=a};g["kit.creator.ObjectSprite"]=ab;ab.__name__=["kit","creator","ObjectSprite"];ab.__super__=u;ab.prototype=l(u.prototype,{play:function(a,b){null==b&&(b=!0);var c=this;if(!b&&this.state.$1G==a)return this;var d=this.$xH.$IG[3],e=this.state.$1G,f=this.$uH(a),f=f instanceof ka?f:null;null!=
f&&f.get_looped().connect(function(){c.$vH(d,e)});return this},loop:function(a,b){null==b&&(b=!0);if(!b&&this.state.$1G==a)return this;this.$uH(a);return this},$uH:function(a){if(null==this.owner)return null;var b=this.$wH.states,b=null!=q[a]?b.getReserved(a):b.h[a];if(null==b)return null;var c=this.owner._internal_getFromParents(2);if(null==c)return null;var d=b.lastIndexOf("/");if(0>d)return null;var e=y.substr(b,0,d),d=y.substr(b,d+1,null),e=c.getLibrary(e,!1);if(null!=e)return b=e.createSprite(d),
this.$vH(b,a),b;b=c.getTexture(b,!1);return null!=b?(b=new za(b),this.$vH(b,a),b):null},$vH:function(a,b){var c=this.$wH.tile;if(null==c.texture){var d=c.properties;a.x.set__(-parseFloat(null!=q.boundsX?d.getReserved("boundsX"):d.h.boundsX));c=c.properties;a.y.set__(-parseFloat(null!=q.boundsY?c.getReserved("boundsY"):c.h.boundsY))}this.$xH.add(a);this.state.set__(b)},onStart:function(){u.prototype.onStart.call(this);if(null!=this.owner&&(this.owner.addChild(this.$xH),null==this.state.$1G)){var a,
b=this.$wH.tile,c=!1;if(null!=b.texture)a=new za(b.texture);else{a=this.owner._internal_getFromParents(2);var d=b.properties,d=null!=q.symbol?d.getReserved("symbol"):d.h.symbol,e=b.properties;null!=(null!=q.scene?e.getReserved("scene"):e.h.scene)?(d=a.getSceneSymbol(d),a=d.createSprite(),this.$xH.add(d.createScript()),b=b.properties,2<=parseFloat(null!=q.version?b.getReserved("version"):b.h.version)&&(c=!0)):(e=b.tileset.properties,e=null!=q.library?e.getReserved("library"):e.h.library,null!=e?a=
a.getLibrary(e).createSprite(d):(b=b.tileset.properties,null!=q.texturepacker&&b.getReserved("texturepacker"),a=null))}this.$vH(a,null);c&&(this.$xH.yieldForStart(),a.setXY(0,0),c=u.getBounds(this.$xH),c.get_empty()||a.setXY(-c.x+0,-c.y+(this.$wH.height-c.height)),this.setScale(1))}},__class__:ab});var Sa=function(){this.$zH=new Q;this.changed=new gc;B.call(this)};g["kit.creator.PropertyBag"]=Sa;Sa.__name__=["kit","creator","PropertyBag"];Sa.find=function(a,b){if(null==a)return null;var c=a._internal_getFromParents(10);
if(null==c)return null;var d=c.get(b);return null!=d?d:Sa.find(c.owner.parent,b)};Sa.__super__=B;Sa.prototype=l(B.prototype,{get_entitySlot:function(){return 10},get:function(a){var b=this.$yH(a);if(null!=b)return b.$1G;b=this.$zH;a=null!=q[a]?b.getReserved(a):b.h[a];return null!=a?a:null},set:function(a,b){var c=this.$yH(a);null!=c?c.$1G!=b&&(c.set__(b),this.changed.emit(a,b)):(c=this.$zH,(null!=q[a]?c.getReserved(a):c.h[a])!=b&&(c=this.$zH,null!=q[a]?c.setReserved(a,b):c.h[a]=b,this.changed.emit(a,
b)));return this},$yH:function(a){switch(a){case "alpha":case "anchorX":case "anchorY":case "rotation":case "scaleX":case "scaleY":case "x":case "y":var b=this.owner.$IG[3];if(null!=b&&(a=X.field(b,a),a instanceof V))return a}return null},__class__:Sa});var ma=function(a,b,c){null==c&&(c=!1);this.$2H=a;this.$sH=a.getFile(b+(c?".symbol":".scene"));this.symbol=c;a=b.lastIndexOf("/");this.$3H=0<=a?y.substr(b,0,a+1):"";this.$pH();this.reloadCount=new qa(0)};g["kit.creator.SceneInfo"]=ma;ma.__name__=["kit",
"creator","SceneInfo"];ma.getRequiredAssetPacks=function(a){var b=la.$MM("scenes");a=X.field(b,a);return null!=a?a:[]};ma.$5H=function(a){var b=new Q;if(null!=a)for(var c=0,d=X.fields(a);c<d.length;){var e=d[c];++c;if(!P.startsWith(e,"//")){var f=ma.$6H(X.field(a,e));null!=f&&(null!=q[e]?b.setReserved(e,f):b.h[e]=f)}}return b};ma.$6H=function(a){null!=a&&(a=P.trim(a),0==a.length&&(a=null));return a};ma.$7H=function(a,b){return null!=a?a:b};ma.prototype={disposeFiles:function(){this.$sH.dispose();
return this},createSprite:function(){return new N(this)},createScript:function(){return new kf(this)},getLayer:function(a,b){for(var c=0,d=this.layers;c<d.length;){var e=d[c];++c;if(e.name==a)return e}return null},getObject:function(a,b){var c=this.$4H;return null!=q[a]?c.getReserved(a):c.h[a]},$0H:function(a){return this.$2H.getTexture(this.$3H+Za.removeFileExtension(a),!1)},$1H:function(a){return this.$2H.getTexture(a)},$pH:function(){var a=this,b=this.$sH.toJson();this.width=b.width;this.height=
b.height;this.tileWidth=b.tilewidth;this.tileHeight=b.tileheight;this.tilesets=b.tilesets.map(function(b){return new zh(a,b)});this.backgroundColor=null!=b.backgroundcolor?A.parseInt(P.replace(b.backgroundcolor,"#","0x")):8421504;this.tiles=new jb;for(var c=0,d=this.tilesets;c<d.length;){var e=d[c];++c;for(var f=0,e=e.tiles;f<e.length;){var m=e[f];++f;this.tiles.h[m.id]=m}}this.layers=b.layers.map(function(b){return new jd(a,b)});this.properties=ma.$5H(b.properties);this.script=new Ah(b.script);this.$4H=
new Q;b=0;for(c=this.layers;b<c.length;)if(f=c[b],++b,null!=f.objects)for(d=0,f=f.objects;d<f.length;)if(e=f[d],++d,null!=e.name){var m=e.name,g=this.$4H;null!=q[m]?g.setReserved(m,e):g.h[m]=e}},__class__:ma};var lc=g["kit.creator.LayerType"]={__ename__:["kit","creator","LayerType"],__constructs__:["Tile","Object"]};lc.Tile=["Tile",0];lc.Tile.toString=k;lc.Tile.__enum__=lc;lc.Object=["Object",1];lc.Object.toString=k;lc.Object.__enum__=lc;var jd=function(a,b){this.parallaxX=this.parallaxY=1;this.tiles=
this.objects=null;var c=this;this.scene=a;this.name=ma.$6H(b.name);var d;switch(b.type){case "objectgroup":d=lc.Object;break;case "tilelayer":d=lc.Tile;break;default:d=null}this.type=d;this.width=b.width;this.height=b.height;this.opacity=b.opacity;this.visible=b.visible;null!=b.data&&(this.tiles=b.data.map(function(b){return 0!=b?a.tiles.h[b]:null}));null!=b.objects&&(this.objects=b.objects.map(function(a){return new hc(c,a)}),"index"!=b.draworder&&this.objects.sort(function(a,b){return X.compare(a.y+
a.height,b.y+b.height)}));null!=b.parallaxX&&(this.parallaxX=b.parallaxX,this.parallaxY=b.parallaxY);this.tileCollisions=b.collisions;this.properties=ma.$5H(b.properties)};g["kit.creator.LayerInfo"]=jd;jd.__name__=["kit","creator","LayerInfo"];jd.prototype={__class__:jd};var pa=g["kit.creator.ObjectShape"]={__ename__:["kit","creator","ObjectShape"],__constructs__:["Rectangle","Ellipse","Polygon","Polyline","Tile"]};pa.Rectangle=["Rectangle",0];pa.Rectangle.toString=k;pa.Rectangle.__enum__=pa;pa.Ellipse=
["Ellipse",1];pa.Ellipse.toString=k;pa.Ellipse.__enum__=pa;pa.Polygon=["Polygon",2];pa.Polygon.toString=k;pa.Polygon.__enum__=pa;pa.Polyline=["Polyline",3];pa.Polyline.toString=k;pa.Polyline.__enum__=pa;pa.Tile=["Tile",4];pa.Tile.toString=k;pa.Tile.__enum__=pa;var zh=function(a,b){this.offsetX=this.offsetY=0;this.atlas=null;this.scene=a;this.name=ma.$6H(b.name);this.spacing=b.spacing;this.margin=b.margin;var c=b.tileoffset;null!=c&&(this.offsetX=c.x,this.offsetY=c.y);this.tileWidth=b.tilewidth;this.tileHeight=
b.tileheight;if(null!=b.image){this.atlas=a.$0H(b.image);null==this.atlas&&(this.atlas=a.$1H(this.name));var c=this.atlas.get_width()-2*this.margin,d=this.atlas.get_height()-2*this.margin,c=(c+this.spacing)/(this.tileWidth+this.spacing)|0,d=(d+this.spacing)/(this.tileHeight+this.spacing)|0;this.tiles=Array(c*d);for(var e=0,f=0;f<d;)for(var m=f++,g=0,h=c;g<h;){var k=g++,l=new lf(this,b,e);l.texture=this.atlas.subTexture(k*(this.tileWidth+this.spacing)+this.margin,m*(this.tileHeight+this.spacing)+this.margin,
this.tileWidth,this.tileHeight);this.tiles[e]=l;++e}}else this.tiles=[];if(null!=b.tiles)for(c=0,d=X.fields(b.tiles);c<d.length;)if(e=d[c],++c,f=X.field(b.tiles,e),m=A.parseInt(e),e=this.tiles[m],null==e&&(e=this.tiles[m]=new lf(this,b,m)),null!=f.image&&(m=e.properties,"true"!=(null!=q.previewImage?m.getReserved("previewImage"):m.h.previewImage)&&(e.texture=a.$0H(f.image),null==e.texture&&(e.texture=a.$1H(this.name)))),null!=f.objectgroup)for(m=0,f=f.objectgroup.objects;m<f.length;)g=f[m],++m,e.collision.push(new hc(null,
g));this.properties=ma.$5H(b.properties)};g["kit.creator.TilesetInfo"]=zh;zh.__name__=["kit","creator","TilesetInfo"];zh.prototype={__class__:zh};var lf=function(a,b,c){this.collision=[];this.texture=null;this.id=b.firstgid+c;this.tileset=a;this.properties=ma.$5H(null!=b.tileproperties?X.field(b.tileproperties,""+c):null)};g["kit.creator.TileInfo"]=lf;lf.__name__=["kit","creator","TileInfo"];lf.prototype={get_width:function(){if(null!=this.texture)return this.texture.get_width();var a=this.properties;
return A.parseInt(null!=q.boundsWidth?a.getReserved("boundsWidth"):a.h.boundsWidth)},get_height:function(){if(null!=this.texture)return this.texture.get_height();var a=this.properties;return A.parseInt(null!=q.boundsHeight?a.getReserved("boundsHeight"):a.h.boundsHeight)},__class__:lf,__properties__:{get_height:"get_height",get_width:"get_width"}};var Ah=function(a){this.groups=null!=a?a.groups.map(function(a){return new Bh(a)}):[]};g["kit.creator.ScriptInfo"]=Ah;Ah.__name__=["kit","creator","ScriptInfo"];
Ah.prototype={__class__:Ah};var Bh=function(a){this.actions=[];this.name=a.name;this.actions=a.actions.map(function(a){return new mf(a)})};g["kit.creator.GroupInfo"]=Bh;Bh.__name__=["kit","creator","GroupInfo"];Bh.prototype={__class__:Bh};var mf=function(a){this.type=a.type;this.subActions=null!=a.subActions?a.subActions.map(function(a){return new mf(a)}):[];this.properties=ma.$5H(a.properties)};g["kit.creator.ActionInfo"]=mf;mf.__name__=["kit","creator","ActionInfo"];mf.prototype={__class__:mf};
var N=function(a){this.drawBackgroundColor=!1;this.objects=new sb;this.layers=new Q;this.camera=null;u.call(this);this.info=a;var b=new u;this.cameraX=new V(0,function(a,d){b.x.set__(-a)});this.cameraY=new V(0,function(a,d){b.y.set__(-a)});this.cameraWidth=new V(a.tileWidth*a.width);this.cameraHeight=new V(a.tileHeight*a.height);this.content=(new F).add(b)};g["kit.creator.SceneSprite"]=N;N.__name__=["kit","creator","SceneSprite"];N.$_H=function(a){null==a&&(a=new Ba);var b=la.$MM("width"),c=la.$MM("height"),
d=Math.min(p.$IH.$iG.get_width()/b,p.$IH.$iG.get_height()/c);if(1==la.$MM("scaleMode")){var e=Math.max(b,la.$MM("maxWidth")|0),f=Math.max(c,la.$MM("maxHeight")|0);a.width=Math.min(p.$IH.$iG.get_width()/d,e);a.height=Math.min(p.$IH.$iG.get_height()/d,f)}else a.width=p.$IH.$iG.get_width()/d,a.height=p.$IH.$iG.get_height()/d;a.x=-(a.width/2-b/2);a.y=-(a.height/2-c/2);return a};N.__super__=u;N.prototype=l(u.prototype,{onStart:function(){u.prototype.onStart.call(this);for(var a=0,b=this.info.layers;a<
b.length;){var c=b[a];++a;var d=new F;this.$8H(c,d);this.content.addChild(d)}},setCamera:function(a,b,c,d){this.cameraX.set__(a);this.cameraY.set__(b);this.cameraWidth.set__(c);this.cameraHeight.set__(d);return this},onAdded:function(){u.prototype.onAdded.call(this);this.owner.addChild(this.content)},draw:function(a){null!=this.camera&&this.camera.$oH(this);if(this.drawBackgroundColor){var b=N.$_H(N.$tE);a.fillRect(this.info.backgroundColor,b.x,b.y,b.width,b.height)}},onUpdate:function(a){u.prototype.onUpdate.call(this,
a);this.cameraX.update(a);this.cameraY.update(a);this.cameraWidth.update(a);this.cameraHeight.update(a)},$8H:function(a,b){var c;switch(a.type[1]){case 0:c=new nf(this,this.info,a);break;case 1:c=new u}c.alpha.set__(a.opacity);c.set_visible(a.visible);b.add(c);switch(a.type[1]){case 1:c=0;for(var d=a.objects;c<d.length;){var e=d[c];++c;var f=this.$9H(e,!0);if(null==f||f.spawned){var m=this.objects.get(e);if(e.shape==pa.Tile){if(null==m){var g=this.objects,m=new F;g.set(e,m)}m.add(e.createSprite());
null!=f&&m.add(f)}null!=m&&b.addChild(m)}}}c=a.name;d=this.layers;null!=q[c]?d.setReserved(c,b):d.h[c]=b},createObject:function(a){var b=new F,c=this.$9H(a,!1);a.shape==pa.Tile&&b.add(a.createSprite());null!=c&&b.add(c);return b},getNaturalWidth:function(){return this.info.symbol?0:this.cameraWidth.$1G},getNaturalHeight:function(){return this.info.symbol?0:this.cameraHeight.$1G},getLayer:function(a,b){var c=this.layers;return null!=q[a]?c.getReserved(a):c.h[a]},getObject:function(a,b){null==b&&(b=
!0);var c=this.objects,d=this.info.getObject(a,b);return c.h[d.__id__]},getObjectByType:function(a,b){for(var c=O.getClassName(a),d=this.objects.keys();d.hasNext();){var e=d.next();if(e.type==c)return this.objects.h[e.__id__]}return null},$9H:function(a,b){if(null==a.type)return null;if(b){var c=this.objects.h[a.__id__];if(null!=c&&(c=c.$IG[1],null!=c))return c}c=O.resolveClass(a.type);if(null==c)return null;var d=O.createInstance(c,[]);b&&this.objects.set(a,(new F).add(d));this.$$H(a,d,c);return d},
$$H:function(a,b,c){for(var d=a.properties.keys();d.hasNext();){var e=d.next(),f=a.properties,f=null!=q[e]?f.getReserved(e):f.h[e],m=yc.$oM(c,e);null!=m&&(f=this.$rH(m,f,a.type+"."+e),null!=f&&X.setProperty(b,e,f))}b.info=a},$rH:function(a,b,c){var d=yc.$rH(a,b);if(null!=d)return d;switch(a[1]){case 4:a=a[2];var d=[],e=0;for(b=b.split(",");e<b.length;){var f=b[e];++e;d.push(this.$rH(a,P.trim(f),c))}return d;case 6:switch(a[2]){case F:c=this.info.getObject(b,!1);if(null==c)break;c=this.$9H(c,!0);return null!=
c?c.owner:null;case jd:return this.info.getLayer(b,!1);case hc:return this.info.getObject(b,!1);default:c=a[2];b=this.info.getObject(b,!1);if(null==b)break;b=this.$9H(b,!0);if(null!=b){if(ca.__instanceof(b,c))return b;O.getClassName(c)}}}return null},__class__:N});var nf=function(a,b,c){u.call(this);this.$AI=a;this.$BI=b;this.$CI=c};g.$CU=nf;nf.__name__=["$CU"];nf.__super__=u;nf.prototype=l(u.prototype,{getNaturalWidth:function(){return this.$BI.tileWidth*this.$CI.width},getNaturalHeight:function(){return this.$BI.tileHeight*
this.$CI.height},containsLocal:function(a,b){var c=a/this.$BI.tileWidth|0;if(0>c||c>=this.$CI.width)return!1;var d=b/this.$BI.tileHeight|0;return 0>d||d>=this.$CI.height?!1:null!=this.$CI.tiles[d*this.$CI.width+c]},draw:function(a){var b=this.$BI.tileWidth,c=this.$BI.tileHeight,d=this.$CI.width,e=this.$CI.height,f=N.$_H(N.$tE);f.x=(f.x-this.x.$1G)/this.scaleX.$1G;f.y=(f.y-this.y.$1G)/this.scaleY.$1G;f.width/=this.scaleX.$1G;f.height/=this.scaleY.$1G;for(var m=Nb.clamp(f.x/b|0,0,d),g=Nb.clamp(f.y/
c|0,0,e),h=Nb.clamp(m+Math.ceil(f.width/b)+1,0,d),e=Nb.clamp(g+Math.ceil(f.height/c)+1,0,e);g<e;)for(var f=g++,k=m,l=h;k<l;){var n=k++,p=this.$CI.tiles[f*d+n];if(null!=p){var q=p.tileset;a.drawTexture(p.texture,n*b+q.offsetX,f*c+q.offsetY-q.tileHeight+c)}}},__class__:nf});var Aa=g["kit.display.TextAlign"]={__ename__:["kit","display","TextAlign"],__constructs__:["Left","Center","Right"]};Aa.Left=["Left",0];Aa.Left.toString=k;Aa.Left.__enum__=Aa;Aa.Center=["Center",1];Aa.Center.toString=k;Aa.Center.__enum__=
Aa;Aa.Right=["Right",2];Aa.Right.toString=k;Aa.Right.__enum__=Aa;var Ob=function(){this.textScale=1;this.text="Your text";this.letterSpacing=this.lineSpacing=0;this.textAlign=Aa.Left;M.call(this)};g["kit.creator.ui.BitmapText"]=Ob;Ob.__name__=["kit","creator","ui","BitmapText"];Ob.__super__=M;Ob.prototype=l(M.prototype,{onStart:function(){var a=this.owner._internal_getFromParents(2),a=new Da(a.getFont(this.font));a.set_align(this.textAlign);a.letterSpacing.set__(this.letterSpacing);a.lineSpacing.set__(this.lineSpacing);
a.wrapWidth.set__(this.info.width/this.textScale);this.owner.add(a);this.info.transformSprite(a);var b=a.scaleX;b.set__(b.$1G*this.textScale);a=a.scaleY;a.set__(a.$1G*this.textScale);this.$EI(!0);M.prototype.onStart.call(this)},$DI:function(){var a=this.owner.$IG[3];return a instanceof Da?a:null},$EI:function(a){var b=this,c=this.owner.$IG[3],c=c instanceof Da?c:null;if(null!=this.owner._internal_getFromParents(4)){var d=P.replace(this.text,"\\n","\n"),e=null;c.set_text((new Ga("{(.+?)}","g")).map(d,
function(c){var d=c.matched(1);if(null==e)for(e=[],c=b.owner;null!=c;){var g=c.$IG[10];null!=g&&e.push(g);c=c.parent}if(a)for(c=0;c<e.length;)g=e[c],++c,b.connect2(g.changed,function(a,c){a==d&&b.$EI(!1)});for(c=0;c<e.length;)if(g=e[c],++c,g=g.get(d),null!=g)return""+g;return"0"}))}},__class__:Ob});var kd=function(){this.pressDistance=10;M.call(this)};g["kit.creator.ui.Button"]=kd;kd.__name__=["kit","creator","ui","Button"];kd.__super__=M;kd.prototype=l(M.prototype,{onStart:function(){var a=this,
b=this.owner.$IG[3],c=b instanceof ab?b:null,d=!1,e=!1;b.get_pointerIn().connect(function(a){e=!0;null!=c&&c.loop(d?"down":"hover",!1)});b.get_pointerOut().connect(function(a){e=!1;null!=c&&c.loop("up")});b.get_pointerDown().connect(function(f){d=!0;f=b.y;f.set__(f.$1G+a.pressDistance);null!=c&&c.loop("down");p.$IH.$gG.up.connect(function(f){d=!1;f=b.y;f.set__(f.$1G-a.pressDistance);null!=c&&c.loop(e?"hover":"up")}).once()});M.prototype.onStart.call(this)},__class__:kd});var of=function(){M.call(this)};
g["kit.creator.ui.Image"]=of;of.__name__=["kit","creator","ui","Image"];of.__super__=M;of.prototype=l(M.prototype,{__class__:of});var Pb=function(){this.textAlign=Aa.Left;this.strokeWidth=this.lineSpacing=0;this.strokeColor=16777215;this.color=0;this.bold=this.italic=!1;this.fontSize=24;this.text="Your text";this.font=this.systemFont=null;M.call(this)};g["kit.creator.ui.Text"]=Pb;Pb.__name__=["kit","creator","ui","Text"];Pb.__super__=M;Pb.prototype=l(M.prototype,{onStart:function(){var a;a=null!=
this.font?this.owner._internal_getFromParents(2).getVectorFont(this.font):p.$IH.$hG.createSystemFont(null!=this.systemFont?this.systemFont:"sans");a=new na(a,P.replace(this.text,"\\n","\n"));a.fontSize.set__(this.fontSize);a.set_bold(this.bold);a.set_italic(this.italic);a.set_color(this.color);a.set_strokeColor(this.strokeColor);a.strokeWidth.set__(this.strokeWidth);a.lineSpacing.set__(this.lineSpacing);a.set_align(this.textAlign);a.wrapWidth.set__(this.info.width);this.owner.add(a);this.info.transformSprite(a);
this.$EI(!0);M.prototype.onStart.call(this)},$EI:function(a){var b=this,c=this.owner.$IG[3],c=c instanceof na?c:null;if(null!=this.owner._internal_getFromParents(4)){var d=P.replace(this.text,"\\n","\n"),e=null;c.set_text((new Ga("{(.+?)}","g")).map(d,function(c){var d=c.matched(1);if(null==e)for(e=[],c=b.owner;null!=c;){var g=c.$IG[10];null!=g&&e.push(g);c=c.parent}if(a)for(c=0;c<e.length;)g=e[c],++c,b.connect2(g.changed,function(a,c){a==d&&b.$EI(!1)});for(c=0;c<e.length;)if(g=e[c],++c,g=g.get(d),
null!=g)return""+g;return"0"}))}},__class__:Pb});var lb=g["kit.creator.ui.CameraSetting"]={__ename__:["kit","creator","ui","CameraSetting"],__constructs__:["Yes","Background","Foreground"]};lb.Yes=["Yes",0];lb.Yes.toString=k;lb.Yes.__enum__=lb;lb.Background=["Background",1];lb.Background.toString=k;lb.Background.__enum__=lb;lb.Foreground=["Foreground",2];lb.Foreground.toString=k;lb.Foreground.__enum__=lb;var pf=function(){};g["kit.display.Graphics"]=pf;pf.__name__=["kit","display","Graphics"];pf.prototype=
{__class__:pf};var de=function(){this.$GI=[]};g["kit.display.BufferedGraphics"]=de;de.__name__=["kit","display","BufferedGraphics"];de.__interfaces__=[pf];de.prototype={save:function(){this.$FI(new qf)},translate:function(a,b){this.$FI(new rf(a,b))},scale:function(a,b){this.$FI(new sf(a,b))},rotate:function(a){this.$FI(new tf(a))},transform:function(a,b,c,d,e,f){this.$FI(new uf(a,b,c,d,e,f))},multiplyAlpha:function(a){this.$FI(new vf(a))},setAlpha:function(a){this.$FI(new wf(a))},tint:function(a,
b,c){this.$FI(new xf(a,b,c))},setBlendMode:function(a){this.$FI(new yf(a))},beginMask:function(){this.$FI(new zf)},endMask:function(){this.$FI(new Af)},applyScissor:function(a,b,c,d){this.$FI(new Bf(a,b,c,d))},restore:function(){this.$FI(new Cf)},drawTexture:function(a,b,c){this.$FI(new Df(a,b,c))},drawSubTexture:function(a,b,c,d,e,f,m){this.$FI(new Ef(a,b,c,d,e,f,m))},drawPattern:function(a,b,c,d,e){this.$FI(new Ff(a,b,c,d,e))},fillRect:function(a,b,c,d,e){this.$FI(new Gf(a,b,c,d,e))},fillTriangles:function(a,
b,c){this.$FI(new Hf(a,b.slice(),c.slice()))},drawTriangles:function(a,b,c,d){this.$FI(new If(a,b.slice(),c.slice(),null!=d?d.slice():null))},fillPolygon:function(a,b){this.$FI(new Jf(a,b.slice()))},drawPolygon:function(a,b){this.$FI(new Kf(a,b.slice()))},drawCircle:function(a,b,c,d,e){null==e&&(e=50);this.$FI(new Lf(a,b,c,d,e))},fillCircle:function(a,b,c,d,e){null==e&&(e=50);this.$FI(new Mf(a,b,c,d,e))},strokeCircle:function(a,b,c,d,e,f){null==f&&(f=50);this.$FI(new Nf(a,b,c,d,e,f))},drawEllipse:function(a,
b,c,d,e,f){null==f&&(f=50);this.$FI(new Of(a,b,c,d,e,f))},fillEllipse:function(a,b,c,d,e,f){null==f&&(f=50);this.$FI(new Pf(a,b,c,d,e,f))},strokeEllipse:function(a,b,c,d,e,f,m){null==m&&(m=50);this.$FI(new Qf(a,b,c,d,e,f,m))},fillArc:function(a,b,c,d,e,f,m){null==m&&(m=50);this.$FI(new Rf(a,b,c,d,e,f,m))},strokeArc:function(a,b,c,d,e,f,m,g){null==g&&(g=50);this.$FI(new Sf(a,b,c,d,e,f,m,g))},strokeLines:function(a,b,c){this.$FI(new Tf(a,b.slice(),c))},drawLines:function(a,b,c){this.$FI(new Uf(a,b.slice(),
c))},render:function(a){for(var b=0,c=this.$GI.length;b<c;){var d=b++;this.$GI[d].$HI(a)}},$FI:function(a){this.$GI.push(a)},__class__:de};var J=function(){};g.$CV=J;J.__name__=["$CV"];J.prototype={$HI:function(a){},__class__:J};var qf=function(){};g.$CW=qf;qf.__name__=["$CW"];qf.__super__=J;qf.prototype=l(J.prototype,{$HI:function(a){a.save()},__class__:qf});var rf=function(a,b){this.$II=a;this.$JI=b};g.$CX=rf;rf.__name__=["$CX"];rf.__super__=J;rf.prototype=l(J.prototype,{$HI:function(a){a.translate(this.$II,
this.$JI)},__class__:rf});var sf=function(a,b){this.$II=a;this.$JI=b};g.$CY=sf;sf.__name__=["$CY"];sf.__super__=J;sf.prototype=l(J.prototype,{$HI:function(a){a.scale(this.$II,this.$JI)},__class__:sf});var tf=function(a){this.$KI=a};g.$CZ=tf;tf.__name__=["$CZ"];tf.__super__=J;tf.prototype=l(J.prototype,{$HI:function(a){a.rotate(this.$KI)},__class__:tf});var uf=function(a,b,c,d,e,f){this.$LI=a;this.$MI=b;this.$NI=c;this.$OI=d;this.$PI=e;this.$QI=f};g.$Ca=uf;uf.__name__=["$Ca"];uf.__super__=J;uf.prototype=
l(J.prototype,{$HI:function(a){a.transform(this.$LI,this.$MI,this.$NI,this.$OI,this.$PI,this.$QI)},__class__:uf});var vf=function(a){this.$RI=a};g.$Cb=vf;vf.__name__=["$Cb"];vf.__super__=J;vf.prototype=l(J.prototype,{$HI:function(a){a.multiplyAlpha(this.$RI)},__class__:vf});var wf=function(a){this.$SI=a};g.$Cc=wf;wf.__name__=["$Cc"];wf.__super__=J;wf.prototype=l(J.prototype,{$HI:function(a){a.setAlpha(this.$SI)},__class__:wf});var xf=function(a,b,c){this.$TI=a;this.$UI=b;this.$VI=c};g.$Cd=xf;xf.__name__=
["$Cd"];xf.__super__=J;xf.prototype=l(J.prototype,{$HI:function(a){a.tint(this.$TI,this.$UI,this.$VI)},__class__:xf});var yf=function(a){this.$WI=a};g.$Ce=yf;yf.__name__=["$Ce"];yf.__super__=J;yf.prototype=l(J.prototype,{$HI:function(a){a.setBlendMode(this.$WI)},__class__:yf});var Bf=function(a,b,c,d){this.$II=a;this.$JI=b;this.$XI=c;this.$YI=d};g.$Cf=Bf;Bf.__name__=["$Cf"];Bf.__super__=J;Bf.prototype=l(J.prototype,{$HI:function(a){a.applyScissor(this.$II,this.$JI,this.$XI,this.$YI)},__class__:Bf});
var zf=function(){};g.$Cg=zf;zf.__name__=["$Cg"];zf.__super__=J;zf.prototype=l(J.prototype,{$HI:function(a){a.beginMask()},__class__:zf});var Af=function(){};g.$Ch=Af;Af.__name__=["$Ch"];Af.__super__=J;Af.prototype=l(J.prototype,{$HI:function(a){a.endMask()},__class__:Af});var Cf=function(){};g.$Ci=Cf;Cf.__name__=["$Ci"];Cf.__super__=J;Cf.prototype=l(J.prototype,{$HI:function(a){a.restore()},__class__:Cf});var Df=function(a,b,c){this.$ZI=a;this.$aI=b;this.$bI=c};g.$Cj=Df;Df.__name__=["$Cj"];Df.__super__=
J;Df.prototype=l(J.prototype,{$HI:function(a){a.drawTexture(this.$ZI,this.$aI,this.$bI)},__class__:Df});var Ef=function(a,b,c,d,e,f,m){this.$ZI=a;this.$aI=b;this.$bI=c;this.$cI=d;this.$dI=e;this.$eI=f;this.$fI=m};g.$Ck=Ef;Ef.__name__=["$Ck"];Ef.__super__=J;Ef.prototype=l(J.prototype,{$HI:function(a){a.drawSubTexture(this.$ZI,this.$aI,this.$bI,this.$cI,this.$dI,this.$eI,this.$fI)},__class__:Ef});var Ff=function(a,b,c,d,e){this.$ZI=a;this.$aI=b;this.$bI=c;this.$XI=d;this.$YI=e};g.$Cl=Ff;Ff.__name__=
["$Cl"];Ff.__super__=J;Ff.prototype=l(J.prototype,{$HI:function(a){a.drawPattern(this.$ZI,this.$aI,this.$bI,this.$XI,this.$YI)},__class__:Ff});var Hf=function(a,b,c){this.$gI=a;this.$hI=b;this.$iI=c};g.$Cm=Hf;Hf.__name__=["$Cm"];Hf.__super__=J;Hf.prototype=l(J.prototype,{$HI:function(a){a.fillTriangles(this.$gI,this.$hI,this.$iI)},__class__:Hf});var If=function(a,b,c,d){this.$ZI=a;this.$hI=b;this.$iI=c;this.$jI=d};g.$Cn=If;If.__name__=["$Cn"];If.__super__=J;If.prototype=l(J.prototype,{$HI:function(a){a.drawTriangles(this.$ZI,
this.$hI,this.$iI,this.$jI)},__class__:If});var Jf=function(a,b){this.$gI=a;this.$hI=b};g.$Co=Jf;Jf.__name__=["$Co"];Jf.__super__=J;Jf.prototype=l(J.prototype,{$HI:function(a){a.fillPolygon(this.$gI,this.$hI)},__class__:Jf});var Kf=function(a,b){this.$ZI=a;this.$hI=b};g.$Cp=Kf;Kf.__name__=["$Cp"];Kf.__super__=J;Kf.prototype=l(J.prototype,{$HI:function(a){a.drawPolygon(this.$ZI,this.$hI)},__class__:Kf});var Lf=function(a,b,c,d,e){this.$ZI=a;this.$kI=b;this.$lI=c;this.$mI=d;this.$nI=e};g.$Cq=Lf;Lf.__name__=
["$Cq"];Lf.__super__=J;Lf.prototype=l(J.prototype,{$HI:function(a){a.drawCircle(this.$ZI,this.$kI,this.$lI,this.$mI,this.$nI)},__class__:Lf});var Mf=function(a,b,c,d,e){this.$gI=a;this.$kI=b;this.$lI=c;this.$mI=d;this.$nI=e};g.$Cr=Mf;Mf.__name__=["$Cr"];Mf.__super__=J;Mf.prototype=l(J.prototype,{$HI:function(a){a.fillCircle(this.$gI,this.$kI,this.$lI,this.$mI,this.$nI)},__class__:Mf});var Nf=function(a,b,c,d,e,f){this.$gI=a;this.$kI=b;this.$lI=c;this.$mI=d;this.$oI=e;this.$nI=f};g.$Cs=Nf;Nf.__name__=
["$Cs"];Nf.__super__=J;Nf.prototype=l(J.prototype,{$HI:function(a){a.strokeCircle(this.$gI,this.$kI,this.$lI,this.$mI,this.$oI,this.$nI)},__class__:Nf});var Pf=function(a,b,c,d,e,f){this.$gI=a;this.$kI=b;this.$lI=c;this.$pI=d;this.$qI=e;this.$nI=f};g.$Ct=Pf;Pf.__name__=["$Ct"];Pf.__super__=J;Pf.prototype=l(J.prototype,{$HI:function(a){a.fillEllipse(this.$gI,this.$kI,this.$lI,this.$pI,this.$qI,this.$nI)},__class__:Pf});var Of=function(a,b,c,d,e,f){this.$ZI=a;this.$kI=b;this.$lI=c;this.$pI=d;this.$qI=
e;this.$nI=f};g.$Cu=Of;Of.__name__=["$Cu"];Of.__super__=J;Of.prototype=l(J.prototype,{$HI:function(a){a.drawEllipse(this.$ZI,this.$kI,this.$lI,this.$pI,this.$qI,this.$nI)},__class__:Of});var Qf=function(a,b,c,d,e,f,m){this.$gI=a;this.$kI=b;this.$lI=c;this.$pI=d;this.$qI=e;this.$oI=f;this.$nI=m};g.$Cv=Qf;Qf.__name__=["$Cv"];Qf.__super__=J;Qf.prototype=l(J.prototype,{$HI:function(a){a.strokeEllipse(this.$gI,this.$kI,this.$lI,this.$pI,this.$qI,this.$oI,this.$nI)},__class__:Qf});var Rf=function(a,b,c,
d,e,f,m){this.$gI=a;this.$kI=b;this.$lI=c;this.$mI=d;this.$rI=e;this.$sI=f;this.$nI=m};g.$Cw=Rf;Rf.__name__=["$Cw"];Rf.__super__=J;Rf.prototype=l(J.prototype,{$HI:function(a){a.fillArc(this.$gI,this.$kI,this.$lI,this.$mI,this.$rI,this.$sI,this.$nI)},__class__:Rf});var Sf=function(a,b,c,d,e,f,m,g){this.$gI=a;this.$kI=b;this.$lI=c;this.$mI=d;this.$rI=e;this.$sI=f;this.$oI=m;this.$nI=g};g.$Cx=Sf;Sf.__name__=["$Cx"];Sf.__super__=J;Sf.prototype=l(J.prototype,{$HI:function(a){a.strokeArc(this.$gI,this.$kI,
this.$lI,this.$mI,this.$rI,this.$sI,this.$oI,this.$nI)},__class__:Sf});var Tf=function(a,b,c){this.$gI=a;this.$hI=b;this.$tI=c};g.$Cy=Tf;Tf.__name__=["$Cy"];Tf.__super__=J;Tf.prototype=l(J.prototype,{$HI:function(a){a.strokeLines(this.$gI,this.$hI,this.$tI)},__class__:Tf});var Uf=function(a,b,c){this.$ZI=a;this.$hI=b;this.$tI=c};g.$Cz=Uf;Uf.__name__=["$Cz"];Uf.__super__=J;Uf.prototype=l(J.prototype,{$HI:function(a){a.drawLines(this.$ZI,this.$hI,this.$tI)},__class__:Uf});var Gf=function(a,b,c,d,e){this.$gI=
a;this.$II=b;this.$JI=c;this.$XI=d;this.$YI=e};g.$C0=Gf;Gf.__name__=["$C0"];Gf.__super__=J;Gf.prototype=l(J.prototype,{$HI:function(a){a.fillRect(this.$gI,this.$II,this.$JI,this.$XI,this.$YI)},__class__:Gf});var Jb=function(a,b,c){u.call(this);this.color=a;this.width=new V(b);this.height=new V(c)};g["kit.display.FillSprite"]=Jb;Jb.__name__=["kit","display","FillSprite"];Jb.__super__=u;Jb.prototype=l(u.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width.$1G,this.height.$1G)},getNaturalWidth:function(){return this.width.$1G},
getNaturalHeight:function(){return this.height.$1G},setSize:function(a,b){this.width.set__(a);this.height.set__(b);return this},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:Jb});var Vf=function(a){this.$vI=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};g["kit.display.Glyph"]=Vf;Vf.__name__=["kit","display","Glyph"];Vf.prototype={draw:function(a,b,c){0<this.width&&
a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this.$vI?this.$vI.h[a]|0:0},$uI:function(a,b){null==this.$vI&&(this.$vI=new jb);this.$vI.h[a]=b},__class__:Vf};var wc=function(a,b){this.name=b;this.$2H=a;this.$sH=a.getFile(b+".fnt");this.$pH()};g["kit.display.Font"]=wc;wc.__name__=["kit","display","Font"];wc.prototype={disposeFiles:function(){this.$sH.dispose();return this},layoutText:function(a,b,c,d,e){null==e&&(e=
0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=Aa.Left);return new zc(this,a,b,c,d,e)},$pH:function(){this.$wI=new jb;this.$wI.h[wc.$xI.charCode]=wc.$xI;for(var a=new Lc(this.$sH.toString()),b=new jb,c=this.name.lastIndexOf("/"),c=0<=c?y.substr(this.name,0,c+1):"",d=a.$2I();d.hasNext();)switch(d.next()){case "char":for(var e=null,f=a.$3I();f.hasNext();){var m=f.next();switch(m.$9I){case "height":e.height=m.$$I();break;case "id":e=new Vf(m.$$I());break;case "page":m=m.$$I();e.page=b.h[m];break;case "width":e.width=
m.$$I();break;case "x":e.x=m.$$I();break;case "xadvance":e.xAdvance=m.$$I();break;case "xoffset":e.xOffset=m.$$I();break;case "y":e.y=m.$$I();break;case "yoffset":e.yOffset=m.$$I()}}this.$wI.set(e.charCode,e);break;case "common":for(e=a.$3I();e.hasNext();)f=e.next(),"lineHeight"==f.$9I&&(this.lineHeight=f.$$I());break;case "info":for(e=a.$3I();e.hasNext();)switch(f=e.next(),f.$9I){case "face":this.typeface=f.$_I();break;case "size":this.size=f.$$I()}break;case "kerning":for(var e=null,m=f=0,g=a.$3I();g.hasNext();){var h=
g.next();switch(h.$9I){case "amount":m=h.$$I();break;case "first":e=this.$wI.get(h.$$I());break;case "second":f=h.$$I()}}null!=e&&0!=m&&e.$uI(f,m);break;case "page":e=0;f=null;for(m=a.$3I();m.hasNext();)switch(g=m.next(),g.$9I){case "file":f=g.$_I();break;case "id":e=g.$$I()}f=this.$2H.getTexture(c+Za.removeFileExtension(f));b.h[e]=f}},__class__:wc};var zc=function(a,b,c,d,e,f){this.lines=0;var m=this;this.$yI=a;this.$wI=[];this.$zI=[];this.$0I=Math.round(a.lineHeight+f);this.bounds=new Ba;var g=
[];f=0;for(var h=b.length;f<h;){var k=f++,k=b.charCodeAt(k),k=a.$wI.get(k);null!=k&&this.$wI.push(k)}b=-1;var l=0,n=0;a=a.$wI.get(10);f=function(){var a=m.bounds.width;m.bounds.width=a>l?a:l;m.bounds.height+=n;g[m.lines]=l;n=l=0;++m.lines};for(h=0;h<this.$wI.length;){k=this.$wI[h];this.$zI[h]=Math.round(l);var p=0<d&&l+k.width>d;p||k==a?(p&&(0<=b?(this.$wI[b]=a,l=this.$zI[b],h=b):this.$wI.splice(h,0,a)),b=-1,n=this.$0I,f()):(32==k.charCode&&(b=h),l+=k.xAdvance+e,p=k.height+k.yOffset,n>p||(n=p),h+
1<this.$wI.length&&(l+=k.getKerning(this.$wI[h+1].charCode)));++h}f();e=0;a=zc.$1I(c,g[0],d);b=1.79769313486231E308;f=-1.79769313486231E308;k=h=0;for(p=this.$wI.length;k<p;){var q=this.$wI[k];10==q.charCode&&(e+=this.$0I,++h,a=zc.$1I(c,g[h],d));this.$zI[k]+=a;var s=e+q.yOffset;b=b<s?b:s;q=s+q.height;f>q||(f=q);++k}this.bounds.x=zc.$1I(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=f-b};g["kit.display.TextLayout"]=zc;zc.__name__=["kit","display","TextLayout"];zc.$1I=function(a,b,c){switch(a[1]){case 0:return 0;
case 1:return Math.round((c-b)/2);case 2:return c-b}};zc.prototype={draw:function(a){for(var b=0,c=0,d=this.$wI.length;c<d;){var e=this.$wI[c];10==e.charCode?b+=this.$0I:e.draw(a,this.$zI[c],b);++c}},__class__:zc};var Lc=function(a){this.$4I=a;this.$6I=new Ga("([A-Za-z]+)(.*)","");this.$7I=new Ga('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};g.$C1=Lc;Lc.__name__=["$C1"];Lc.$8I=function(a,b){var c=b.matchedPos();return y.substr(a,c.pos+c.len,a.length)};Lc.prototype={$2I:function(){var a=this,b=this.$4I;return{next:function(){b=
Lc.$8I(b,a.$6I);a.$5I=a.$6I.matched(2);return a.$6I.matched(1)},hasNext:function(){return a.$6I.match(b)}}},$3I:function(){var a=this,b=this.$5I;return{next:function(){b=Lc.$8I(b,a.$7I);return new Ch(a.$7I.matched(1),a.$7I.matched(2))},hasNext:function(){return a.$7I.match(b)}}},__class__:Lc};var Ch=function(a,b){this.$9I=a;this.$1G=b};g.$C2=Ch;Ch.__name__=["$C2"];Ch.prototype={$$I:function(){return A.parseInt(this.$1G)},$_I:function(){return 34!=this.$1G.charCodeAt(0)?null:y.substr(this.$1G,1,this.$1G.length-
2)},__class__:Ch};var za=function(a){u.call(this);this.texture=a};g["kit.display.ImageSprite"]=za;za.__name__=["kit","display","ImageSprite"];za.__super__=u;za.prototype=l(u.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:za});var Qb=g["kit.display.Orientation"]={__ename__:["kit","display","Orientation"],
__constructs__:["Portrait","Landscape"]};Qb.Portrait=["Portrait",0];Qb.Portrait.toString=k;Qb.Portrait.__enum__=Qb;Qb.Landscape=["Landscape",1];Qb.Landscape.toString=k;Qb.Landscape.__enum__=Qb;var mc=function(a,b,c){null==c&&(c=-1);null==b&&(b=-1);u.call(this);this.texture=a;0>b&&(b=null!=a?a.get_width():0);this.width=new V(b);0>c&&(c=null!=a?a.get_height():0);this.height=new V(c)};g["kit.display.PatternSprite"]=mc;mc.__name__=["kit","display","PatternSprite"];mc.__super__=u;mc.prototype=l(u.prototype,
{draw:function(a){null!=this.texture&&a.drawPattern(this.texture,0,0,this.width.$1G,this.height.$1G)},getNaturalWidth:function(){return this.width.$1G},getNaturalHeight:function(){return this.height.$1G},setSize:function(a,b){this.width.set__(a);this.height.set__(b);return this},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:mc});var mb=function(){this.$JJ=null;this.$IJ=[];this.$FJ=this.$GJ=this.$HJ=null;this.$EJ=new V(1);this.$DJ=new V(1);
this.$CJ=new V(1);this.$AJ=this.$BJ=null};g.$C3=mb;mb.__name__=["$C3"];mb.prototype={__class__:mb};var Wf=function(){};g["kit.display.Texture"]=Wf;Wf.__name__=["kit","display","Texture"];Wf.__interfaces__=[ac];Wf.prototype={__class__:Wf,__properties__:{get_graphics:"get_graphics",get_height:"get_height",get_width:"get_width"}};var Xf=function(){};g["kit.display.SubTexture"]=Xf;Xf.__name__=["kit","display","SubTexture"];Xf.__interfaces__=[Wf];Xf.prototype={__class__:Xf,__properties__:{get_y:"get_y",
get_x:"get_x"}};var Da=function(a,b){null==b&&(b="");this.$PJ=null;var c=this;u.call(this);this.$yI=a;this.$NJ=b;this.$OJ=Aa.Left;this.$B|=256;var d=function(a,b){c.$B|=256};this.wrapWidth=new V(0,d);this.letterSpacing=new V(0,d);this.lineSpacing=new V(0,d)};g["kit.display.TextSprite"]=Da;Da.__name__=["kit","display","TextSprite"];Da.__super__=u;Da.prototype=l(u.prototype,{draw:function(a){this.$MJ();this.$PJ.draw(a)},getNaturalWidth:function(){this.$MJ();return 0<this.wrapWidth.$1G?this.wrapWidth.$1G:
this.$PJ.bounds.width},getNaturalHeight:function(){this.$MJ();var a=this.$PJ.lines*(this.$yI.lineHeight+this.lineSpacing.$1G),b=this.$PJ.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.$MJ();return this.$PJ.bounds.contains(a,b)},setWrapWidth:function(a){this.wrapWidth.set__(a);return this},setAlign:function(a){this.set_align(a);return this},set_text:function(a){a!=this.$NJ&&(this.$NJ=a,this.$B|=256);return a},set_align:function(a){a!=this.$OJ&&(this.$OJ=a,this.$B|=256);return a},$MJ:function(){0!=
(this.$B&256)&&(this.$B&=-257,this.$PJ=this.$yI.layoutText(this.$NJ,this.$OJ,this.wrapWidth.$1G,this.letterSpacing.$1G,this.lineSpacing.$1G))},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:Da,__properties__:l(u.prototype.__properties__,{set_align:"set_align",set_text:"set_text"})});var va=g["kit.display.TextureFormat"]={__ename__:["kit","display","TextureFormat"],__constructs__:["RGBA","RGBA_4444",
"RGB","RGB_565","COMPRESSED"]};va.RGBA=["RGBA",0];va.RGBA.toString=k;va.RGBA.__enum__=va;va.RGBA_4444=["RGBA_4444",1];va.RGBA_4444.toString=k;va.RGBA_4444.__enum__=va;va.RGB=["RGB",2];va.RGB.toString=k;va.RGB.__enum__=va;va.RGB_565=["RGB_565",3];va.RGB_565.toString=k;va.RGB_565.__enum__=va;va.COMPRESSED=["COMPRESSED",4];va.COMPRESSED.toString=k;va.COMPRESSED.__enum__=va;var Yf=function(){};g["kit.display.VectorFont"]=Yf;Yf.__name__=["kit","display","VectorFont"];Yf.__interfaces__=[ac];Yf.prototype=
{__class__:Yf};var Dh=function(){this.align=Aa.Left;this.strokeWidth=this.lineSpacing=this.wrapWidth=0;this.strokeColor=16777215;this.color=0;this.bold=this.italic=!1;this.fontSize=18};g["kit.display.TextStyle"]=Dh;Dh.__name__=["kit","display","TextStyle"];Dh.prototype={__class__:Dh};var na=function(a,b){null==b&&(b="");this.$ZI=null;this.$OJ=Aa.Left;this.$ZJ=16777215;this.$gI=0;this.$XJ=this.$YJ=!1;this.marginX=this.marginY=0;var c=this;u.call(this);this.$yI=a;this.$NJ=b;this.$B|=256;var d=function(a,
b){c.$B|=256};this.fontSize=new V(18,d);this.strokeWidth=new V(0,d);this.wrapWidth=new V(0,d);this.lineSpacing=new V(0,d)};g["kit.display.VectorTextSprite"]=na;na.__name__=["kit","display","VectorTextSprite"];na.__super__=u;na.prototype=l(u.prototype,{getNaturalWidth:function(){this.$WJ();return null!=this.$ZI?1*this.$ZI.get_width():0},getNaturalHeight:function(){this.$WJ();return null!=this.$ZI?1*this.$ZI.get_height():0},containsLocal:function(a,b){this.$WJ();if(null==this.$ZI)return!1;var c=this.$UJ(),
d=this.$VJ();return a>=c&&a<=c+1*this.$ZI.get_width()&&b>=d?b<=d+1*this.$ZI.get_height():!1},draw:function(a){this.$WJ();null!=this.$ZI&&(a.scale(1,1),a.drawTexture(this.$ZI,this.$UJ(),this.$VJ()))},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.fontSize.update(a);this.strokeWidth.update(a)},dispose:function(){u.prototype.dispose.call(this);null!=this.$ZI&&(this.$ZI.dispose(),this.$ZI=null);this.$B|=256},$SJ:function(){if(0<this.wrapWidth.$1G)return 0;switch(this.$OJ[1]){case 0:return 0;
case 1:return-this.$ZI.get_width()/2;case 2:return-this.$ZI.get_width()}},$UJ:function(){return this.marginX/1+this.$SJ()},$VJ:function(){return this.marginY/1+0},$WJ:function(){if(0!=(this.$B&256)&&(this.$B&=-257,null!=this.$ZI&&(this.$ZI.dispose(),this.$ZI=null),0<this.$NJ.length)){var a=new Dh;a.fontSize=this.fontSize.$1G/1;a.bold=this.$XJ;a.italic=this.$YJ;a.color=this.$gI;a.strokeColor=this.$ZJ;a.strokeWidth=this.strokeWidth.$1G/1;a.lineSpacing=this.lineSpacing.$1G/1;a.wrapWidth=this.wrapWidth.$1G/
1;a.align=this.$OJ;this.$ZI=this.$yI.createTexture(this.$NJ,a)}},set_text:function(a){a!=this.$NJ&&(this.$NJ=a,this.$B|=256);return a},set_bold:function(a){a!=this.$XJ&&(this.$XJ=a,this.$B|=256);return a},set_italic:function(a){a!=this.$YJ&&(this.$YJ=a,this.$B|=256);return a},set_color:function(a){a!=this.$gI&&(this.$gI=a,this.$B|=256);return a},set_strokeColor:function(a){a!=this.$ZJ&&(this.$ZJ=a,this.$B|=256);return a},set_align:function(a){a!=this.$OJ&&(this.$OJ=a,this.$B|=256);return a},__class__:na,
__properties__:l(u.prototype.__properties__,{set_align:"set_align",set_strokeColor:"set_strokeColor",set_color:"set_color",set_italic:"set_italic",set_bold:"set_bold",set_text:"set_text"})});var Cb=function(){this.$dJ=this.$eJ=this.$fJ=null;this.$cJ=new Q;this.paddingTop=this.paddingRight=this.paddingBottom=this.paddingLeft=0;this.outputOnly=!1;this.active=!0};g["kit.filter.Filter"]=Cb;Cb.__name__=["kit","filter","Filter"];Cb.prototype={setVertexShader:function(a){this.$eJ=a;this.$fJ=null},setFragmentShader:function(a){this.$dJ=
a;this.$fJ=null},apply:function(a){a.render(this)},setUniformFloat:function(a,b){this.$aJ(a,0,b)},setUniformVec2:function(a,b,c){this.$aJ(a,1,[b,c])},setUniformSampler2D:function(a,b){this.$aJ(a,11,b)},update:function(a){},$aJ:function(a,b,c){var d=this.$cJ,d=null!=q[a]?d.getReserved(a):d.h[a];if(null==d){var e=this.$cJ,f=d=new Eh(a);null!=q[a]?e.setReserved(a,f):e.h[a]=f}d.$pJ=b;d.$oJ=c},$bJ:function(){null==this.$fJ&&(this.$fJ=null!=this.$eJ?this.$eJ+"@"+this.$dJ:this.$dJ);return this.$fJ},__class__:Cb};
var yb=function(){this.$jJ=new Cb;this.$iJ=new Cb;this.$hJ=5;this.$gJ=!0;this.quality=1;this.blurY=new V(4);this.blurX=new V(4);var a=this;Cb.call(this);this.blurX.watch(function(b,c){var d=Math.ceil(b);a.paddingLeft=d;a.paddingRight=d;a.$iJ.setUniformFloat("radius",b);a.$iJ.active=0<b});this.blurY.watch(function(b,c){var d=Math.ceil(b);a.paddingTop=d;a.paddingBottom=d;a.$jJ.setUniformFloat("radius",b);a.$jJ.active=0<b})};g["kit.filter.BlurFilter"]=yb;yb.__name__=["kit","filter","BlurFilter"];yb.$kJ=
function(a,b){for(var c=a.length,d="float m = radius / ("+Math.floor(c/2)+".0 * uTextureSize."+(b?"y":"x")+");\n",e=Math.ceil(c/2),f=0;f<c;)var m=f++,g=m-e+1,d=d+("vBlurTexCoords["+m+"] = aTextureCoord + "+(b?"vec2(0.0, "+g+".0*m)":"vec2("+g+".0*m, 0.0)")+";\n");return["uniform float radius;","varying vec2 vBlurTexCoords["+c+"];","void main () {",d,"gl_Position = vec4(aVertexPosition, 0, 1);\n}"].join("\n")};yb.$lJ=function(a){for(var b=a.length,c="",d=0;d<b;)var e=d++,c=c+("gl_FragColor += texture2D(uTexture, vBlurTexCoords["+
e+"]) * float("+a[e]+");\n");return["varying vec2 vBlurTexCoords["+b+"];","void main () {\ngl_FragColor = vec4(0.0);",c,"}"].join("\n")};yb.$mJ=function(a){var b=2*Math.sqrt(2*Math.PI);return Math.exp(-a*a/8)/b};yb.__super__=Cb;yb.prototype=l(Cb.prototype,{setBlur:function(a){this.blurX.set__(a);this.blurY.set__(a);return this},update:function(a){Cb.prototype.update.call(this,a);this.blurX.update(a);this.blurY.update(a)},apply:function(a){if(this.$gJ){this.$gJ=!1;for(var b=0,c=this.$hJ/2|0,d=Array(2*
c),e=0,f=-c,c=c+1;f<c;){var m=f++,m=yb.$mJ(m);d[e++]=m;b+=m}e=0;for(f=d.length;e<f;)c=e++,d[c]/=b;this.$iJ.setVertexShader(yb.$kJ(d,!1));this.$iJ.setFragmentShader(yb.$lJ(d));this.$jJ.setVertexShader(yb.$kJ(d,!0));this.$jJ.setFragmentShader(yb.$lJ(d))}b=0;for(d=this.quality;b<d;)b++,a.apply(this.$iJ),a.apply(this.$jJ)},__class__:yb});var Eh=function(a){this.$pJ=0;this.$oJ=null;this.$nJ=a};g.$C5=Eh;Eh.__name__=["$C5"];Eh.prototype={__class__:Eh};var h=g["kit.input.Key"]={__ename__:["kit","input","Key"],
__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Number0 Number1 Number2 Number3 Number4 Number5 Number6 Number7 Number8 Number9 Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadDecimal NumpadDivide NumpadEnter NumpadMultiply NumpadSubtract F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 Left Up Right Down Alt Backquote Backslash Backspace CapsLock Comma Command Control Delete End Enter Equals Escape Home Insert LeftBracket Minus PageDown PageUp Period Quote RightBracket Semicolon Shift Slash Space Tab Menu Search Unknown".split(" ")};
h.A=["A",0];h.A.toString=k;h.A.__enum__=h;h.B=["B",1];h.B.toString=k;h.B.__enum__=h;h.C=["C",2];h.C.toString=k;h.C.__enum__=h;h.D=["D",3];h.D.toString=k;h.D.__enum__=h;h.E=["E",4];h.E.toString=k;h.E.__enum__=h;h.F=["F",5];h.F.toString=k;h.F.__enum__=h;h.G=["G",6];h.G.toString=k;h.G.__enum__=h;h.H=["H",7];h.H.toString=k;h.H.__enum__=h;h.I=["I",8];h.I.toString=k;h.I.__enum__=h;h.J=["J",9];h.J.toString=k;h.J.__enum__=h;h.K=["K",10];h.K.toString=k;h.K.__enum__=h;h.L=["L",11];h.L.toString=k;h.L.__enum__=
h;h.M=["M",12];h.M.toString=k;h.M.__enum__=h;h.N=["N",13];h.N.toString=k;h.N.__enum__=h;h.O=["O",14];h.O.toString=k;h.O.__enum__=h;h.P=["P",15];h.P.toString=k;h.P.__enum__=h;h.Q=["Q",16];h.Q.toString=k;h.Q.__enum__=h;h.R=["R",17];h.R.toString=k;h.R.__enum__=h;h.S=["S",18];h.S.toString=k;h.S.__enum__=h;h.T=["T",19];h.T.toString=k;h.T.__enum__=h;h.U=["U",20];h.U.toString=k;h.U.__enum__=h;h.V=["V",21];h.V.toString=k;h.V.__enum__=h;h.W=["W",22];h.W.toString=k;h.W.__enum__=h;h.X=["X",23];h.X.toString=
k;h.X.__enum__=h;h.Y=["Y",24];h.Y.toString=k;h.Y.__enum__=h;h.Z=["Z",25];h.Z.toString=k;h.Z.__enum__=h;h.Number0=["Number0",26];h.Number0.toString=k;h.Number0.__enum__=h;h.Number1=["Number1",27];h.Number1.toString=k;h.Number1.__enum__=h;h.Number2=["Number2",28];h.Number2.toString=k;h.Number2.__enum__=h;h.Number3=["Number3",29];h.Number3.toString=k;h.Number3.__enum__=h;h.Number4=["Number4",30];h.Number4.toString=k;h.Number4.__enum__=h;h.Number5=["Number5",31];h.Number5.toString=k;h.Number5.__enum__=
h;h.Number6=["Number6",32];h.Number6.toString=k;h.Number6.__enum__=h;h.Number7=["Number7",33];h.Number7.toString=k;h.Number7.__enum__=h;h.Number8=["Number8",34];h.Number8.toString=k;h.Number8.__enum__=h;h.Number9=["Number9",35];h.Number9.toString=k;h.Number9.__enum__=h;h.Numpad0=["Numpad0",36];h.Numpad0.toString=k;h.Numpad0.__enum__=h;h.Numpad1=["Numpad1",37];h.Numpad1.toString=k;h.Numpad1.__enum__=h;h.Numpad2=["Numpad2",38];h.Numpad2.toString=k;h.Numpad2.__enum__=h;h.Numpad3=["Numpad3",39];h.Numpad3.toString=
k;h.Numpad3.__enum__=h;h.Numpad4=["Numpad4",40];h.Numpad4.toString=k;h.Numpad4.__enum__=h;h.Numpad5=["Numpad5",41];h.Numpad5.toString=k;h.Numpad5.__enum__=h;h.Numpad6=["Numpad6",42];h.Numpad6.toString=k;h.Numpad6.__enum__=h;h.Numpad7=["Numpad7",43];h.Numpad7.toString=k;h.Numpad7.__enum__=h;h.Numpad8=["Numpad8",44];h.Numpad8.toString=k;h.Numpad8.__enum__=h;h.Numpad9=["Numpad9",45];h.Numpad9.toString=k;h.Numpad9.__enum__=h;h.NumpadAdd=["NumpadAdd",46];h.NumpadAdd.toString=k;h.NumpadAdd.__enum__=h;h.NumpadDecimal=
["NumpadDecimal",47];h.NumpadDecimal.toString=k;h.NumpadDecimal.__enum__=h;h.NumpadDivide=["NumpadDivide",48];h.NumpadDivide.toString=k;h.NumpadDivide.__enum__=h;h.NumpadEnter=["NumpadEnter",49];h.NumpadEnter.toString=k;h.NumpadEnter.__enum__=h;h.NumpadMultiply=["NumpadMultiply",50];h.NumpadMultiply.toString=k;h.NumpadMultiply.__enum__=h;h.NumpadSubtract=["NumpadSubtract",51];h.NumpadSubtract.toString=k;h.NumpadSubtract.__enum__=h;h.F1=["F1",52];h.F1.toString=k;h.F1.__enum__=h;h.F2=["F2",53];h.F2.toString=
k;h.F2.__enum__=h;h.F3=["F3",54];h.F3.toString=k;h.F3.__enum__=h;h.F4=["F4",55];h.F4.toString=k;h.F4.__enum__=h;h.F5=["F5",56];h.F5.toString=k;h.F5.__enum__=h;h.F6=["F6",57];h.F6.toString=k;h.F6.__enum__=h;h.F7=["F7",58];h.F7.toString=k;h.F7.__enum__=h;h.F8=["F8",59];h.F8.toString=k;h.F8.__enum__=h;h.F9=["F9",60];h.F9.toString=k;h.F9.__enum__=h;h.F10=["F10",61];h.F10.toString=k;h.F10.__enum__=h;h.F11=["F11",62];h.F11.toString=k;h.F11.__enum__=h;h.F12=["F12",63];h.F12.toString=k;h.F12.__enum__=h;h.F13=
["F13",64];h.F13.toString=k;h.F13.__enum__=h;h.F14=["F14",65];h.F14.toString=k;h.F14.__enum__=h;h.F15=["F15",66];h.F15.toString=k;h.F15.__enum__=h;h.Left=["Left",67];h.Left.toString=k;h.Left.__enum__=h;h.Up=["Up",68];h.Up.toString=k;h.Up.__enum__=h;h.Right=["Right",69];h.Right.toString=k;h.Right.__enum__=h;h.Down=["Down",70];h.Down.toString=k;h.Down.__enum__=h;h.Alt=["Alt",71];h.Alt.toString=k;h.Alt.__enum__=h;h.Backquote=["Backquote",72];h.Backquote.toString=k;h.Backquote.__enum__=h;h.Backslash=
["Backslash",73];h.Backslash.toString=k;h.Backslash.__enum__=h;h.Backspace=["Backspace",74];h.Backspace.toString=k;h.Backspace.__enum__=h;h.CapsLock=["CapsLock",75];h.CapsLock.toString=k;h.CapsLock.__enum__=h;h.Comma=["Comma",76];h.Comma.toString=k;h.Comma.__enum__=h;h.Command=["Command",77];h.Command.toString=k;h.Command.__enum__=h;h.Control=["Control",78];h.Control.toString=k;h.Control.__enum__=h;h.Delete=["Delete",79];h.Delete.toString=k;h.Delete.__enum__=h;h.End=["End",80];h.End.toString=k;h.End.__enum__=
h;h.Enter=["Enter",81];h.Enter.toString=k;h.Enter.__enum__=h;h.Equals=["Equals",82];h.Equals.toString=k;h.Equals.__enum__=h;h.Escape=["Escape",83];h.Escape.toString=k;h.Escape.__enum__=h;h.Home=["Home",84];h.Home.toString=k;h.Home.__enum__=h;h.Insert=["Insert",85];h.Insert.toString=k;h.Insert.__enum__=h;h.LeftBracket=["LeftBracket",86];h.LeftBracket.toString=k;h.LeftBracket.__enum__=h;h.Minus=["Minus",87];h.Minus.toString=k;h.Minus.__enum__=h;h.PageDown=["PageDown",88];h.PageDown.toString=k;h.PageDown.__enum__=
h;h.PageUp=["PageUp",89];h.PageUp.toString=k;h.PageUp.__enum__=h;h.Period=["Period",90];h.Period.toString=k;h.Period.__enum__=h;h.Quote=["Quote",91];h.Quote.toString=k;h.Quote.__enum__=h;h.RightBracket=["RightBracket",92];h.RightBracket.toString=k;h.RightBracket.__enum__=h;h.Semicolon=["Semicolon",93];h.Semicolon.toString=k;h.Semicolon.__enum__=h;h.Shift=["Shift",94];h.Shift.toString=k;h.Shift.__enum__=h;h.Slash=["Slash",95];h.Slash.toString=k;h.Slash.__enum__=h;h.Space=["Space",96];h.Space.toString=
k;h.Space.__enum__=h;h.Tab=["Tab",97];h.Tab.toString=k;h.Tab.__enum__=h;h.Menu=["Menu",98];h.Menu.toString=k;h.Menu.__enum__=h;h.Search=["Search",99];h.Search.toString=k;h.Search.__enum__=h;h.Unknown=function(a){a=["Unknown",100,a];a.__enum__=h;a.toString=k;return a};var Fh=function(){this.$qJ(0,null)};g["kit.input.KeyboardEvent"]=Fh;Fh.__name__=["kit","input","KeyboardEvent"];Fh.prototype={$qJ:function(a,b){this.id=a;this.key=b},__class__:Fh};var $a=g["kit.input.MouseButton"]={__ename__:["kit","input",
"MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};$a.Left=["Left",0];$a.Left.toString=k;$a.Left.__enum__=$a;$a.Middle=["Middle",1];$a.Middle.toString=k;$a.Middle.__enum__=$a;$a.Right=["Right",2];$a.Right.toString=k;$a.Right.__enum__=$a;$a.Unknown=function(a){a=["Unknown",3,a];a.__enum__=$a;a.toString=k;return a};var Oa=g["kit.input.MouseCursor"]={__ename__:["kit","input","MouseCursor"],__constructs__:["Default","Button","None"]};Oa.Default=["Default",0];Oa.Default.toString=k;Oa.Default.__enum__=
Oa;Oa.Button=["Button",1];Oa.Button.toString=k;Oa.Button.__enum__=Oa;Oa.None=["None",2];Oa.None.toString=k;Oa.None.__enum__=Oa;var Gh=function(){this.$qJ(0,0,0,null)};g["kit.input.MouseEvent"]=Gh;Gh.__name__=["kit","input","MouseEvent"];Gh.prototype={$qJ:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:Gh};var Zf=g["kit.input.EventSource"]={__ename__:["kit","input","EventSource"],__constructs__:["Mouse","Touch"]};Zf.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Zf;a.toString=
k;return a};Zf.Touch=function(a){a=["Touch",1,a];a.__enum__=Zf;a.toString=k;return a};var Hh=function(){this.$qJ(0,0,0,null,null)};g["kit.input.PointerEvent"]=Hh;Hh.__name__=["kit","input","PointerEvent"];Hh.prototype={$qJ:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this.$rJ=!1},__class__:Hh};var Ih=function(a){this.id=a;this.$sJ=Zf.Touch(this)};g["kit.input.TouchPoint"]=Ih;Ih.__name__=["kit","input","TouchPoint"];Ih.prototype={$qJ:function(a,b){this.viewX=a;this.viewY=
b},__class__:Ih};var Nb=function(){};g["kit.math.FMath"]=Nb;Nb.__name__=["kit","math","FMath"];Nb.clamp=function(a,b,c){return a<b?b:a>c?c:a};var Mc=function(){};g["kit.movie.Symbol"]=Mc;Mc.__name__=["kit","movie","Symbol"];Mc.prototype={__class__:Mc};var ld=function(a,b){this.$hF=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0;c=a.scale;null!=c?(this.scaleX=c[0],this.scaleY=c[1]):this.scaleY=
this.scaleX=1};g["kit.movie.BitmapSymbol"]=ld;ld.__name__=["kit","movie","BitmapSymbol"];ld.__interfaces__=[Mc];ld.prototype={createSprite:function(){var a=new za(this.texture);a.setAnchor(this.anchorX,this.anchorY);a.setScaleXY(this.scaleX,this.scaleY);return a},__class__:ld};var qi=function(){};g["kit.movie.Flipbook"]=qi;qi.__name__=["kit","movie","Flipbook"];qi.prototype={__class__:qi};var ri=function(){this.label=null;this.anchorX=this.anchorY=0};g["kit.movie.FlipbookFrame"]=ri;ri.__name__=["kit",
"movie","FlipbookFrame"];ri.prototype={$tJ:function(){return new $f(this)},__class__:ri};var $f=function(a){this.$ZI=a.texture;this.$uJ=a.anchorX;this.$vJ=a.anchorY};g.$C7=$f;$f.__name__=["$C7"];$f.__interfaces__=[Mc];$f.prototype={createSprite:function(){var a=new za(this.$ZI);a.setAnchor(this.$uJ,this.$vJ);return a},__class__:$f};var hd=function(a,b){this.sounds=new Q;this.scenes=[];var c=this;this.$sH=a.getFile(b+"/library.json");var d=this.$sH.toJson();this.$wJ=new Q;this.frameRate=d.frameRate;
this.backgroundColor=null!=d.backgroundColor?d.backgroundColor:0;this.backgroundAlpha=null!=d.backgroundAlpha?d.backgroundAlpha:1;this.width=null!=d.width?d.width:0;this.height=null!=d.height?d.height:0;this.pixelSnapping=null!=d.pixelSnapping?d.pixelSnapping:!0;if(null!=d.sounds)for(var e=0,f=d.sounds;e<f.length;){var m=f[e];++e;var g=a.getSound(b+"/"+Za.removeFileExtension(m.file),!1),m=m.id,h=this.sounds,g=new Jh(m,g);null!=q[m]?h.setReserved(m,g):h.h[m]=g}if(null!=d.videos)for(e=0,f=d.videos;e<
f.length;)m=f[e],++e,g=a.getVideo(b+"/"+Za.removeFileExtension(m.file),!1),m=m.id,h=this.$wJ,g=new ag(m,g),null!=q[m]?h.setReserved(m,g):h.h[m]=g;e=[];f=0;for(m=d.movies;f<m.length;){g=m[f];++f;g=new Nc(this,g);e.push(g);var h=g.$hF,k=this.$wJ;null!=q[h]?k.setReserved(h,g):k.h[h]=g}if(null!=d.scenes)for(f=0,m=d.scenes;f<m.length;)g=m[f],++f,g=new Nc(this,g),e.push(g),this.scenes.push(g);d=d.textureGroups[0].atlases;for(f=0;f<d.length;){h=d[f];++f;m=b+"/"+Za.removeFileExtension(h.file);m=a.getTexture(m);
if(null!=h.mask){var g=a.getTexture(b+"/"+Za.removeFileExtension(h.mask)),k=p.$IH.$hG.createTexture(m.get_width(),m.get_height()),l=k.get_graphics();l.save();l.setBlendMode(ba.Copy);l.drawTexture(m,0,0);l.setBlendMode(ba.Mask);l.drawTexture(g,0,0);l.restore();m.dispose();g.dispose();m=k}g=0;for(h=h.textures;g<h.length;){k=h[g];++g;var k=new ld(k,m),l=k.$hF,n=this.$wJ;null!=q[l]?n.setReserved(l,k):n.h[l]=k}}for(var s=null,d=s=function(a){for(var b=a.keyframes,d=b.length,e=0;e<d;){var f=e++,m=b[f];
if(null!=m.$eK){var g=m.$eK,h=c.$wJ,g=null!=q[g]?h.getReserved(g):h.h[g];m.symbol=g}m.tweened&&1==m.duration&&f+1<d&&(f=b[f+1],f.visible&&null!=f.$eK||(m.visible=!1))}b=0;for(a=a.childLayers;b<a.length;)d=a[b],++b,s(d)},f=0;f<e.length;)for(g=e[f],++f,m=0,g=g.layers;m<g.length;)h=g[m],++m,d(h)};g["kit.movie.Library"]=hd;hd.__name__=["kit","movie","Library"];hd.fromFlipbooks=function(a){var b=O.createEmptyInstance(hd);b.$wJ=new Q;b.frameRate=60;b.$sH=null;for(var c=0;c<a.length;){var d=a[c];++c;for(var e=
[],f=0,m=d.frames;f<m.length;){var g=m[f];++f;e.push({duration:g.duration*b.frameRate,label:g.label,pivot:[g.anchorX,g.anchorY],ref:""})}e=new Nc(b,{id:d.name,layers:[{name:"flipbook",flipbook:!0,keyframes:e}]});f=d.name;m=b.$wJ;null!=q[f]?m.setReserved(f,e):m.h[f]=e;e=e.layers[0].keyframes;f=0;for(m=d.frames.length;f<m;){var g=f++,h=d.frames[g].$tJ();e[g].symbol=h}}return b};hd.prototype={disposeFiles:function(){null!=this.$sH&&this.$sH.dispose();return this},createSprite:function(a,b){var c=this.$wJ,
c=null!=q[a]?c.getReserved(a):c.h[a];return null==c?null:c.createSprite()},__class__:hd};var ka=function(a){this.$BK=this.$CK=this.$DK=null;this.$AK=0;var b=this;u.call(this);this.symbol=a;this.speed=new V(1);this.$9J=Array(a.layers.length);for(var c=0,d=this.$9J.length;c<d;){var e=c++;this.$9J[e]=new Oc(a.layers[e])}this.$$J=0;this.$_J=-1;this.$6J(0);if(a.button){var f=0/a.frameRate,m=1/a.frameRate,g=2/a.frameRate,h=!1,k=!1,c=new Ba(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,
-1.79769313486231E308),d=0;for(a=a.layers;d<a.length;)e=a[d],++d,ka.$EK(e,c);c.x<c.width&&c.y<c.height&&(this.$DK=c);this.$B|=4096;this.get_pointerDown().connect(function(a){h=!0;b.set_position(g);p.$IH.$gG.up.connect(function(a){h=!1;b.set_position(k?m:f)}).once()});var l=null;this.get_pointerIn().connect(function(a){k=!0;b.set_position(h?g:m);p.$IH.$fG.get_cursor()==Oa.Default&&p.$IH.$fG.set_cursor(Oa.Button);null!=l&&l.dispose();l=p.$IH.$gG.move.connect(function(a){null==b.owner&&(l.dispose(),
p.$IH.$fG.get_cursor()==Oa.Button&&p.$IH.$fG.set_cursor(Oa.Default))})});this.get_pointerOut().connect(function(a){k=!1;b.set_position(f);p.$IH.$fG.get_cursor()==Oa.Button&&p.$IH.$fG.set_cursor(Oa.Default)})}};g["kit.movie.MovieSprite"]=ka;ka.__name__=["kit","movie","MovieSprite"];ka.$EK=function(a,b){for(var c=0,d=a.keyframes;c<d.length;){var e=d[c];++c;if(3==e.index&&null!=e.symbol){var f=e.symbol.createSprite(),m=f.getNaturalWidth(),g=f.getNaturalHeight();if(0<m&&0<g){var h=f.scaleX.$1G*e.scaleX,
k=f.scaleY.$1G*e.scaleY,f=f.getLocalMatrix(),l=Math.sin(e.skewX),n=Math.cos(e.skewX),p=Math.sin(e.skewY),q=Math.cos(e.skewY);f.set(q*h,p*h,-l*k,n*k,e.x,e.y);f.translate(-e.pivotX,-e.pivotY);u.$RF(f,0,0,b);u.$RF(f,m,0,b);u.$RF(f,m,g,b);u.$RF(f,0,g,b)}}}c=0;for(d=a.childLayers;c<d.length;)e=d[c],++c,ka.$EK(e,b)};ka.__super__=u;ka.prototype=l(u.prototype,{getLayer:function(a,b){for(var c=0,d=this.$9J;c<d.length;){var e=d[c];++c;e=e.$XK(a);if(null!=e)return e}return null},containsLocal:function(a,b){return null!=
this.$DK&&a>=this.$DK.x&&a<this.$DK.width&&b>=this.$DK.y?b<this.$DK.height:!1},onAdded:function(){u.prototype.onAdded.call(this);for(var a=0,b=this.$9J;a<b.length;){var c=b[a];++a;this.owner.addChild(c.$KK)}},onRemoved:function(){u.prototype.onRemoved.call(this);for(var a=0,b=this.$9J;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.$KK)}},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this.$B&6912){case 0:0<=this.speed.$1G&&(this.$$J+=this.speed.$1G*a,this.$$J>
this.symbol.duration&&(0!=(this.$B&1024)?(this.$$J=this.symbol.duration,this.$B|=2048):(this.$$J%=this.symbol.duration,null!=this.$BK&&this.$BK.emit())));break;case 512:this.$B&=-513}this.$6J(this.$$J*this.symbol.frameRate)},$6J:function(a){if(this.$_J!=a){if(a<this.$_J)for(var b=0,c=this.$9J;b<c.length;){var d=c[b];++b;if(d.$UK(this.$CK))return}b=0;for(c=this.$9J;b<c.length;)if(d=c[b],++b,d.$WK(a,this.$CK,this.$AK))return;switch(this.$AK){case 0:this.$AK=1;break;case 1:case 2:this.$AK=3}this.$_J=
a}},set_position:function(a){this.setPosition(a,!0);return a},setPosition:function(a,b){var c=Nb.clamp(a,0,this.symbol.duration);this.$$J=c;this.$AK=3;for(var d=c*this.symbol.frameRate,e=b?2:0,f=0,m=this.$9J;f<m.length;){var g=m[f];++f;if(g.$VK(d,this.$CK,e))return c}this.$_J=d;return c},set_paused:function(a){this.$B=ic.set(this.$B,256,a);return a},get_looped:function(){null==this.$BK&&(this.$BK=new ua);return this.$BK},$7J:function(a){this.$$J=a.firstFrame/this.symbol.frameRate;this.set_paused(a.playMode==
Pa.SingleFrame);this.$B=(this.$B|512)&-2049;a=0;for(var b=this.$9J;a<b.length;){var c=b[a];++a;c.$7J()}},__class__:ka,__properties__:l(u.prototype.__properties__,{get_looped:"get_looped",set_paused:"set_paused",set_position:"set_position"})});var Oc=function(a){this.$bK=[];this.$QK=null;this.$PK=!0;this.$NK=-1;this.$MK=0;this.$LK=!1;this.$OK=a;this.$KK=new F;if(a.empty)this.$aK=null;else{this.$aK=Array(a.keyframes.length);for(var b=null,c=null,d=0,e=this.$aK.length;d<e;){var f=d++,m=a.keyframes[f];
if(null!=b&&Oc.$cK(b,m))this.$aK[f]=c;else if(null!=m.symbol){c=m.symbol.createSprite();this.$aK[f]=c;if(0<m.firstFrame||m.playMode!=Pa.Loop)if(b=c instanceof ka?c:null,null!=b){switch(m.playMode[1]){case 1:b.$B|=1024;break;case 2:b.set_paused(!0)}b.$$J=m.firstFrame/b.symbol.frameRate}b=m}else this.$aK[f]=new u}this.$KK.add(this.$aK[0])}this.$ZK=this.$KK;if(0<a.childLayers.length)for(e=new u,m=(new F).add(e),m.addChild(this.$KK),this.$KK=b=new F,d=new F,a.mask&&(this.$QK=new u,this.$QK.set_mask(e),
d.add(this.$QK)),b.addChild(d),b.addChild(m),e=0,a=a.childLayers;e<a.length;)m=a[e],++e,m=new Oc(m),this.$bK.push(m),d.addChild(m.$KK)};g.$C8=Oc;Oc.__name__=["$C8"];Oc.$cK=function(a,b){return a.symbol!=b.symbol||a.playMode!=b.playMode?!1:2==a.playMode[1]?a.firstFrame==b.firstFrame:a.firstFrame!=b.firstFrame?a.firstFrame+a.duration==b.firstFrame:!0};Oc.prototype={$TK:function(a,b){null!=a.sound&&null!=a.sound.sound&&(this.$KK.emitMessageToParents("MovieSprite.FRAME_SOUND",new bg(this.$KK,a)).handled||
a.sound.sound.play());if(null!=b){var c=a.label;null!=c&&b.emit(c)}null!=a.actions&&this.$KK.emitMessageToParents("MovieSprite.FRAME_ACTION",new bg(this.$KK,a))},$UK:function(a){for(var b=0,c=this.$bK;b<c.length;){var d=c[b];++b;if(d.$UK(a))return!0}if(0<=this.$NK){for(var b=this.$OK.keyframes,c=this.$MK,d=this.$NK+1,e=b.length;d<e;){var f=d++;this.$TK(b[f],a);if(c!=this.$MK)return!0}this.$NK=-1}this.$LK=!0;return!1},$VK:function(a,b,c){for(var d=0,e=this.$bK;d<e.length;){var f=e[d];++d;if(f.$VK(a,
b,c))return!0}++this.$MK;d=this.$OK.keyframes;e=d.length-1;f=this.$NK;for(this.$NK=-1;this.$NK<e&&d[this.$NK+1].index<=a;)++this.$NK;this.$NK!=f&&(this.$LK=!0);return this.$WK(a,b,c)},$WK:function(a,b,c){for(var d=0,e=this.$bK;d<e.length;){var f=e[d];++d;if(f.$WK(a,b,c))return!0}var d=this.$OK.keyframes,m=d.length-1,e=this.$NK;if(a>this.$OK.frames)this.$NK=m,this.$LK=!0;else for(;this.$NK<m&&d[this.$NK+1].index<=a;)++this.$NK,this.$LK=!0;if(null!=this.$aK){var f=d[this.$NK],g;if(this.$LK){if(this.$LK=
!1,g=this.$aK[this.$NK],g!=this.$ZK.$IG[3]){var h=g instanceof ka?g:null;null!=h&&h.$7J(f);this.$ZK.add(g)}}else g=this.$ZK.$IG[3];if(this.$PK&&(h=f.visible&&null!=f.symbol&&a<=this.$OK.frames,g.set_visible(h),null!=this.$QK&&this.$QK.set_maskEnabled(h),h)){var h=f.x,k=f.y,l=f.scaleX,n=f.scaleY,p=f.skewX,q=f.skewY,s=f.alpha,t=f.tint;if(f.tweened&&this.$NK<m){var m=(a-f.index)/f.duration,r=f.ease;if(0!=r){var u;0>r?(u=1-m,u=1-u*u,r=-r):u=m*m;m=r*u+(1-r)*m}r=d[this.$NK+1];h+=(r.x-h)*m;k+=(r.y-k)*m;
l+=(r.scaleX-l)*m;n+=(r.scaleY-n)*m;p+=(r.skewX-p)*m;q+=(r.skewY-q)*m;s+=(r.alpha-s)*m;r=r.tint;if(16777215!=r||16777215!=t){u=(t&16711680)>>16;var v=(t&65280)>>8,t=t&255,v=v+((((r&65280)>>8)-v)*m|0),t=t+(((r&255)-t)*m|0),t=u+((((r&16711680)>>16)-u)*m|0)<<16|v<<8|t}}m=f.symbol;m=m instanceof ld?m:null;null!=m&&(l*=m.scaleX,n*=m.scaleY);m=g.getLocalMatrix();r=Math.sin(p);p=Math.cos(p);u=Math.sin(q);q=Math.cos(q);m.set(q*l,u*l,-r*n,p*n,h,k);m.translate(-f.pivotX,-f.pivotY);g.$B|=16;g.alpha.set__(s);
g.setTint(t);null==f.blendMode&&null==g.get_blendMode()||g.set_blendMode(f.blendMode)}}if(0!=c)for(1==c?e=-1:2==c&&0<=this.$NK&&d[this.$NK].index==a&&(e=this.$NK-1),a=this.$MK,c=e,e=this.$NK;c<e;)if(f=c++,this.$TK(d[f+1],b),this.$MK!=a)return!0;return!1},$7J:function(){for(var a=0,b=this.$bK;a<b.length;){var c=b[a];++a;c.$7J()}this.$LK=!0;this.$NK=-1;if(null!=this.$aK)for(a=0,b=this.$aK.length;a<b;){var c=a++,d=this.$aK[c],d=d instanceof ka?d:null;null!=d&&d.$7J(this.$OK.keyframes[c])}},$XK:function(a){if(this.$OK.name==
a)return this.$KK;for(var b=0,c=this.$bK;b<c.length;){var d=c[b];++b;d=d.$XK(a);if(null!=d)return d}return null},__class__:Oc};var bg=function(a,b){this.layer=a;this.keyframe=b};g["kit.movie.FrameEvent"]=bg;bg.__name__=["kit","movie","FrameEvent"];bg.prototype={__class__:bg};var Nc=function(a,b){this.$hF=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var e=c++,f=new cg(a,b.layers[e]);this.frames=Math.max(f.frames,this.frames);
this.layers[e]=f}this.duration=this.frames/this.frameRate;this.button=!0==b.button};g["kit.movie.MovieSymbol"]=Nc;Nc.__name__=["kit","movie","MovieSymbol"];Nc.__interfaces__=[Mc];Nc.prototype={createSprite:function(){return new ka(this)},__class__:Nc};var cg=function(a,b){this.mask=!1;this.childLayers=[];this.empty=!0;this.name=b.name;var c=null;this.keyframes=Array(b.keyframes.length);for(var d=0,e=this.keyframes.length;d<e;){var f=d++,c=new Kh(a,b.keyframes[f],c);this.keyframes[f]=c;this.empty=
this.empty&&null==c.$eK}this.frames=null!=c?c.index+c.duration:0;null!=b.mask&&(this.mask=b.mask);if(null!=b.childLayers)for(c=0,d=b.childLayers;c<d.length;)e=d[c],++c,e=new cg(a,e),e.frames>this.frames&&(this.frames=e.frames),this.childLayers.push(e)};g["kit.movie.MovieLayer"]=cg;cg.__name__=["kit","movie","MovieLayer"];cg.prototype={__class__:cg};var Pa=g["kit.movie.PlayMode"]={__ename__:["kit","movie","PlayMode"],__constructs__:["Loop","PlayOnce","SingleFrame"]};Pa.Loop=["Loop",0];Pa.Loop.toString=
k;Pa.Loop.__enum__=Pa;Pa.PlayOnce=["PlayOnce",1];Pa.PlayOnce.toString=k;Pa.PlayOnce.__enum__=Pa;Pa.SingleFrame=["SingleFrame",2];Pa.SingleFrame.toString=k;Pa.SingleFrame.__enum__=Pa;var Kh=function(a,b,c){this.actions=this.sound=null;this.firstFrame=0;this.playMode=Pa.Loop;this.blendMode=null;this.ease=0;this.visible=this.tweened=!0;this.tint=16777215;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=this.instanceName=null;this.index=
null!=c?c.index+c.duration:0;this.duration=b.duration;this.label=b.label;this.$eK=b.ref;c=b.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=b.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=b.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=b.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=b.alpha&&(this.alpha=b.alpha);null!=b.tint&&(this.tint=b.tint);null!=b.visible&&(this.visible=b.visible);null!=b.tweened&&(this.tweened=b.tweened);null!=b.ease&&(this.ease=b.ease);if(null!=b.blendMode){c=
b.blendMode;if(null==c)c=null;else switch(c){case "add":c=ba.Add;break;case "layer":c=ba.Mask;break;case "multiply":c=ba.Multiply;break;case "screen":c=ba.Screen;break;default:c=null}this.blendMode=c}null!=b.firstFrame&&(this.firstFrame=b.firstFrame);if(null!=b.playMode){c=b.playMode;if(null==c)c=Pa.Loop;else switch(c){case "once":c=Pa.PlayOnce;break;case "stop":c=Pa.SingleFrame;break;default:c=Pa.Loop}this.playMode=c}null!=b.actions&&(this.actions=b.actions);null!=b.sound&&(c=b.sound,a=a.sounds,
this.sound=null!=q[c]?a.getReserved(c):a.h[c]);null!=b.refName&&(this.instanceName=b.refName)};g["kit.movie.MovieKeyframe"]=Kh;Kh.__name__=["kit","movie","MovieKeyframe"];Kh.prototype={__class__:Kh};var Jh=function(a,b){this.name=a;this.sound=b};g["kit.movie.SoundSymbol"]=Jh;Jh.__name__=["kit","movie","SoundSymbol"];Jh.prototype={__class__:Jh};var ag=function(a,b){this.$hF=a;this.video=b};g["kit.movie.VideoSymbol"]=ag;ag.__name__=["kit","movie","VideoSymbol"];ag.__interfaces__=[Mc];ag.prototype={createSprite:function(){return new dg(this)},
__class__:ag};var nc=function(a){u.call(this);this.$hK=a};g["kit.video.VideoSprite"]=nc;nc.__name__=["kit","video","VideoSprite"];nc.__super__=u;nc.prototype=l(u.prototype,{draw:function(a){null!=this.$hK&&a.drawTexture(this.$hK.get_texture(),0,0)},getNaturalWidth:function(){return null!=this.$hK?this.$hK.get_video().get_width():0},getNaturalHeight:function(){return null!=this.$hK?this.$hK.get_video().get_height():0},dispose:function(){u.prototype.dispose.call(this);this.set_playback(null)},set_playback:function(a){null!=
this.$hK&&this.$hK.dispose();return this.$hK=a},__class__:nc,__properties__:l(u.prototype.__properties__,{set_playback:"set_playback"})});var dg=function(a){nc.call(this,null);this.$iK=a};g.$C$=dg;dg.__name__=["$C$"];dg.__super__=nc;dg.prototype=l(nc.prototype,{onAdded:function(){nc.prototype.onAdded.call(this);this.set_playback(this.$iK.video.play())},onRemoved:function(){nc.prototype.onRemoved.call(this);this.set_playback(null)},__class__:dg});var wa=function(){this.$aL=!1};g.$CBB=wa;wa.__name__=
["$CBB"];wa.__interfaces__=[ac];wa.prototype={dispose:function(){this.$aL||(this.$aL=!0,this.$YL())},$YL:function(){},__class__:wa};var md=function(a,b){this.$pL=0;var c=this;this.$dL=b;this.$IH=a;this.$WG=new U;this.$2H=new eg(b,this);this.$oL=new Q;var d=Ub.array(b);if(0==d.length)this.$kL();else{for(var e=new Q,f=0;f<d.length;){var m=d[f];++f;var g=m.name,g=null!=q[g]?e.getReserved(g):e.h[g];if(null==g){var g=[],h=m.name;null!=q[h]?e.setReserved(h,g):e.h[h]=g}g.push(m)}this.$nL=Ub.count(e);for(d=
new Bb(e,e.arrayKeys());d.hasNext();)e=[d.next()],this.$fL(e[0],function(a){return function(d){if(null!=d){var e=c.$oL,f=d.name,m=new fg(0,d.bytes);null!=q[f]?e.setReserved(f,m):e.h[f]=m;e=b.getFullURL(d);try{c.$gL(e,d)}catch(g){g instanceof v&&(g=g.val),c.$lL(d,"Unexpected error: "+A.string(g))}}else switch(d=a[0][0],e=c.$oL,f=d.name,m=new fg(0,0),null!=q[f]?e.setReserved(f,m):e.h[f]=m,d.format[1]){case 8:case 9:case 10:case 11:case 12:e=ub.$pM();c.$iL(d,e);break;case 17:case 18:e=Rb.$pM();c.$iL(d,
e);break;default:c.$lL(d,"Could not find a supported format to load")}}}(e))}};g.$CCB=md;md.__name__=["$CCB"];md.prototype={$fL:function(a,b){this.$hL(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var m=a[f];++f;if(m.format==e){b(m);return}}}b(null)})},$gL:function(a,b){},$hL:function(a){},$iL:function(a,b){if(this.$2H.$wL)b.dispose();else{var c=a.name,d=this.$oL,c=null!=q[c]?d.getReserved(c):d.h[c];c.$zL=c.$0L;var e;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e=
this.$2H.$rL;break;case 8:case 9:case 10:case 11:case 12:e=this.$2H.$sL;break;case 13:case 14:case 15:case 16:e=this.$2H.$uL;break;case 17:case 18:e=this.$2H.$vL;break;case 19:e=this.$2H.$tL}c=a.name;null!=q[c]?e.setReserved(c,b):e.h[c]=b;this.$nL-=1;0==this.$nL&&this.$kL()}},$jL:function(a,b,c){a=a.name;var d=this.$oL;a=null!=q[a]?d.getReserved(a):d.h[a];0<c&&(a.$0L=c);c=a.$0L;a.$zL=b<c?b:c;c=b=0;a=this.$oL;for(a=new Bb(a,a.arrayKeys());a.hasNext();){d=a.next();if(0==d.$0L)return;b+=d.$zL;c+=d.$0L}b=
0<c?b/c:0;b!=this.$pL&&(this.$pL=b,this.$WG.emitProgress(b))},$kL:function(){this.$WG.success(this.$2H)},$lL:function(a,b){this.$2H.dispose();this.$WG.failure(Za.withFields(b,["url",a.url]))},$mL:function(a){this.$lL(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:md};var eg=function(a,b){this.$wL=!1;this.$vL=new Q;this.$uL=new Q;this.$tL=new Q;this.$sL=new Q;this.$rL=new Q;this.$xL=a};g.$CDB=eg;eg.__name__=["$CDB"];eg.__interfaces__=[gd];eg.prototype={getTexture:function(a,
b){var c=this.$rL;return null!=q[a]?c.getReserved(a):c.h[a]},getSound:function(a,b){var c=this.$sL;return null!=q[a]?c.getReserved(a):c.h[a]},getFile:function(a,b){var c=this.$tL;return null!=q[a]?c.getReserved(a):c.h[a]},getVectorFont:function(a,b){var c=this.$uL;return null!=q[a]?c.getReserved(a):c.h[a]},getVideo:function(a,b){var c=this.$vL;return null!=q[a]?c.getReserved(a):c.h[a]},dispose:function(){if(!this.$wL){this.$wL=!0;for(var a=this.$rL,a=new Bb(a,a.arrayKeys());a.hasNext();)a.next().dispose();
this.$rL=null;a=this.$sL;for(a=new Bb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$sL=null;a=this.$tL;for(a=new Bb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$tL=null;a=this.$uL;for(a=new Bb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$uL=null;a=this.$vL;for(a=new Bb(a,a.arrayKeys());a.hasNext();)a.next().dispose();this.$vL=null}},get_manifest:function(){return this.$xL},__class__:eg,__properties__:{get_manifest:"get_manifest"}};var fg=function(a,b){this.$zL=a;this.$0L=
b};g.$CEB=fg;fg.__name__=["$CEB"];fg.prototype={__class__:fg};var nd=function(a){this.$aL=!1;this.$xH=a};g.$CFB=nd;nd.__name__=["$CFB"];nd.__interfaces__=[gf];nd.__super__=wa;nd.prototype=l(wa.prototype,{toString:function(){return this.$xH},toJson:function(){return JSON.parse(this.toString())},$YL:function(){this.$xH=null},__class__:nd});var Lh=function(){};g["kit.subsystem.KeyboardSystem"]=Lh;Lh.__name__=["kit","subsystem","KeyboardSystem"];Lh.prototype={__class__:Lh};var Gb=function(){this.down=
new fa;this.up=new fa;this.backButton=new ua;this.$4L=new jb};g.$CGB=Gb;Gb.__name__=["$CGB"];Gb.__interfaces__=[Lh];Gb.prototype={isDown:function(a){a=od.$jO(a);return this.$4L.exists(a)},$2L:function(a){if(16777238==a)return null!=this.backButton.$CH?(this.backButton.emit(),!0):!1;this.$4L.exists(a)||(this.$4L.h[a]=!0,Gb.$5L.$qJ(Gb.$5L.id+1,od.$iO(a)),this.down.emit(Gb.$5L));return!0},$3L:function(a){this.$4L.exists(a)&&(this.$4L.remove(a),Gb.$5L.$qJ(Gb.$5L.id+1,od.$iO(a)),this.up.emit(Gb.$5L))},
__class__:Gb};var Mh=function(){};g["kit.subsystem.MouseSystem"]=Mh;Mh.__name__=["kit","subsystem","MouseSystem"];Mh.prototype={__class__:Mh,__properties__:{set_cursor:"set_cursor",get_cursor:"get_cursor",get_y:"get_y",get_x:"get_x"}};var kb=function(a){this.$gG=a;this.$sJ=Zf.Mouse(kb.$5L);this.down=new fa;this.move=new fa;this.up=new fa;this.scroll=new fa;this.$JI=this.$II=0;this.$8L=Oa.Default;this.$9L=new jb};g.$CHB=kb;kb.__name__=["$CHB"];kb.__interfaces__=[Mh];kb.prototype={get_x:function(){return this.$II},
get_y:function(){return this.$JI},get_cursor:function(){return this.$8L},set_cursor:function(a){return this.$8L=a},$2L:function(a,b,c){this.$9L.exists(c)||(this.$9L.h[c]=!0,this.$KJ(a,b,Nh.$1O(c)),this.$gG.$2L(a,b,this.$sJ),this.down.emit(kb.$5L))},$6L:function(a,b){this.$KJ(a,b,null);this.$gG.$6L(a,b,this.$sJ);this.move.emit(kb.$5L)},$3L:function(a,b,c){this.$9L.exists(c)&&(this.$9L.remove(c),this.$KJ(a,b,Nh.$1O(c)),this.$gG.$3L(a,b,this.$sJ),this.up.emit(kb.$5L))},$7L:function(a,b,c){this.$II=a;
this.$JI=b;if(null==this.scroll.$CH)return!1;this.scroll.emit(c);return!0},$KJ:function(a,b,c){this.$II=a;this.$JI=b;kb.$5L.$qJ(kb.$5L.id+1,a,b,c)},__class__:kb,__properties__:{get_y:"get_y",get_x:"get_x",set_cursor:"set_cursor",get_cursor:"get_cursor"}};var Oh=function(){};g["kit.subsystem.PointerSystem"]=Oh;Oh.__name__=["kit","subsystem","PointerSystem"];Oh.prototype={__class__:Oh,__properties__:{get_y:"get_y",get_x:"get_x"}};var Ya=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);
this.down=new fa;this.move=new fa;this.up=new fa;this.$II=a;this.$JI=b;this.$$L=c};g.$CIB=Ya;Ya.__name__=["$CIB"];Ya.__interfaces__=[Oh];Ya.prototype={get_x:function(){return this.$II},get_y:function(){return this.$JI},$2L:function(a,b,c){if(!this.$$L){this.$6L(a,b,c);this.$$L=!0;var d=[],e=u.hitTest(p.root,a,b);if(null!=e)for(var f=e.owner;;){var m=f.$IG[3];null!=m&&d.push(m);f=f.parent;if(null==f)break}this.$KJ(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$9E(Ya.$5L),Ya.$5L.$rJ)return;this.down.emit(Ya.$5L)}},
$6L:function(a,b,c){if(a!=this.$II||b!=this.$JI){var d=[],e=u.hitTest(p.root,a,b);if(null!=e)for(var f=e.owner;;){var m=f.$IG[3];null!=m&&d.push(m);f=f.parent;if(null==f)break}this.$KJ(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$$E(Ya.$5L),Ya.$5L.$rJ)return;this.move.emit(Ya.$5L)}},$3L:function(a,b,c){if(this.$$L){this.$6L(a,b,c);this.$$L=!1;var d=[],e=u.hitTest(p.root,a,b);if(null!=e)for(var f=e.owner;;){var m=f.$IG[3];null!=m&&d.push(m);f=f.parent;if(null==f)break}this.$KJ(a,b,e,c);for(a=0;a<
d.length;)if(b=d[a],++a,b.$AF(Ya.$5L),Ya.$5L.$rJ)return;this.up.emit(Ya.$5L)}},$KJ:function(a,b,c,d){this.$II=a;this.$JI=b;Ya.$5L.$qJ(Ya.$5L.id+1,a,b,c,d)},__class__:Ya,__properties__:{get_y:"get_y",get_x:"get_x"}};var gg=function(){};g.$CJB=gg;gg.__name__=["$CJB"];gg.__interfaces__=[Xf];gg.prototype={__class__:gg};var Sb=function(a,b,c){this.$II=this.$JI=0;this.$CM=null;this.$AM=this.$BM=0;this.$aL=!1;this.$_L=a;this.$XI=b;this.$YI=c};g.$CKB=Sb;Sb.__name__=["$CKB"];Sb.__interfaces__=[gg];Sb.__super__=
wa;Sb.prototype=l(wa.prototype,{subTexture:function(a,b,c,d){c=this.$_L.createTexture(c,d);c.$CM=this;c.$II=a;c.$JI=b;c.$AM=this.$AM+a;c.$BM=this.$BM+b;return c},split:function(a,b){null==b&&(b=1);for(var c=[],d=this.$XI/a|0,e=this.$YI/b|0,f=0,m=b;f<m;)for(var g=f++,h=0,k=a;h<k;){var l=h++;c.push(this.subTexture(l*d,g*e,d,e))}return c},clear:function(){this.$_L.clear()},renderFilter:function(a,b,c){this.$_L.renderFilter(a,b,c)},get_graphics:function(){return this.$_L.getGraphics()},$YL:function(){null==
this.$CM&&this.$_L.dispose()},get_x:function(){return this.$II},get_y:function(){return this.$JI},get_width:function(){return this.$XI},get_height:function(){return this.$YI},__class__:Sb,__properties__:{get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x",get_graphics:"get_graphics"}});var hg=function(){};g["kit.subsystem.TouchSystem"]=hg;hg.__name__=["kit","subsystem","TouchSystem"];hg.prototype={__class__:hg,__properties__:{get_supported:"get_supported"}};var Ze=function(a,
b){null==b&&(b=4);this.$gG=a;this.$EM=b;this.$FM=new jb;this.$hI=[];this.down=new fa;this.move=new fa;this.up=new fa};g.$CLB=Ze;Ze.__name__=["$CLB"];Ze.__interfaces__=[hg];Ze.prototype={get_supported:function(){return!0},$2L:function(a,b,c){if(!this.$FM.h.hasOwnProperty(a)){var d=new Ih(a);d.$qJ(b,c);this.$FM.h[a]=d;this.$hI.push(d);null==this.$DM&&(this.$DM=d,this.$gG.$2L(b,c,d.$sJ));this.down.emit(d)}},$6L:function(a,b,c){a=this.$FM.h[a];null!=a&&(a.$qJ(b,c),this.$DM==a&&this.$gG.$6L(b,c,a.$sJ),
this.move.emit(a))},$3L:function(a,b,c){var d=this.$FM.h[a];null!=d&&(d.$qJ(b,c),this.$FM.remove(a),y.remove(this.$hI,d),this.$DM==d&&(this.$DM=null,this.$gG.$3L(b,c,d.$sJ)),this.up.emit(d))},__class__:Ze,__properties__:{get_supported:"get_supported"}};var si=function(){};g.$CMB=si;si.__name__=["$CMB"];si.$GM=function(){p.$GH().then(function(a){try{p.$IH.getExternal().call("console.info",["Built with 2DKit, http://2dkit.com"])}catch(b){}a=new Yd;p.root.add(a)})};var la=function(){};g.$CNB=la;la.__name__=
["$CNB"];la.$MM=function(a){var b=Ue.getType(la).injected[0];return X.field(b,a)};la.$NM=function(){switch(la.$MM("orientation")){case "landscape":return Qb.Landscape;case "portrait":return Qb.Portrait}return null};var ig=function(){this.$hM=new sb;this.$gM=0;this.$eM=this.$fM=null;this.$dM=Infinity;this.$cM=0};g.$COB=ig;ig.__name__=["$COB"];ig.__interfaces__=[Ra];ig.prototype={$SM:function(a){this.$dM=a;this.$bM(!0);return this},$TM:function(a){this.$eM=a;return this},$UM:function(a){this.$fM=a;
return this},$VM:function(a,b,c){null==c&&(c=!0);this.$ZM(a);var d=null!=this.$fM?this.$fM(a,b):1;this.$cM+=d;this.$bM(c);b=new Ph(a,b);b.$iM=++this.$gM;b.$QM=d;this.$hM.set(a,b)},$MM:function(a){a=this.$hM.h[a.__id__];if(null==a)return null;a.$iM=++this.$gM;return a.$oJ},$WM:function(){var a=this.$YM(!0);return null!=a?a.$9I:null},$YM:function(a){for(var b=null,c=this.$hM.iterator();c.hasNext();){var d=c.next();if(null==b||d.$iM<b.$iM==a)b=d}return b},$ZM:function(a,b){null==b&&(b=!0);var c=this.$hM.h[a.__id__];
if(null==c)return null;null!=this.$eM&&b&&this.$eM(a,c.$oJ);this.$hM.remove(a);this.$cM-=c.$QM;return c.$oJ},$aM:function(a){null==a&&(a=!0);var b=this.$hM;this.$hM=new sb;this.$cM=0;if(null!=this.$eM&&a)for(a=b.iterator();a.hasNext();)b=a.next(),this.$eM(b.$9I,b.$oJ)},dispose:function(){this.$aM()},$bM:function(a){for(;this.$cM>this.$dM;){var b=this.$YM(a);if(null!=b)null!=this.$eM&&this.$eM(b.$9I,b.$oJ),this.$hM.remove(b.$9I),this.$cM-=b.$QM;else break}},__class__:ig};var Ph=function(a,b){this.$QM=
1;this.$iM=0;this.$9I=a;this.$oJ=b};g.$CPB=Ph;Ph.__name__=["$CPB"];Ph.prototype={__class__:Ph};var yc=function(){};g.$CRB=yc;yc.__name__=["$CRB"];yc.$oM=function(a,b){var c=a.__creator;if(null!=c&&(c=X.field(c,b),null!=c))return c;c=O.getSuperClass(a);return null!=c?yc.$oM(c,b):null};yc.$rH=function(a,b){switch(a[1]){case 0:return b;case 1:return"0"!=b?"false"!=b:!1;case 2:var c=parseFloat(b);return isNaN(c)?0:c;case 3:return 35==y.cca(b,0)&&(b="0x"+y.substr(b,1,null)),c=A.parseInt(b),null!=c?c:0;
case 5:c=a[2];try{return O.createEnum(c,b)}catch(d){break}case 6:switch(a[2]){case Date:return c=parseFloat(b),new Date(c);case V:return c=parseFloat(b),new V(isNaN(c)?0:c);case La:var c=new La,e=b.split(",");2<=e.length&&(c.x=parseFloat(e[0]),c.y=parseFloat(e[1]));return c;case Ba:return c=new Ba,e=b.split(","),4<=e.length&&(c.x=parseFloat(e[0]),c.y=parseFloat(e[1]),c.width=parseFloat(e[2]),c.height=parseFloat(e[3])),c}}return null};var Pc=function(){};g["kit.sound.Sound"]=Pc;Pc.__name__=["kit",
"sound","Sound"];Pc.__interfaces__=[ac];Pc.prototype={__class__:Pc,__properties__:{get_duration:"get_duration"}};var ub=function(){this.$aL=!1;this.$hK=new jg(this)};g.$CUB=ub;ub.__name__=["$CUB"];ub.__interfaces__=[Pc];ub.$pM=function(){null==ub.$qM&&(ub.$qM=new ub);return ub.$qM};ub.__super__=wa;ub.prototype=l(wa.prototype,{play:function(a){return this.$hK},loop:function(a){return this.$hK},get_duration:function(){return 0},$YL:function(){},__class__:ub,__properties__:{get_duration:"get_duration"}});
var Qc=function(){};g["kit.sound.Playback"]=Qc;Qc.__name__=["kit","sound","Playback"];Qc.__interfaces__=[Ra];Qc.prototype={__class__:Qc,__properties__:{set_paused:"set_paused",get_sound:"get_sound",get_complete:"get_complete"}};var jg=function(a){this.$rM=a;this.volume=new V(0);this.$sM=new qa(!0)};g.$CVB=jg;jg.__name__=["$CVB"];jg.__interfaces__=[Qc];jg.prototype={get_sound:function(){return this.$rM},set_paused:function(a){return!0},get_complete:function(){return this.$sM},dispose:function(){},
__class__:jg,__properties__:{get_complete:"get_complete",get_sound:"get_sound",set_paused:"set_paused"}};var kg=function(){};g["kit.subsystem.StorageSystem"]=kg;kg.__name__=["kit","subsystem","StorageSystem"];kg.prototype={__class__:kg};var Xe=function(){this.$BI=new Q};g.$CWB=Xe;Xe.__name__=["$CWB"];Xe.__interfaces__=[kg];Xe.prototype={set:function(a,b){var c=this.$BI;null!=q[a]?c.setReserved(a,b):c.h[a]=b;return(new U).success(null)},get:function(a,b){var c=new U,d;d=this.$BI;(null!=q[a]?d.existsReserved(a):
d.h.hasOwnProperty(a))?(d=this.$BI,d=null!=q[a]?d.getReserved(a):d.h[a]):d=b;return c.success(d)},remove:function(a){this.$BI.remove(a);return(new U).success(null)},__class__:Xe};var $e=function(){this.down=new fa;this.move=new fa;this.up=new fa};g.$CXB=$e;$e.__name__=["$CXB"];$e.__interfaces__=[hg];$e.prototype={get_supported:function(){return!1},__class__:$e,__properties__:{get_supported:"get_supported"}};var pd=function(){};g["kit.video.Video"]=pd;pd.__name__=["kit","video","Video"];pd.__interfaces__=
[ac];pd.prototype={__class__:pd,__properties__:{get_height:"get_height",get_width:"get_width"}};var Rb=function(){this.$aL=!1;this.$hK=new lg(this)};g.$CYB=Rb;Rb.__name__=["$CYB"];Rb.__interfaces__=[pd];Rb.$pM=function(){null==Rb.$qM&&(Rb.$qM=new Rb);return Rb.$qM};Rb.__super__=wa;Rb.prototype=l(wa.prototype,{play:function(a){return this.$hK},get_width:function(){return 1},get_height:function(){return 1},$YL:function(){},__class__:Rb,__properties__:{get_height:"get_height",get_width:"get_width"}});
var qd=function(){};g["kit.video.VideoPlayback"]=qd;qd.__name__=["kit","video","VideoPlayback"];qd.__interfaces__=[Ra];qd.prototype={__class__:qd,__properties__:{get_texture:"get_texture",get_video:"get_video"}};var lg=function(a){this.$tM=a;this.volume=new V(0);this.$sM=new qa(!0);this.$ZI=p.$IH.$hG.createTexture(1,1)};g.$CZB=lg;lg.__name__=["$CZB"];lg.__interfaces__=[qd];lg.prototype={get_video:function(){return this.$tM},get_texture:function(){return this.$ZI},dispose:function(){},__class__:lg,
__properties__:{get_texture:"get_texture",get_video:"get_video"}};var Rc=function(){this.$MG=[]};g.$CbB=Rc;Rc.__name__=["$CbB"];Rc.__interfaces__=[Ra];Rc.prototype={$sE:function(a,b,c){a.addEventListener(b,c,!1);this.$MG.push(new Qh(a,b,c))},$uM:function(a,b,c){var d=this;this.$sE(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this.$MG;a<b.length;){var c=b[a];++a;c.$vM.removeEventListener(c.$pJ,c.$wM,!1)}this.$MG=[]},__class__:Rc};var Qh=function(a,b,c){this.$vM=a;this.$pJ=b;
this.$wM=c};g.$CcB=Qh;Qh.__name__=["$CcB"];Qh.prototype={__class__:Qh};var lh=function(a,b){this.$yM=this.$zM=0;var c=a+150,d=b+150;this.$0M=p.$IH.$hG.createTexture(c,d);this.$1M=p.$IH.$hG.createTexture(c,d);this.$XI=a;this.$YI=b};g.$CeB=lh;lh.__name__=["$CeB"];lh.prototype={$2M:function(a,b){if(a>this.$0M.get_width()||b>this.$0M.get_height()){var c=Math.max(this.$0M.get_width(),a+150)|0,d=Math.max(this.$0M.get_height(),b+150)|0;this.$0M.dispose();this.$1M.dispose();this.$0M=p.$IH.$hG.createTexture(c,
d);this.$1M=p.$IH.$hG.createTexture(c,d)}else this.$0M.clear(),this.$1M.clear();this.$XI=a;this.$YI=b},$3M:function(a){null!=a.$dJ&&(a.outputOnly||a.setUniformSampler2D("uTexture",this.$0M),a.setUniformVec2("uFilterPosition",this.$yM,this.$zM),this.$1M.renderFilter(a,this.$XI,this.$YI),a=this.$0M,this.$0M=this.$1M,this.$1M=a)},__class__:lh};var rd=function(){};g.$CiB=rd;rd.__name__=["$CiB"];rd.__interfaces__=[pf];rd.prototype={__class__:rd};var Rh=function(){};g["kit.subsystem.RendererSystem"]=Rh;
Rh.__name__=["kit","subsystem","RendererSystem"];Rh.prototype={__class__:Rh,__properties__:{get_filterSupported:"get_filterSupported"}};var sd=function(){};g.$CjB=sd;sd.__name__=["$CjB"];sd.__interfaces__=[Rh];sd.prototype={__class__:sd};var od=function(){};g.$CkB=od;od.__name__=["$CkB"];od.$iO=function(a){switch(a){case 8:return h.Backspace;case 9:return h.Tab;case 13:return h.Enter;case 15:return h.Command;case 16:return h.Shift;case 17:return h.Control;case 18:return h.Alt;case 20:return h.CapsLock;
case 27:return h.Escape;case 32:return h.Space;case 33:return h.PageUp;case 34:return h.PageDown;case 35:return h.End;case 36:return h.Home;case 37:return h.Left;case 38:return h.Up;case 39:return h.Right;case 40:return h.Down;case 45:return h.Insert;case 46:return h.Delete;case 48:return h.Number0;case 49:return h.Number1;case 50:return h.Number2;case 51:return h.Number3;case 52:return h.Number4;case 53:return h.Number5;case 54:return h.Number6;case 55:return h.Number7;case 56:return h.Number8;case 57:return h.Number9;
case 65:return h.A;case 66:return h.B;case 67:return h.C;case 68:return h.D;case 69:return h.E;case 70:return h.F;case 71:return h.G;case 72:return h.H;case 73:return h.I;case 74:return h.J;case 75:return h.K;case 76:return h.L;case 77:return h.M;case 78:return h.N;case 79:return h.O;case 80:return h.P;case 81:return h.Q;case 82:return h.R;case 83:return h.S;case 84:return h.T;case 85:return h.U;case 86:return h.V;case 87:return h.W;case 88:return h.X;case 89:return h.Y;case 90:return h.Z;case 96:return h.Numpad0;
case 97:return h.Numpad1;case 98:return h.Numpad2;case 99:return h.Numpad3;case 100:return h.Numpad4;case 101:return h.Numpad5;case 102:return h.Numpad6;case 103:return h.Numpad7;case 104:return h.Numpad8;case 105:return h.Numpad9;case 106:return h.NumpadMultiply;case 107:return h.NumpadAdd;case 108:return h.NumpadEnter;case 109:return h.NumpadSubtract;case 110:return h.NumpadDecimal;case 111:return h.NumpadDivide;case 112:return h.F1;case 113:return h.F2;case 114:return h.F3;case 115:return h.F4;
case 116:return h.F5;case 117:return h.F6;case 118:return h.F7;case 119:return h.F8;case 120:return h.F9;case 121:return h.F10;case 122:return h.F11;case 123:return h.F12;case 186:return h.Semicolon;case 187:return h.Equals;case 188:return h.Comma;case 189:return h.Minus;case 190:return h.Period;case 191:return h.Slash;case 192:return h.Backquote;case 219:return h.LeftBracket;case 220:return h.Backslash;case 221:return h.RightBracket;case 222:return h.Quote;case 16777234:return h.Menu;case 16777247:return h.Search}return h.Unknown(a)};
od.$jO=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;
case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;
case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;
case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};var xc=function(){this.$qO=0;this.$oO=null;this.$kO=new F;this.$pO=[]};g.$ClB=xc;xc.__name__=["$ClB"];xc.$rO=function(a,b){if(a.active){var c=a.$IG[14];if(null!=
c&&(c.$MH=b,b*=c.scale.$1G,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c.$B&1)&&(c.$B|=1,c.$A(),c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,xc.$rO(c,b),c=d}};xc.prototype={$qJ:function(){if(1==la.$MM("scaleMode")){var a=new u;p.root.add(a);var b=la.$MM("width"),c=la.$MM("height"),d=la.$MM("maxWidth"),e=la.$MM("maxHeight"),f=function(){var f=Math.min(p.$IH.$iG.get_width()/b,p.$IH.$iG.get_height()/c),g=p.$IH.$iG.get_width()/2-f*b/2,h=p.$IH.$iG.get_height()/
2;a.setXY(g,h-f*c/2);a.setScale(f);d*f<p.$IH.$iG.get_width()||e*f<p.$IH.$iG.get_height()?(null==a.get_scissor()&&a.set_scissor(new Ba),a.get_scissor().set(b/2-d/2,c/2-e/2,d,e)):a.set_scissor(null)};f();p.$IH.$iG.resize.connect(f)}},$bG:function(a){if(!(0>=a)){0.5<a?3>=this.$qO&&(++this.$qO,a=0.016666666666666666):this.$qO=0;if(null!=this.$oO){var b=this.$oO;this.$oO=null;for(var c=0;c<b.length;){var d=b[c];++c;d()}}for(b=0;b<this.$pO.length;)c=this.$pO[b],null==c||c.update(a)?this.$pO.splice(b,1):
++b;p.volume.update(a);xc.$rO(p.root,a);xc.$rO(this.$kO,a)}},$HI:function(a){var b=a.graphics;null!=b&&(a.willRender(),u.$MF(p.root,b,!0),u.$MF(this.$kO,b,!0),a.didRender())},$lO:function(a){this.$pO.push(a)},$nO:function(a){null==this.$oO?this.$oO=[a]:this.$oO.push(a)},__class__:xc};var xa=function(){};g.$CmB=xa;xa.__name__=["$CmB"];xa.$tO=function(a,b,c,d,e,f,m){if(3>m)return!1;for(var g=0,h=2*Math.PI/m,k=0;k<m;){var l=k++,n=Math.cos(g),p=Math.sin(g),g=g+h;a.push(e*n+c);a.push(f*p+d);l<m-1&&(b.push(0),
b.push(l),b.push(l+1))}return!0};xa.$uO=function(a,b,c,d,e,f,m,g){if(3>g)return!1;a.push(c);a.push(d);m/=g;var h=0;for(g+=1;h<g;){var k=h++,l=Math.cos(f),n=Math.sin(f);f+=m;a.push(e*l+c);a.push(e*n+d);b.push(0);b.push(k);b.push(k+1)}return!0};xa.$vO=function(a,b,c,d,e,f,m,g,h){m/=h;var k=[],l=0;for(h+=1;l<h;){l++;var n=Math.cos(f),p=Math.sin(f);f+=m;k.push(e*n+c);k.push(e*p+d)}return xa.$xO(a,b,k,g)};xa.$wO=function(a,b,c,d,e,f,m,g){for(var h=0,k=2*Math.PI/g,l=[],n=0;n<g;){n++;var p=Math.cos(h),q=
Math.sin(h),h=h+k;l.push(e*p+c);l.push(f*q+d)}l.push(e+c);l.push(d);return xa.$xO(a,b,l,m)};xa.$xO=function(a,b,c,d){var e=c.length;if(4>e)return!1;d/=2;var f=c[0],m=c[1],g=c[e-2],h=c[e-1],k=new La(-(c[3]-m),c[2]-f);k.normalize();var l=k.x,k=k.y;a.push(f-d*l);a.push(m-d*k);a.push(f+d*l);a.push(m+d*k);f=e/2|0;for(m=2;m<e-2;){var n=c[m++],p=c[m++],q=c[m],s=c[m+1],r=new La(-(s-p),q-n);r.normalize();var t=new La(r.x,r.y);t.add(l,k);t.normalize();var u=r.dot(t.x,t.y);t.multiply(d/u);if(0.15>u){var u=c[m-
4],v=c[m-3];0>(n-u)*(s-v)-(p-v)*(q-u)?(a.push(n-t.x),a.push(p-t.y),a.push(n+l*d),a.push(p+k*d),a.push(n-t.x),a.push(p-t.y),a.push(n+r.x*d),a.push(p+r.y*d)):(a.push(n-l*d),a.push(p-k*d),a.push(n+t.x),a.push(p+t.y),a.push(n-r.x*d),a.push(p-r.y*d),a.push(n+t.x),a.push(p+t.y));++f}else a.push(n-t.x),a.push(p-t.y),a.push(n+t.x),a.push(p+t.y);l=r.x;k=r.y}a.push(g-d*l);a.push(h-d*k);a.push(g+d*l);a.push(h+d*k);a=0;for(c=f-1;a<c;)e=2*a++,b.push(e),b.push(e+1),b.push(e+2),b.push(e+2),b.push(e+3),b.push(e+
1);return!0};xa.$yO=function(a){if(6>a.length)return null;null==xa.$zO&&(xa.$zO=new Sh);return xa.$zO.triangulate(a)};var Nh=function(){};g.$CnB=Nh;Nh.__name__=["$CnB"];Nh.$1O=function(a){switch(a){case 0:return $a.Left;case 1:return $a.Middle;case 2:return $a.Right}return $a.Unknown(a)};var af=function(){this.$xH=null;B.call(this)};g.$CoB=af;af.__name__=["$CoB"];af.__super__=B;af.prototype=l(B.prototype,{get_entitySlot:function(){return 24},onStart:function(){var a=this,b=la.$NM();null!=b&&p.$IH.$iG.orientation.watch(function(c,
d){null==c||c==b?a.$4O():a.$3O(c!=d)})},$3O:function(a){var b=this;if(null==this.$xH){this.owner.addChild(this.$xH=new F);var c=this.$xH,d=Ma.fromAssets("_2DKitOrientation");p.$IH.loadAssetPack(d).then(function(d){b.registerDisposable(d);var f=new Jb(0,0,0);a&&f.alpha.animate(0,1,0.3);c.add(f);var g=(new za(d.getTexture("RotateDevice"))).centerAnchor();d=(new F).add(g);c.addChild(d);d=function(){var a=p.$IH.$iG.get_width(),b=p.$IH.$iG.get_height();f.setSize(a,b);a=p.$IH.$iG.get_width()/2;b=p.$IH.$iG.get_height()/
2;g.setXY(a,b)};d();b.connect0(p.$IH.$iG.resize,d)})}},$4O:function(){null!=this.$xH&&(this.$xH.dispose(),this.$xH=null)},__class__:af});var bc=function(){};g.$CpB=bc;bc.__name__=["$CpB"];bc.$6O=function(a){var b=new rb;b.useCache=!0;b.useEnumIndex=!1;b.serialize(a);return b.toString()};bc.$8O=function(a){return bc.$$O(bc.$6O(a),!1)};bc.$9O=function(a){return cb.run(bc.$$O(a,!0))};bc.$$O=function(a,b){for(var c="",d=new Th(a.length),e=0,f=a.length;e<f;){var g=e++,h=d.nextInt()%30;b&&(h=-h);g=a.charCodeAt(g)+
h;c+=String.fromCharCode(g)}return c};var mg=function(){};g.$CqB=mg;mg.__name__=["$CqB"];mg.prototype={__class__:mg};var td=function(){};g.$CrB=td;td.__name__=["$CrB"];td.prototype={__class__:td};var ra=function(a,b){this.$NP=new ng;this.$MP=!1;this.$LP=a.getContext("2d",{alpha:b})};g.$CsB=ra;ra.__name__=["$CsB"];ra.__interfaces__=[rd];ra.prototype={save:function(){var a=this.$NP,b=this.$NP.next;null==b&&(b=new ng,b.$RP=a,a.next=b);b.$6K=a.$6K;b.$8K=a.$8K;b.$$K=a.$$K;b.$PP=a.$PP;b.$QP=a.$QP;this.$NP=
b;this.$LP.save()},translate:function(a,b){this.$LP.translate(a|0,b|0)},scale:function(a,b){this.$LP.scale(a,b)},rotate:function(a){this.$LP.rotate(3.141592653589793*a/180)},transform:function(a,b,c,d,e,f){this.$LP.transform(a,b,c,d,e,f)},restore:function(){this.$NP=this.$NP.$RP;this.$LP.restore()},$_O:function(a,b,c,d,e){var f=this.$NP,f=(255*f.$6K&255)<<16|(255*f.$8K&255)<<8|255*f.$$K&255;null==ra.$OP&&(ra.$OP=G.$qQ(d,e));ra.$OP.width=d;ra.$OP.height=e;var g=ra.$OP.getContext("2d",null);g.globalCompositeOperation=
"copy";g.fillStyle=G.$wQ(f);g.fillRect(0,0,d,e);g.globalCompositeOperation="multiply";g.drawImage(a,b,c,d,e,0,0,d,e);g.globalCompositeOperation="destination-atop";g.drawImage(a,b,c,d,e,0,0,d,e);return ra.$OP},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){if(this.$MP)this.$MP=!1,this.$LP.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,e,f,g),this.$LP.globalCompositeOperation="source-over";else{var h=a.$_L;
d=a.$AM+d|0;a=a.$BM+e|0;f|=0;g|=0;b|=0;c|=0;e=h.$nH;this.$NP.$PP?(h=this.$_O(h.$bP,d,a,f,g),this.$LP.drawImage(h,b*e,c*e,f*e,g*e)):this.$LP.drawImage(h.$bP,d*e,a*e,f*e,g*e,b,c,f,g)}},drawPattern:function(a,b,c,d,e){if(this.$MP)this.$MP=!1,this.$LP.globalCompositeOperation="copy",this.drawPattern(a,b,c,d,e),this.$LP.globalCompositeOperation="source-over";else{var f=this.$NP,g=a.$_L.$nH;1!=g&&(this.$LP.save(),this.$LP.scale(1/g,1/g));b|=0;c|=0;d|=0;e|=0;f.$QP?this.$LP.rect(b,c,d,e):(this.$LP.fillStyle=
this.$HP(a),this.$LP.fillRect(b,c,d*g,e*g));1!=g&&this.$LP.restore()}},fillRect:function(a,b,c,d,e){this.$MP?(this.$MP=!1,this.$LP.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this.$LP.globalCompositeOperation="source-over"):(b|=0,c|=0,d|=0,e|=0,this.$NP.$QP?this.$LP.rect(b,c,d,e):(this.$LP.fillStyle=this.$GP(a),this.$LP.fillRect(b,c,d,e)))},fillTriangles:function(a,b,c){this.$MP=!1;this.$AP(b,c);this.$IP(a)},drawTriangles:function(a,b,c,d){this.$MP=!1;this.$AP(b,c);this.$JP(a)},$AP:function(a,
b){this.$LP.beginPath();for(var c=0,d=b.length;c<d;){var e=2*b[c],f=2*b[c+1],g=2*b[c+2],c=c+3;this.$LP.moveTo(a[e],a[e+1]);this.$LP.lineTo(a[f],a[f+1]);this.$LP.lineTo(a[g],a[g+1])}this.$LP.closePath()},fillPolygon:function(a,b){this.$MP=!1;this.$BP(b);this.$IP(a)},drawPolygon:function(a,b){this.$MP=!1;this.$BP(b);this.$JP(a)},$BP:function(a){this.$LP.beginPath();for(var b=0,c=a.length;b<c;){var d=a[b++],e=a[b++];this.$LP.lineTo(d,e)}this.$LP.closePath()},drawCircle:function(a,b,c,d,e){this.$MP=!1;
this.$CP(b,c,d);this.$JP(a)},fillCircle:function(a,b,c,d,e){this.$MP=!1;this.$CP(b,c,d);this.$IP(a)},strokeCircle:function(a,b,c,d,e,f){this.$MP=!1;this.$CP(b,c,d);this.$KP(a,e)},$CP:function(a,b,c){this.$LP.beginPath();this.$LP.arc(a,b,c,0,6.283185307179586);this.$LP.closePath()},drawEllipse:function(a,b,c,d,e,f){this.$MP=!1;this.$DP(b,c,d,e);this.$JP(a)},fillEllipse:function(a,b,c,d,e,f){this.$MP=!1;this.$DP(b,c,d,e);this.$IP(a)},strokeEllipse:function(a,b,c,d,e,f,g){this.$MP=!1;this.$DP(b,c,d,
e);this.$KP(a,f)},$DP:function(a,b,c,d){var e=0.5522848*c,f=0.5522848*d,g=a-c,h=b-d;c=a+c;d=b+d;this.$LP.beginPath();this.$LP.moveTo(g,b);this.$LP.bezierCurveTo(g,b-f,a-e,h,a,h);this.$LP.bezierCurveTo(a+e,h,c,b-f,c,b);this.$LP.bezierCurveTo(c,b+f,a+e,d,a,d);this.$LP.bezierCurveTo(a-e,d,g,b+f,g,b);this.$LP.closePath()},fillArc:function(a,b,c,d,e,f,g){this.$MP=!1;f=e+f;this.$LP.beginPath();this.$LP.moveTo(b,c);this.$LP.arc(0,0,d,3.141592653589793*e/180,3.141592653589793*f/180);this.$IP(a)},strokeArc:function(a,
b,c,d,e,f,g,h){this.$MP=!1;c=e+f;this.$LP.beginPath();this.$LP.arc(b,b,d,3.141592653589793*e/180,3.141592653589793*c/180);this.$KP(a,g)},strokeLines:function(a,b,c){this.$MP=!1;this.$EP(b);this.$LP.lineWidth=c;this.$LP.strokeStyle=this.$GP(a);this.$LP.stroke()},drawLines:function(a,b,c){this.$MP=!1;this.$EP(b);this.$LP.lineWidth=c;this.$LP.strokeStyle=this.$HP(a);this.$LP.stroke()},$EP:function(a){this.$LP.beginPath();if(2<=a.length){this.$LP.moveTo(a[0],a[1]);for(var b=2,c=a.length;b<c;){var d=a[b++],
e=a[b++];this.$LP.lineTo(d,e)}}},multiplyAlpha:function(a){this.$LP.globalAlpha*=a},setAlpha:function(a){this.$LP.globalAlpha=a},tint:function(a,b,c){var d=this.$NP;d.$6K*=a;d.$8K*=b;d.$$K*=c;d.$PP=!0},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this.$LP.globalCompositeOperation=b},beginMask:function(){var a=this.$NP;a.$QP&&this.endMask();a.$QP=!0;
this.$LP.beginPath()},endMask:function(){var a=this.$NP;a.$QP&&(a.$QP=!1,this.$LP.clip())},applyScissor:function(a,b,c,d){this.$LP.beginPath();this.$LP.rect(a|0,b|0,c|0,d|0);this.$LP.clip()},willRender:function(){this.$MP=!0},didRender:function(){},onResize:function(a,b){},$GP:function(a){var b=this.$NP;b.$PP&&(a=(b.$6K*(a&16711680)/16711680*255&255)<<16|(b.$8K*(a&65280)/65280*255&255)<<8|b.$$K*(a&255)/255*255&255);return G.$wQ(a)},$HP:function(a){return this.$NP.$PP?(a=this.$_O(a.$_L.$bP,a.$AM,a.$BM,
a.$XI,a.$YI),this.$LP.createPattern(a,"repeat")):a.$UP()},$IP:function(a){this.$NP.$QP||(this.$LP.fillStyle=this.$GP(a),this.$LP.fill())},$JP:function(a){this.$NP.$QP||(this.$LP.fillStyle=this.$HP(a),this.$LP.fill())},$KP:function(a,b){this.$NP.$QP||(this.$LP.strokeStyle=this.$GP(a),this.$LP.lineWidth=b,this.$LP.stroke())},__class__:ra};var ng=function(){this.$RP=this.next=null;this.$PP=this.$QP=!1;this.$6K=this.$8K=this.$$K=1};g.$CtB=ng;ng.__name__=["$CtB"];ng.prototype={__class__:ng};var df=function(a){this.graphics=
new ra(a,!1);this.$TP=new qa(!0)};g.$CuB=df;df.__name__=["$CuB"];df.__interfaces__=[sd];df.prototype={get_filterSupported:function(){return!1},createTextureFromImage:function(a,b,c){null==c&&(c=1);a=new ud(a,c);return a.createTexture(a.$XP/c,a.$YP/c)},createTexture:function(a,b,c,d){null==d&&(d=1);a=G.$qQ(a,b);return this.createTextureFromImage(a,null,d)},createSystemFont:function(a){return new Db(a)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},
__class__:df,__properties__:{get_filterSupported:"get_filterSupported"}};var og=function(a,b,c){this.$WP=0;this.$VP=null;Sb.call(this,a,b,c)};g.$CvB=og;og.__name__=["$CvB"];og.__super__=Sb;og.prototype=l(Sb.prototype,{$UP:function(){if(this.$WP!=this.$_L.$cP||null==this.$VP)this.$WP=this.$_L.$cP,this.$VP=this.$_L.$eP(this.$AM,this.$BM,this.$XI,this.$YI);return this.$VP},__class__:og});var ud=function(a,b){this.$gP=null;this.$cP=0;this.$aL=!1;this.$bP=a;this.$XP=a.width;this.$YP=a.height;this.$nH=
b;this.$ZP=this.$XP/b;this.$aP=this.$YP/b};g.$CwB=ud;ud.__name__=["$CwB"];ud.__interfaces__=[mg];ud.__super__=wa;ud.prototype=l(wa.prototype,{createTexture:function(a,b){return new og(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$gP&&(this.$fP(),this.$gP=new pg(this));return this.$gP},clear:function(){var a=this.$fP();a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.$bP.width,this.$bP.height);a.restore()},renderFilter:function(a,b,c){},$eP:function(a,b,c,d){var e=this.$fP(),
f=this.$bP;if(0!=a||0!=b||c!=this.$ZP||d!=this.$aP)f=G.$qQ(c,d),c=f.getContext("2d",null),c.globalCompositeOperation="copy",c.drawImage(this.$bP,-a,-b);return e.createPattern(f,"repeat")},$fP:function(){ca.__instanceof(this.$bP,HTMLCanvasElement)||(this.$bP=G.$rQ(this.$bP));return this.$bP.getContext("2d",null)},$YL:function(){G.$0Q(this.$bP.src);this.$gP=this.$bP=null},__class__:ud});var pg=function(a){ra.call(this,a.$bP,!0);this.$hP=a};g.$CxB=pg;pg.__name__=["$CxB"];pg.__super__=ra;pg.prototype=
l(ra.prototype,{drawTexture:function(a,b,c){ra.prototype.drawTexture.call(this,a,b,c);++this.$hP.$cP},drawSubTexture:function(a,b,c,d,e,f,g){ra.prototype.drawSubTexture.call(this,a,b,c,d,e,f,g);++this.$hP.$cP},drawPattern:function(a,b,c,d,e){ra.prototype.drawPattern.call(this,a,b,c,d,e);++this.$hP.$cP},fillRect:function(a,b,c,d,e){ra.prototype.fillRect.call(this,a,b,c,d,e);++this.$hP.$cP},fillTriangles:function(a,b,c){ra.prototype.fillTriangles.call(this,a,b,c);++this.$hP.$cP},drawTriangles:function(a,
b,c,d){ra.prototype.drawTriangles.call(this,a,b,c);++this.$hP.$cP},drawCircle:function(a,b,c,d,e){null==e&&(e=50);ra.prototype.drawCircle.call(this,a,b,c,d,e);++this.$hP.$cP},fillCircle:function(a,b,c,d,e){null==e&&(e=50);ra.prototype.fillCircle.call(this,a,b,c,d,e);++this.$hP.$cP},drawEllipse:function(a,b,c,d,e,f){null==f&&(f=50);ra.prototype.drawEllipse.call(this,a,b,c,d,e,f);++this.$hP.$cP},fillEllipse:function(a,b,c,d,e,f){null==f&&(f=50);ra.prototype.fillEllipse.call(this,a,b,c,d,e,f);++this.$hP.$cP},
strokeLines:function(a,b,c){ra.prototype.strokeLines.call(this,a,b,c);++this.$hP.$cP},drawLines:function(a,b,c){ra.prototype.drawLines.call(this,a,b,c);++this.$hP.$cP},__class__:pg});var ia=function(a,b){md.call(this,a,b)};g.$CzB=ia;ia.__name__=["$CzB"];ia.$nP=function(a){var b=[x.PNG,x.JPG,x.GIF],c=1,d=window.document.createElement("img");d.onload=d.onerror=function(e){1==d.width&&b.unshift(x.WEBP);c-=1;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA=="};
ia.$oP=function(){var a=window.document.createElement("audio");if(null==a||null==I(a,a.canPlayType))return[];var b=new Ga("\\b(iPhone|iPod|iPad|Android)\\b",""),c=window.navigator.userAgent;if(!S.get_supported()&&b.match(c))return[];b=[];b.push({format:x.MP3,mimeType:"audio/mpeg"});b.push({format:x.MP4,mimeType:"video/mp4"});for(var c=[{format:x.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:x.WAV,mimeType:"audio/wav"},{format:x.WEBM,mimeType:"video/webm"}],b=0<=window.navigator.userAgent.indexOf("2DKSim")?
c:b.concat(c),c=[],d=0;d<b.length;){var e=b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&c.push(e.format)}return c};ia.$pP=function(a){var b=++ia.$xP;null==ia.$wP&&(ia.$wP=new jb);ia.$wP.h[b]=a;return b};ia.$qP=function(a){ia.$wP.remove(a)};ia.__super__=md;ia.prototype=l(md.prototype,{$gL:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d=window.document.createElement("img"),e=new Rc;e.$uM(d,"load",function(a){a=c.$IH.getRenderer().createTextureFromImage(d,
null,1);null!=a?c.$iL(b,a):c.$mL(b)});e.$uM(d,"error",function(a){G.$0Q(d.src);c.$lL(b,"Failed to load image")});e="data:"==y.substr(a,0,5);!e&&G.$1Q()?this.$lP(a,b,"blob",function(a){d.src=G.$zQ(a)}):(e||(d.crossOrigin=""),d.src=a);break;case 8:case 9:case 10:case 11:case 12:if(S.get_supported())this.$lP(a,b,"arraybuffer",function(a){S.$KR.decodeAudioData(a,function(a){c.$iL(b,new S(a))},function(){var a=ub.$pM();c.$iL(b,a)})});else{var f=window.document.createElement("audio");f.preload="auto";var g=
ia.$pP(f),e=new Rc;e.$uM(f,"canplaythrough",function(a){ia.$qP(g);c.$iL(b,new vd(f))});e.$uM(f,"error",function(a){ia.$qP(g);a=f.error.code;3==a||4==a?(a=ub.$pM(),c.$iL(b,a)):c.$lL(b,"Failed to load audio: "+f.error.code)});e.$sE(f,"progress",function(a){0<f.buffered.length&&0<f.duration&&(a=f.buffered.end(0)/f.duration,c.$jL(b,a*b.bytes|0,b.bytes))});f.src=a;f.load()}break;case 13:case 14:case 15:(function(a){var d="_kit_font_"+ia.$yP;++ia.$yP;if("undefined"!=typeof FontFace)(new FontFace(d,"url("+
a+")",{})).load().then(function(e){window.document.fonts.add(e);c.$iL(b,new Db(d,e,null,a))},function(d){G.$0Q(a);c.$lL(b,d.message)});else{var e=window.document.createElement("style");e.innerHTML="@font-face{font-family:"+d+";src:url("+a+");}";window.document.head.appendChild(e);var f=window.document.createElement("canvas").getContext("2d",null);f.font="300px sans";var g=f.measureText("BESbswy").width;f.font='300px "'+d+'"';var m=Date.now()/1E3,h=null,h=function(){var k=Date.now()/1E3-m,l=f.measureText("BESbswy").width;
5<=k||g!=l?c.$iL(b,new Db(d,null,e,a)):p.$IH.$aG.$nO(h)};p.$IH.$aG.$nO(h)}})(a);break;case 17:case 18:var h=window.document.createElement("video");h.preload="metadata";var k=ia.$pP(h),e=new Rc;e.$uM(h,"loadedmetadata",function(a){ia.$qP(k);c.$iL(b,new wd(h))});e.$uM(h,"error",function(a){ia.$qP(k);c.$lL(b,"Failed to load video: "+h.error.code)});h.src=a;h.load();break;case 19:this.$lP(a,b,"text",function(a){c.$iL(b,new nd(a))})}},$hL:function(a){var b=this;null==ia.$vP&&(ia.$vP=new U,ia.$nP(function(a){var d=
window.navigator.isCocoonJS?[x.TTF,x.WOFF]:[x.WOFF,x.OTF,x.TTF];a=b.$IH.getRenderer().getTextureAssetFormats().concat(a).concat(ia.$oP()).concat(d).concat([x.Data]);ia.$vP.success(a)}));ia.$vP.then(a)},$lP:function(a,b,c,d){this.$mP(a,b,c,d)},$mP:function(a,b,c,d){var e=this,f=null,g=null,h=0,k=!1,l=function(){k&&(k=!1,window.clearInterval(h))},n=3,p=function(){n-=1;return 0<=n?(g(),!0):!1},g=function(){l();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=
function(a){k||(k=!0,h=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!p()&&(l(),e.$lL(b,"Download stalled"))},1E3));g=Date.now();e.$jL(b,a.loaded,a.total)};f.onerror=function(a){0==f.status&&p()||(l(),e.$lL(b,"HTTP error "+f.status))};f.onload=function(a){a=f.response;null==a&&(a=f.responseText);l();d(a)};f.send()};g()},__class__:ia});var Uh=function(){};g["kit.subsystem.ExternalSystem"]=Uh;Uh.__name__=["kit","subsystem","ExternalSystem"];Uh.prototype={__class__:Uh,__properties__:{get_supported:"get_supported"}};
var bf=function(){};g.$C1B=bf;bf.__name__=["$C1B"];bf.__interfaces__=[Uh];bf.prototype={get_supported:function(){return!0},call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=X.field(c,g)}return d.apply(c,b)},__class__:bf,__properties__:{get_supported:"get_supported"}};var Ye=function(a,b){kb.call(this,a);this.$tG=b};g.$C5B=Ye;Ye.__name__=["$C5B"];Ye.__super__=kb;Ye.prototype=l(kb.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b=
"";break;case 1:b="pointer";break;case 2:b="none"}this.$tG.style.cursor=b;return kb.prototype.set_cursor.call(this,a)},__class__:Ye});var vd=function(a){this.$aL=!1;this.$MQ=a};g.$C6B=vd;vd.__name__=["$C6B"];vd.__interfaces__=[Pc];vd.__super__=wa;vd.prototype=l(wa.prototype,{play:function(a){null==a&&(a=1);return new xd(this,a,!1)},loop:function(a){null==a&&(a=1);return new xd(this,a,!0)},get_duration:function(){return this.$MQ.duration},$YL:function(){this.$MQ=null},__class__:vd,__properties__:{get_duration:"get_duration"}});
var xd=function(a,b,c){this.$TQ=!1;var d=this;this.$rM=a;this.$BQ=!1;this.$PQ=window.document.createElement("audio");this.$PQ.loop=c;this.$PQ.src=a.$MQ.src;this.volume=new V(b,function(a,b){d.$OQ()});this.$OQ();this.$sM=new qa(!1);this.$NQ();p.hidden.$1G&&this.set_paused(!0)};g.$C7B=xd;xd.__name__=["$C7B"];xd.__interfaces__=[td,Qc];xd.prototype={get_sound:function(){return this.$rM},set_paused:function(a){a!=this.$TQ&&((this.$TQ=a)?this.$PQ.pause():this.$NQ());return a},get_complete:function(){return this.$sM},
update:function(a){this.volume.update(a);this.$sM.set__(this.$PQ.ended);return this.$sM.$1G||this.$TQ?(this.$BQ=!1,this.$QQ.dispose(),this.$RQ.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$sM.set__(!0)},$NQ:function(){var a=this;this.$PQ.play();this.$BQ||(Fb.$zG.$aG.$lO(this),this.$BQ=!0,this.$QQ=p.volume.get_changed().connect(function(b,c){a.$OQ()}),this.$RQ=p.hidden.get_changed().connect(function(b,c){b?(a.$SQ=a.$TQ,a.set_paused(!0)):a.set_paused(a.$SQ)}))},$OQ:function(){this.$PQ.volume=
Nb.clamp(p.volume.$1G*this.volume.$1G,0,1)},__class__:xd,__properties__:{get_complete:"get_complete",get_sound:"get_sound",set_paused:"set_paused"}};var Vh=function(){};g["kit.subsystem.StageSystem"]=Vh;Vh.__name__=["kit","subsystem","StageSystem"];Vh.prototype={__class__:Vh,__properties__:{get_height:"get_height",get_width:"get_width"}};var Ic=function(a){this.$YQ=1;this.orientation=new qa(null);var b=this;this.$tG=a;this.resize=new ua;this.$YQ=Ic.$ZQ();window.addEventListener("resize",I(this,this.$UQ),
!1);this.$UQ(null);this.fullscreen=new qa(!1);G.$mQ(window.document,"fullscreenchange",function(a){b.$XQ()},!1);this.$XQ()};g.$C8B=Ic;Ic.__name__=["$C8B"];Ic.__interfaces__=[Vh];Ic.$ZQ=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=G.$iQ("backingStorePixelRatio",b).value;null==b&&(b=1);return a/b};Ic.prototype={get_width:function(){return this.$tG.width},get_height:function(){return this.$tG.height},get_fullscreenSupported:function(){return!0==
G.$jQ(["fullscreenEnabled","fullScreenEnabled"],window.document).value},lockOrientation:function(a){var b=G.$iQ("lockOrientation",window.screen).value;if(null!=b){var c;switch(a[1]){case 0:c="portrait";break;case 1:c="landscape"}b.apply(window.screen,[c])}},requestFullscreen:function(a){null==a&&(a=!0);if(a){a=window.document.documentElement;var b=G.$jQ(["requestFullscreen","requestFullScreen"],a).value;null!=b&&b.apply(a,[])}else a=G.$jQ(["exitFullscreen","cancelFullscreen","cancelFullScreen"],window.document).value,
null!=a&&a.apply(window.document,[])},$UQ:function(a){var b=this.$tG.parentElement.getBoundingClientRect();!G.$dQ||90!=window.orientation&&-90!=window.orientation?this.$VQ(b.width,b.height):(a=Math.min(window.innerWidth,b.width),b=Math.min(window.innerHeight,b.height),this.$VQ(a,b)&&window.scrollTo(window.scrollX,window.scrollY));this.$WQ()},$VQ:function(a,b){var c=this.$YQ*a,d=this.$YQ*b;if(this.$tG.width==c&&this.$tG.height==d)return!1;1!=this.$YQ&&(this.$tG.style.width=a+"px",this.$tG.style.height=
b+"px");this.$tG.width=c|0;this.$tG.height=d|0;this.resize.emit();return!0},$WQ:function(){null==window.orientation?this.orientation.set__(null):this.orientation.set__(window.innerWidth>window.innerHeight?Qb.Landscape:Qb.Portrait)},$XQ:function(){var a=G.$jQ(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(!0==a)},__class__:Ic,__properties__:{get_fullscreenSupported:"get_fullscreenSupported",get_height:"get_height",get_width:"get_width"}};var We=function(a,b){this.$aQ=
a;this.$bQ=b+":"};g.$C9B=We;We.__name__=["$C9B"];We.__interfaces__=[kg];We.prototype={set:function(a,b){var c=bc.$8O(b);try{this.$aQ.setItem(this.$bQ+a,c)}catch(d){return d instanceof v&&(d=d.val),(new U).failure(d.message)}return(new U).success(null)},get:function(a,b){var c=null;try{c=this.$aQ.getItem(this.$bQ+a)}catch(d){d instanceof v&&(d=d.val)}var e=b;if(null!=c)try{e=bc.$9O(c)}catch(f){}return(new U).success(e)},remove:function(a){try{this.$aQ.removeItem(this.$bQ+a)}catch(b){return b instanceof
v&&(b=b.val),(new U).failure(b.message)}return(new U).success(null)},__class__:We};var G=function(){};g.$C$B=G;G.__name__=["$C$B"];G.$hQ=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};G.$iQ=function(a,b){null==b&&(b=window);var c=X.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+y.substr(a,1,null),d=0,e=G.$cQ;d<e.length;){var f=e[d];++d;var g=f+c,h=X.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}};
G.$jQ=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=G.$iQ(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};G.$kQ=function(a,b){null==b&&(b=window);var c=G.$iQ(a,b).value;if(null==c)return!1;b[a]=c;return!0};G.$lQ=function(a,b,c){a=a.style;for(var d=0,e=G.$cQ;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};G.$mQ=function(a,b,c,d){for(var e=0,f=G.$cQ;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};G.$qQ=
function(a,b){var c=window.document.createElement("canvas");c.width=a;c.height=b;return c};G.$rQ=function(a){var b=G.$qQ(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};G.$vQ=function(a,b,c){var d=a.getContext("2d",null);d.drawImage(a,b-1,0,1,c,b,0,1,c);d.drawImage(a,0,c-1,b,1,0,c,b,1)};G.$wQ=function(a){for(a=(16777215&a).toString(16);6>a.length;)a="0"+A.string(a);return"#"+A.string(a)};G.$xQ=function(a){return 157286400};
G.$zQ=function(a){return G.$1Q()?G.$4Q.createObjectURL(a):null};G.$0Q=function(a){G.$1Q()&&G.$4Q.revokeObjectURL(a)};G.$1Q=function(){if(G.$3Q){G.$3Q=!1;if(null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;G.$4Q=G.$iQ("URL").value}return null!=G.$4Q?null!=G.$4Q.createObjectURL:!1};var Db=function(a,b,c,d){this.$aL=!1;this.$hF=a;this.$7Q=b;this.$8Q=c;this.$9Q=d};g.$C_B=Db;Db.__name__=["$C_B"];
Db.__interfaces__=[Yf];Db.__super__=wa;Db.prototype=l(wa.prototype,{createTexture:function(a,b){var c=b.fontSize+'px "'+this.$hF+'"';b.bold&&(c="bold "+c);b.italic&&(c="italic "+c);var d=this.$6Q(c),e=window.document.createElement("canvas"),f=e.getContext("2d",null);f.font=c;0<b.wrapWidth&&(a=this.$5Q(f,a,b.wrapWidth));var g=a.split("\n"),h;if(0<b.wrapWidth&&b.align!=Aa.Left)h=b.wrapWidth;else for(var k=h=0;k<g.length;){var l=g[k];++k;h=Math.max(h,f.measureText(l).width)}h+=b.strokeWidth;var k=d.$_Q+
d.$AR+b.strokeWidth,l=h+4,n=k+(k+b.lineSpacing)*(g.length-1)+4;b.italic&&(l+=0.25*b.fontSize);e.width=Math.ceil(l);e.height=Math.ceil(n);f.font=c;f.textBaseline="alphabetic";0<b.strokeWidth&&(f.strokeStyle=G.$wQ(b.strokeColor),f.lineWidth=b.strokeWidth);f.fillStyle=G.$wQ(b.color);var q;switch(b.align[1]){case 0:q=0.5*b.strokeWidth;f.textAlign="left";break;case 1:q=h/2;f.textAlign="center";break;case 2:q=h-0.5*b.strokeWidth,f.textAlign="right"}c=d.$_Q+0.5*b.strokeWidth;for(d=0;d<g.length;)h=g[d],++d,
0<b.strokeWidth&&f.strokeText(h,q|0,c|0),f.fillText(h,q|0,c|0),c+=k+b.lineSpacing;return p.$IH.$hG.createTextureFromImage(e,va.RGBA_4444)},$5Q:function(a,b,c){var d="";b=b.split("\n");for(var e=0,f=b.length;e<f;){for(var g=e++,h=c,k=b[g].split(" "),l=0,n=k.length;l<n;){var p=l++,q=a.measureText(k[p]).width,r=q+a.measureText(" ").width;0==p||r>h?(0<p&&(d+="\n"),d+=k[p],h=c-q):(h-=r,d+=" "+k[p])}g<b.length-1&&(d+="\n")}return d},$6Q:function(a){null==Db.$$Q&&(Db.$$Q=new Q);var b=Db.$$Q,b=null!=q[a]?
b.getReserved(a):b.h[a];if(null!=b)return b;var c=window.document.createElement("canvas"),d=c.getContext("2d",null);d.font=a;var e=Math.ceil(d.measureText("|M\u00c9q").width),b=Math.ceil(d.measureText("M").width),f=2*b,b=1.4*b|0;c.width=e;c.height=f;d.fillStyle="#f00";d.fillRect(0,0,e,f);d.font=a;d.textBaseline="alphabetic";d.fillStyle="#000";d.fillText("|M\u00c9q",0,b);for(var c=d.getImageData(0,0,e,f).data,d=c.length,e=4*e,g=0,h=0,k=!1;g<b;){for(var l=0;l<e;){if(255!=c[h+l]){k=!0;break}l+=4}if(k)break;
else h+=e;++g}l=b-g;h=d-e;k=!1;for(g=f;g>b;){for(f=0;f<e;){if(255!=c[h+f]){k=!0;break}f+=4}if(k)break;else h-=e;--g}b=new Wh(l,g-b);f=Db.$$Q;null!=q[a]?f.setReserved(a,b):f.h[a]=b;return b},$YL:function(){null!=this.$7Q&&(window.document.fonts["delete"](this.$7Q),this.$7Q=null);G.$0Q(this.$9Q);null!=this.$8Q&&(null!=this.$8Q.parentNode&&this.$8Q.parentNode.removeChild(this.$8Q),this.$8Q=null)},__class__:Db});var Wh=function(a,b){this.$_Q=a;this.$AR=b};g.$CAC=Wh;Wh.__name__=["$CAC"];Wh.prototype={__class__:Wh};
var wd=function(a){this.$aL=!1;this.$CR=a};g.$CCC=wd;wd.__name__=["$CCC"];wd.__interfaces__=[pd];wd.__super__=wa;wd.prototype=l(wa.prototype,{play:function(a){null==a&&(a=1);return new qg(this,a,!1)},get_width:function(){return this.$CR.videoWidth},get_height:function(){return this.$CR.videoHeight},$YL:function(){this.$CR=null},__class__:wd,__properties__:{get_height:"get_height",get_width:"get_width"}});var qg=function(a,b,c){this.$ZI=null;this.$TQ=!1;var d=this;this.$tM=a;this.$PQ=window.document.createElement("video");
this.$PQ.loop=c;this.$PQ.src=a.$CR.src;this.$PQ.width=a.$CR.videoWidth;this.$PQ.height=a.$CR.videoHeight;this.$PQ.setAttribute("playsinline","");this.$PQ.setAttribute("webkit-playsinline","");0<=window.navigator.userAgent.indexOf("2DKSim")&&(this.$PQ.src+="?"+Math.random());this.volume=new V(b,function(a,b){d.$OQ()});this.$OQ();this.$sM=new qa(!1);this.$ER();p.hidden.$1G&&this.set_paused(!0)};g.$CDC=qg;qg.__name__=["$CDC"];qg.__interfaces__=[td,qd];qg.prototype={get_texture:function(){null==this.$ZI&&
(this.$ZI=p.$IH.$hG.createTextureFromImage(this.$PQ,va.RGB));return this.$ZI},get_video:function(){return this.$tM},set_paused:function(a){a!=this.$TQ&&((this.$TQ=a)?this.$PQ.pause():this.$ER());return a},update:function(a){this.volume.update(a);this.$sM.set__(this.$PQ.ended);return this.$sM.$1G||this.$TQ?(this.$BQ=!1,this.$QQ.dispose(),this.$RQ.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$sM.set__(!0)},$ER:function(){var a=this;this.$PQ.play();this.$BQ||(Fb.$zG.$aG.$lO(this),this.$BQ=
!0,this.$QQ=p.volume.get_changed().connect(function(b,c){a.$OQ()}),this.$RQ=p.hidden.get_changed().connect(function(b,c){b?(a.$SQ=a.$TQ,a.set_paused(!0)):a.set_paused(a.$SQ)}))},$OQ:function(){this.$PQ.volume=p.volume.$1G*this.volume.$1G},__class__:qg,__properties__:{get_video:"get_video",get_texture:"get_texture",set_paused:"set_paused"}};var S=function(a){this.$aL=!1;this.$IR=a};g.$CGC=S;S.__name__=["$CGC"];S.__interfaces__=[Pc];S.__properties__={get_supported:"get_supported"};S.get_supported=function(){if(S.$QR){S.$QR=
!1;var a=G.$iQ("AudioContext").value;if(null!=a&&(S.$KR=new a,S.$LR=S.$MR(),S.$LR.connect(S.$KR.destination),p.volume.watch(function(a,b){S.$LR.gain.value=a}),p.$IH.$jG.down.connect(function(a){(new S(S.$PR())).play()}).once(),a=function(a){"suspended"==S.$KR.state&&S.$KR.resume()},p.$IH.$jG.down.connect(a),p.$IH.$jG.up.connect(a),p.$IH.$fG.down.connect(a),p.$IH.$fG.up.connect(a),G.$dQ))var b=null,b=p.$IH.$jG.up.connect(function(a){var d=(new S(S.$PR())).play();G.$hQ(function(){var a=d.$VR();(null==
a||2<=a)&&b.dispose()})})}return null!=S.$KR};S.$MR=function(){return null!=S.$KR.createGain?S.$KR.createGain():S.$KR.createGainNode()};S.$NR=function(a,b){null!=a.start?a.start(0,b):a.noteOn(0,b)};S.$OR=function(a){null!=a.stop?a.stop(0):a.noteOff(0)};S.$PR=function(){null==S.$RR&&(S.$RR=S.$KR.createBuffer(1,1,22050));return S.$RR};S.__super__=wa;S.prototype=l(wa.prototype,{play:function(a){null==a&&(a=1);return new yd(this,a,!1)},loop:function(a){null==a&&(a=1);return new yd(this,a,!0)},get_duration:function(){return this.$IR.duration},
$YL:function(){this.$IR=null},__class__:S,__properties__:{get_duration:"get_duration"}});var yd=function(a,b,c){this.$bR=0;this.$WR=-1;var d=this;this.$rM=a;this.$CH=S.$LR;this.$sM=new qa(!1);this.$aR=c;this.$fH=a.get_duration();this.volume=new V(b,function(a,b){null!=d.$YR&&d.$TR(a)});this.$NQ(0);p.hidden.$1G&&this.set_paused(!0)};g.$CHC=yd;yd.__name__=["$CHC"];yd.__interfaces__=[td,Qc];yd.prototype={get_sound:function(){return this.$rM},set_paused:function(a){a!=0<=this.$WR&&(a?(this.$SR(),this.$WR=
this.get_position()):(this.$sM.$1G||this.$NQ(this.$WR),this.$WR=-1));return a},get_complete:function(){return this.$sM},get_position:function(){return this.$sM.$1G?this.$fH:0<=this.$WR?this.$WR:(S.$KR.currentTime-this.$XR+this.$bR)%this.$fH},update:function(a){this.volume.update(a);null!=this.$YR&&3==this.$YR.playbackState&&this.$sM.set__(!0);return this.$sM.$1G||0<=this.$WR?(this.$BQ=!1,this.$RQ.dispose(),this.$SR(),!0):!1},$SR:function(){if(null!=this.$YR){S.$OR(this.$YR);this.$YR.disconnect();
this.$YR.onended=null;if(G.$dQ){var a=S.$PR();try{this.$YR.buffer=a}catch(b){}}this.$YR=null}},dispose:function(){this.set_paused(!0);this.$sM.set__(!0)},$TR:function(a){null==this.$ZR&&(this.$ZR=S.$MR(),this.$UR(this.$ZR));this.$ZR.gain.value=a},$UR:function(a){0<=this.$WR||(this.$YR.disconnect(),this.$YR.connect(a));a.connect(this.$CH);this.$CH=a},$NQ:function(a){var b=this;this.$YR=S.$KR.createBufferSource();this.$YR.buffer=this.$rM.$IR;this.$YR.loop=this.$aR;this.$YR.onended=function(){b.$sM.set__(!0)};
S.$NR(this.$YR,a);this.$YR.connect(this.$CH);this.$bR=0<=this.$WR?this.$WR:0;this.$XR=S.$KR.currentTime;1==this.volume.$1G&&null==this.$ZR||this.$TR(this.volume.$1G);this.$BQ||(Fb.$zG.$aG.$lO(this),this.$BQ=!0,this.$RQ=p.hidden.get_changed().connect(function(a,d){a?(b.$SQ=0<=b.$WR,b.set_paused(!0)):b.set_paused(b.$SQ)}))},$VR:function(){return null!=this.$YR?this.$YR.playbackState:3},__class__:yd,__properties__:{get_position:"get_position",get_complete:"get_complete",get_sound:"get_sound",set_paused:"set_paused"}};
var Xh=function(a){this.$bS=new Q;this.$aS=(new ig).$SM(157286400).$UM(function(a,b){return a.$xS()});this.$US=this.$VS=this.$WS=this.$XS=this.$YS=this.$ZS=0;this.$MS=[];this.$JS=!0;this.$HS=!1;this.$FS=this.$GS=null;this.$ES=!1;this.$DS=null;this.$CS=0;this.$$R=this.$_R=this.$LJ=this.$AS=this.$BS=null;this.$9R=!1;this.$8R=null;this.$7R=new Ba;this.$6R=0;this.$4R=this.$5R=null;this.$dR=[];this.$cR=null;var b=this;this.$3R=a;this.$aS.$TM(function(a,d){b.$pR(a,d)});this.$aS.$SM(G.$xQ(a));p.lowMemoryWarning.connect(function(){b.$aS.dispose()});
a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);a.pixelStorei(3317,1);this.$IS=a.createBuffer();a.bindBuffer(34962,this.$IS);this.$KS=a.createBuffer();this.$LS=a.createBuffer();this.$5R=this.$KS;this.$NS=new Sc(a,0);this.$OS=new Sc(a,1);this.$PS=new Sc(a,2);this.$QS=new Tc(a,0);this.$RS=new Tc(a,1);this.$SS=new Tc(a,2);this.$TS=new rg(a);this.$2R(16)};g.$CIC=Xh;Xh.__name__=["$CIC"];Xh.prototype={$eR:function(a,b){this.$3R.viewport(0,0,a,b);this.$XS=a;this.$YS=b},$fR:function(){this.$ZS=
this.$ZS+1|0;this.$lR(null)},$gR:function(){this.$1R();this.$3R.flush()},$iR:function(a){a==this.$LJ&&(this.$1R(),this.$LJ=null);this.$rR(a);null!=a.$wS?this.$pR(a,a.$wS):this.$aS.$ZM(a)},$jR:function(a){if(a.$vS){a.$vS=!1;var b=this.$aS.$ZM(a,!1);null!=b?a.$wS=b:this.$mR(a);a.$rS=null;a.$sS=null}},$kR:function(){var a=this.$3R.createTexture();this.$nR(a);this.$3R.texParameteri(3553,10242,33071);this.$3R.texParameteri(3553,10243,33071);this.$3R.texParameteri(3553,10240,9729);this.$3R.texParameteri(3553,
10241,9729);return a},$lR:function(a){this.$1R();this.$8R=null;this.$3R.clearColor(0,0,0,0);null!=this.$$R&&(this.$$R=null,this.$3R.disable(3089));this.$qR(a);this.$3R.clear(16384)},$mR:function(a){var b=a.$vS?this.$aS.$MM(a):a.$wS;if(null==b){b=this.$kR();b=new Yh(b);if(a.$vS){var c=!0;if(this.$aS.$cM+a.$xS()>this.$aS.$dM){var d=this.$aS.$WM();2>this.$ZS-d.$uS&&(c=!1)}this.$aS.$VM(a,b,c)}else a.$wS=b;switch(a.$yS[1]){case 2:case 3:c=6407;break;default:c=6408}switch(a.$yS[1]){case 1:d=32819;break;
case 3:d=33635;break;default:d=5121}var e=a.$rS,f;null!=e?(f=a.$rS,f=null==(f instanceof HTMLVideoElement?f:null)):f=!1;if(f){if(a.$XP!=e.width||a.$YP!=e.height)f=G.$qQ(a.$XP,a.$YP),f.getContext("2d",null).drawImage(e,0,0),G.$vQ(f,e.width,e.height),e=f;this.$3R.texImage2D(3553,0,c,c,d,e)}else this.$3R.texImage2D(3553,0,c,a.$XP,a.$YP,0,c,d,null)}a.$uS!=this.$ZS&&(c=a.$rS,c=c instanceof HTMLVideoElement?c:null,null!=c&&2<=c.readyState&&(this.$nR(b.$qS),this.$3R.texImage2D(3553,0,6407,6407,5121,c)));
a.$uS=this.$ZS;return b},$nR:function(a){this.$GS!=a&&(this.$GS=a,this.$3R.bindTexture(3553,a))},$oR:function(a){this.$FS!=a&&(a.$5S(this.$FS),this.$FS=a)},$pR:function(a,b){a==this.$LJ&&(this.$1R(),this.$LJ=null);this.$3R.deleteTexture(b.$qS);null!=b.$4K&&this.$3R.deleteTexture(b.$4K)},$qR:function(a){if(this.$DS!=a)if(this.$DS=a,null!=a){var b=a.$tS,c=null;null==b&&(b=this.$3R.createFramebuffer(),a.$tS=b,this.$jR(a),c=a.$wS.$qS);this.$3R.bindFramebuffer(36160,a.$tS);this.$3R.viewport(0,0,a.$XP,
a.$YP);null!=c&&this.$3R.framebufferTexture2D(36160,36064,3553,c,0)}else this.$3R.bindFramebuffer(36160,null),this.$3R.viewport(0,0,this.$XS,this.$YS)},$rR:function(a){a==this.$8R&&(this.$1R(),this.$8R=null);null!=a.$tS&&(this.$3R.deleteFramebuffer(a.$tS),a.$tS=null)},$sR:function(a,b,c,d,e,f){f.$_L!=this.$LJ&&(this.$1R(),this.$LJ=f.$_L);return this.$0R(a,b,c,d,e,this.$tR(f.$_L,e))},$tR:function(a,b){return b?this.$OS:null!=a.$sS&&a.$sS.separateAlpha?this.$PS:this.$NS},$uR:function(a,b,c,d,e,f){f.$_L!=
this.$LJ&&(this.$1R(),this.$LJ=f.$_L);if(f.$AM!=this.$7R.x||f.$BM!=this.$7R.y||f.$XI!=this.$7R.width||f.$YI!=this.$7R.height)this.$1R(),this.$7R.set(f.$AM,f.$BM,f.$XI,f.$YI);return this.$0R(a,b,c,d,e,this.$vR(f.$_L,e))},$vR:function(a,b){return b?this.$RS:null!=a.$sS&&a.$sS.separateAlpha?this.$SS:this.$QS},$wR:function(a,b,c,d,e){return this.$0R(a,b,c,d,e,this.$TS)},$xR:function(a,b,c,d,e,f){return this.$zR(a,b,c,d,e,this.$TS,f)},$yR:function(a,b,c,d,e,f,g){f.$_L!=this.$LJ&&(this.$1R(),this.$LJ=f.$_L);
if(f.$AM!=this.$7R.x||f.$BM!=this.$7R.y||f.$XI!=this.$7R.width||f.$YI!=this.$7R.height)this.$1R(),this.$7R.set(f.$AM,f.$BM,f.$XI,f.$YI);return this.$zR(a,b,c,d,e,this.$vR(f.$_L,e),g)},$KJ:function(a,b,c,d,e,f,g){a!=this.$8R&&(this.$1R(),this.$8R=a);b!=this.$4R&&(this.$1R(),this.$4R=b);d!=this.$6R&&(this.$1R(),this.$6R=d);e!=this.$9R&&(this.$1R(),this.$9R=e);f!=this.$_R&&(this.$1R(),f.$KJ(),this.$_R=f);g!=this.$5R&&(this.$1R(),this.$5R=g);if(null!=c||null!=this.$$R)null!=c&&null!=this.$$R&&this.$$R.equals(c)||
(this.$1R(),this.$$R=null!=c?c.clone(this.$$R):null,this.$HS=!0)},$zR:function(a,b,c,d,e,f,g){this.$KJ(a,b,c,d,e,f,this.$LS);a=this.$dR.length;f=a/f.$3S|0;for(b=0;b<g.length;)c=g[b],++b,this.$MS.push(c+f);return a},$0R:function(a,b,c,d,e,f){this.$KJ(a,b,c,d,e,f,this.$KS);this.$US>=this.$VS&&this.$2R(2*this.$VS);++this.$US;a=this.$WS;this.$WS+=4*f.$3S;return a},$3M:function(a,b,c,d){var e=b.$bJ(),f=this.$bS,f=null!=q[e]?f.getReserved(e):f.h[e];if(null==f){var f=new sg(this.$3R,this,b.$eJ,b.$dJ),g=
this.$bS;null!=q[e]?g.setReserved(e,f):g.h[e]=f}e=this.$0R(a,ba.Copy,null,0,!1,f);g=this.$cR;this.$LJ=null;var h=c/a.$ZP,k=d/a.$aP,l=2*h-1,n=2*k-1;g[e]=-1;g[++e]=-1;g[++e]=0;g[++e]=0;g[++e]=l;g[++e]=-1;g[++e]=h;g[++e]=0;g[++e]=l;g[++e]=n;g[++e]=h;g[++e]=k;g[++e]=-1;g[++e]=n;g[++e]=0;g[++e]=k;this.$qR(a);this.$oR(f);f.$OT(b,a,c,d);this.$1R()},$1R:function(){if(this.$5R==this.$KS){if(1>this.$US)return}else if(1>this.$MS.length)return;this.$qR(this.$8R);if(this.$4R!=this.$AS){switch(this.$4R[1]){case 0:this.$3R.blendFunc(1,
771);break;case 1:this.$3R.blendFunc(1,1);break;case 2:this.$3R.blendFunc(774,771);break;case 3:this.$3R.blendFunc(1,769);break;case 4:this.$3R.blendFunc(0,770);break;case 5:this.$3R.blendFunc(1,0)}this.$AS=this.$4R}if(this.$6R!=this.$CS){if(0<this.$6R)if(0==this.$CS&&this.$3R.enable(2960),this.$9R){var a=1<<this.$6R-1;this.$3R.stencilMask(a);this.$CS<this.$6R&&this.$3R.clear(1024);this.$3R.stencilFunc(514,a-1,255)}else a=(1<<this.$6R)-1,this.$3R.stencilFunc(514,a,a);else this.$3R.disable(2960);this.$CS=
this.$6R}this.$9R!=this.$ES&&(this.$9R?(this.$3R.stencilMask(1<<this.$6R-1),this.$3R.clear(1024),this.$3R.colorMask(!1,!1,!1,!1),this.$3R.stencilFunc(514,(1<<this.$6R-1)-1,255),this.$3R.stencilOp(7680,7680,7682)):(this.$3R.colorMask(!0,!0,!0,!0),a=(1<<this.$6R)-1,this.$3R.stencilFunc(514,a,a),this.$3R.stencilOp(7680,7680,7680)),this.$ES=this.$9R);this.$HS&&(null!=this.$$R?(this.$3R.enable(3089),this.$3R.scissor(this.$$R.x|0,this.$$R.y|0,this.$$R.width|0,this.$$R.height|0)):this.$3R.disable(3089),
this.$HS=!1);null!=this.$LJ&&(a=this.$mR(this.$LJ),null!=a.$4K?(this.$3R.activeTexture(33985),this.$nR(a.$qS),this.$3R.activeTexture(33984),this.$nR(a.$4K)):this.$nR(a.$qS));this.$oR(this.$_R);this.$_R!=this.$QS&&this.$_R!=this.$RS&&this.$_R!=this.$SS||this.$_R.$ET(this.$7R.x/this.$LJ.$ZP,this.$7R.y/this.$LJ.$aP,this.$7R.width/this.$LJ.$ZP,this.$7R.height/this.$LJ.$aP);this.$5R!=this.$BS&&(this.$3R.bindBuffer(34963,this.$5R),this.$BS=this.$5R);if(this.$BS==this.$KS){if(this.$JS){this.$JS=!1;for(var a=
new Uint16Array(6*this.$VS),b=0,c=this.$VS;b<c;){var d=b++,e=6*d,d=4*d;a[e]=d;a[e+1]=d+1;a[e+2]=d+2;a[e+3]=d+2;a[e+4]=d+3;a[e+5]=d}this.$3R.bufferData(34963,a,35044)}this.$3R.bufferData(34962,this.$cR.subarray(0,this.$WS),35048);this.$3R.drawElements(4,6*this.$US,5123,0);this.$WS=this.$US=0}else a=new Uint16Array(this.$MS),this.$3R.bufferData(34963,a,35048),this.$MS.length=0,this.$3R.bufferData(34962,new Float32Array(this.$dR),35048),this.$dR.length=0,this.$3R.drawElements(4,a.length,5123,0)},$2R:function(a){1024<
a?this.$1R():(this.$VS=a,a=new Float32Array(32*a),null!=this.$cR&&a.set(this.$cR,0),this.$cR=a,this.$JS=!0)},__class__:Xh};var Eb=function(a,b){this.$gS=this.$NP=null;null==Eb.$hS&&(Eb.$hS=new Float32Array(8));this.$fS=a;this.$hP=b};g.$CJC=Eb;Eb.__name__=["$CJC"];Eb.__interfaces__=[rd];Eb.prototype={save:function(){var a=this.$NP,b=this.$NP.next;null==b&&(b=new tg,b.$RP=a,a.next=b);a.$iS.clone(b.$iS);b.$6K=a.$6K;b.$8K=a.$8K;b.$$K=a.$$K;b.$4K=a.$4K;b.$AJ=a.$AJ;b.$BJ=null!=a.$BJ?a.$BJ.clone(b.$BJ):
null;b.$jS=a.$jS;b.$kS=a.$kS;this.$NP=b},translate:function(a,b){var c=this.$NP.$iS;c.m02+=c.m00*a+c.m01*b;c.m12+=c.m10*a+c.m11*b},scale:function(a,b){var c=this.$NP.$iS;c.m00*=a;c.m10*=a;c.m01*=b;c.m11*=b},rotate:function(a){var b=this.$NP.$iS;a=3.141592653589793*a/180;var c=Math.sin(a);a=Math.cos(a);var d=b.m00,e=b.m10,f=b.m01,g=b.m11;b.m00=d*a+f*c;b.m10=e*a+g*c;b.m01=f*a-d*c;b.m11=g*a-e*c},transform:function(a,b,c,d,e,f){var g=this.$NP;Eb.$TF.set(a,b,c,d,e,f);hb.multiply(g.$iS,Eb.$TF,g.$iS)},restore:function(){this.$NP=
this.$NP.$RP},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){var h=this.$NP,k=a.$_L;b=this.$eS(b,c,f,g);c=k.$ZP;k=k.$aP;d=(a.$AM+d)/c;e=(a.$BM+e)/k;f=d+f/c;g=e+g/k;c=h.$6K;var k=h.$8K,l=h.$$K,n=h.$4K;a=this.$fS.$sR(this.$hP,h.$AJ,h.$BJ,h.$jS,h.$kS,a);h=this.$fS.$cR;h[a]=b[0];h[++a]=b[1];h[++a]=d;h[++a]=e;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=n;h[++a]=b[2];h[++a]=b[3];h[++a]=f;h[++a]=e;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=n;
h[++a]=b[4];h[++a]=b[5];h[++a]=f;h[++a]=g;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=n;h[++a]=b[6];h[++a]=b[7];h[++a]=d;h[++a]=g;h[++a]=c;h[++a]=k;h[++a]=l;h[++a]=n},drawPattern:function(a,b,c,d,e){var f=this.$NP,g=a.$_L;b=this.$eS(b,c,d,e);d/=g.$ZP;e/=g.$aP;g=f.$6K;c=f.$8K;var h=f.$$K,k=f.$4K;a=this.$fS.$uR(this.$hP,f.$AJ,f.$BJ,f.$jS,f.$kS,a);f=this.$fS.$cR;f[a]=b[0];f[++a]=b[1];f[++a]=0;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=k;f[++a]=b[2];f[++a]=b[3];f[++a]=d;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=
k;f[++a]=b[4];f[++a]=b[5];f[++a]=d;f[++a]=e;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=k;f[++a]=b[6];f[++a]=b[7];f[++a]=0;f[++a]=e;f[++a]=g;f[++a]=c;f[++a]=h;f[++a]=k},fillRect:function(a,b,c,d,e){var f=this.$NP;b=this.$eS(b,c,d,e);c=f.$6K*(a&16711680)/16711680;d=f.$8K*(a&65280)/65280;a=f.$$K*(a&255)/255;e=f.$4K;var f=this.$fS.$wR(this.$hP,f.$AJ,f.$BJ,f.$jS,f.$kS),g=this.$fS.$cR;g[f]=b[0];g[++f]=b[1];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[2];g[++f]=b[3];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[4];
g[++f]=b[5];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[6];g[++f]=b[7];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e},fillTriangles:function(a,b,c){var d=this.$NP,e=d.$iS,f=e.m00,g=e.m01,h=e.m02,k=e.m10,l=e.m11,e=e.m12,n=d.$6K*(a&16711680)/16711680,p=d.$8K*(a&65280)/65280;a=d.$$K*(a&255)/255;var q=d.$4K;c=this.$fS.$xR(this.$hP,d.$AJ,d.$BJ,d.$jS,d.$kS,c);for(var d=this.$fS.$dR,r=0,t=b.length;r<t;){var s=b[r++],u=b[r++];d[c++]=s*f+u*g+h;d[c++]=s*k+u*l+e;d[c++]=n;d[c++]=p;d[c++]=a;d[c++]=q}},drawTriangles:function(a,
b,c,d){var e=this.$NP,f=a.$_L,g=e.$iS,h=g.m00,k=g.m01,l=g.m02,n=g.m10,p=g.m11,g=g.m12,q=e.$6K,r=e.$8K,t=e.$$K,s=e.$4K;a=this.$fS.$yR(this.$hP,e.$AJ,e.$BJ,e.$jS,e.$kS,a,c);c=this.$fS.$dR;for(var u=e=0,v=b.length;u<v;){var x=b[u++],y=b[u++];c[a++]=x*h+y*k+l;c[a++]=x*n+y*p+g;null!=d?(c[a++]=d[e++],c[a++]=d[e++]):(c[a++]=x/f.$ZP,c[a++]=y/f.$aP);c[a++]=q;c[a++]=r;c[a++]=t;c[a++]=s}},fillPolygon:function(a,b){var c=xa.$yO(b);null!=c&&this.fillTriangles(a,b,c)},drawPolygon:function(a,b){var c=xa.$yO(b);
null!=c&&this.drawTriangles(a,b,c)},drawCircle:function(a,b,c,d,e){null==e&&(e=50);var f=[],g=[];xa.$tO(f,g,b,c,d,d,e)&&this.drawTriangles(a,f,g)},fillCircle:function(a,b,c,d,e){null==e&&(e=50);var f=[],g=[];xa.$tO(f,g,b,c,d,d,e)&&this.fillTriangles(a,f,g)},strokeCircle:function(a,b,c,d,e,f){null==f&&(f=50);var g=[],h=[];xa.$wO(g,h,b,c,d,d,e,f)&&this.fillTriangles(a,g,h)},drawEllipse:function(a,b,c,d,e,f){null==f&&(f=50);var g=[],h=[];xa.$tO(g,h,b,c,d,e,f)&&this.drawTriangles(a,g,h)},fillEllipse:function(a,
b,c,d,e,f){null==f&&(f=50);var g=[],h=[];xa.$tO(g,h,b,c,d,e,f)&&this.fillTriangles(a,g,h)},strokeEllipse:function(a,b,c,d,e,f,g){null==g&&(g=50);var h=[],k=[];xa.$wO(h,k,b,c,d,e,f,g)&&this.fillTriangles(a,h,k)},fillArc:function(a,b,c,d,e,f,g){null==g&&(g=50);var h=[],k=[];xa.$uO(h,k,b,c,d,3.141592653589793*e/180,3.141592653589793*f/180,g)&&this.fillTriangles(a,h,k)},strokeArc:function(a,b,c,d,e,f,g,h){null==h&&(h=50);var k=[],l=[];xa.$vO(k,l,b,c,d,3.141592653589793*e/180,3.141592653589793*f/180,g,
h)&&this.fillTriangles(a,k,l)},strokeLines:function(a,b,c){var d=[],e=[];xa.$xO(d,e,b,c)&&this.fillTriangles(a,d,e)},drawLines:function(a,b,c){var d=[],e=[];xa.$xO(d,e,b,c)&&this.drawTriangles(a,d,e)},multiplyAlpha:function(a){this.$NP.$4K*=a},setAlpha:function(a){this.$NP.$4K=a},tint:function(a,b,c){var d=this.$NP;d.$6K*=a;d.$8K*=b;d.$$K*=c},setBlendMode:function(a){this.$NP.$AJ=a},beginMask:function(){var a=this.$NP;++a.$jS;a.$kS=!0},endMask:function(){this.$NP.$kS=!1},applyScissor:function(a,b,
c,d){var e=this.$NP,f=Eb.$hS;f[0]=a;f[1]=b;f[2]=a+c;f[3]=b+d;e.$iS.transformArray(f,4,f);this.$gS.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;d=f[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);e.$lS(a,b,c,d)},willRender:function(){this.$fS.$fR()},didRender:function(){this.$fS.$gR()},onResize:function(a,b){this.$NP=new tg;var c=null!=this.$hP?-1:1;this.$NP.$iS.set(2/a,0,0,-2*c/b,-1,c);this.$gS=new hb;this.$gS.set(2/a,0,0,2/b,-1,-1);this.$gS.invert()},$eS:function(a,b,c,d){c=a+c;d=b+d;var e=Eb.$hS;e[0]=a;
e[1]=b;e[2]=c;e[3]=b;e[4]=c;e[5]=d;e[6]=a;e[7]=d;this.$NP.$iS.transformArray(e,8,e);return e},__class__:Eb};var tg=function(){this.$RP=this.next=null;this.$kS=!1;this.$jS=0;this.$6K=this.$8K=this.$$K=this.$4K=1;this.$BJ=null;this.$AJ=ba.Normal;this.$iS=new hb};g.$CKC=tg;tg.__name__=["$CKC"];tg.prototype={$lS:function(a,b,c,d){if(null!=this.$BJ){var e=this.$BJ.x,e=e>a?e:a,f=this.$BJ.y,f=f>b?f:b,g=this.$BJ.x+this.$BJ.width;c=a+c;var h=this.$BJ.y+this.$BJ.height;d=b+d;a=e;b=f;c=(g<c?g:c)-e;c=0>c?0:c;
d=(h<d?h:d)-f;d=0>d?0:d}else this.$BJ=new Ba;this.$BJ.set(Math.round(a),Math.round(b),Math.round(c),Math.round(d))},__class__:tg};var cf=function(a,b){this.$oS=!1;var c=this;this.$TP=new qa(!0);this.$mS=b;this.$qJ();if(0==b.getError()){this.$oS=!0;var d=b.canvas;d.addEventListener("webglcontextlost",function(a){a.preventDefault();c.graphics=null;c.$TP.set__(!1)},!1);d.addEventListener("webglcontextrestored",function(a){c.$qJ();c.$TP.set__(!0)},!1);a.resize.connect(I(this,this.$pS))}};g.$CLC=cf;cf.__name__=
["$CLC"];cf.__interfaces__=[sd];cf.prototype={get_filterSupported:function(){return!0},createTextureFromImage:function(a,b,c){null==c&&(c=1);var d=a.width,e=a.height,f=new Uc(this,d,e,c);null!=b&&b!=va.COMPRESSED&&(f.$yS=b);f.$rS=a;return f.createTexture(d/c,e/c)},createTexture:function(a,b,c,d){null==d&&(d=1);var e=new Uc(this,a,b,d);null!=c&&c!=va.COMPRESSED&&(e.$yS=c);e.clear();return e.createTexture(a/d,b/d)},createSystemFont:function(a){return new Db(a)},getTextureAssetFormats:function(){return[]},
willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},$pS:function(){if(null!=this.graphics){var a=this.$mS.canvas,b=a.width,a=a.height;this.$nS.$eR(b,a);this.graphics.onResize(b,a)}},$qJ:function(){this.$nS=new Xh(this.$mS);this.graphics=new Eb(this.$nS,null);this.$pS()},__class__:cf,__properties__:{get_filterSupported:"get_filterSupported"}};var Yh=function(a){this.$4K=null;this.$qS=a};g.$CMC=Yh;Yh.__name__=["$CMC"];Yh.prototype={__class__:Yh};var ug=
function(a,b,c){Sb.call(this,a,b,c)};g.$CNC=ug;ug.__name__=["$CNC"];ug.__super__=Sb;ug.prototype=l(Sb.prototype,{__class__:ug});var Uc=function(a,b,c,d){this.$gP=null;this.$yS=va.RGBA;this.$wS=null;this.$vS=!0;this.$uS=-1;this.$rS=this.$sS=this.$tS=null;this.$aL=!1;this.$hG=a;b=2>b?2:b;c=2>c?2:c;this.$XP=b;this.$YP=c;this.$nH=d;this.$ZP=b/d;this.$aP=c/d};g.$COC=Uc;Uc.__name__=["$COC"];Uc.__interfaces__=[mg];Uc.__super__=wa;Uc.prototype=l(wa.prototype,{createTexture:function(a,b){return new ug(this,
Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$gP&&(this.$gP=new Eb(this.$hG.$nS,this),this.$gP.onResize(this.$XP,this.$YP));return this.$gP},clear:function(){this.$hG.$nS.$lR(this)},renderFilter:function(a,b,c){this.$hG.$nS.$3M(this,a,b,c)},$xS:function(){var a;switch(this.$yS[1]){case 1:a=2;break;case 2:a=3;break;case 3:a=2;break;default:a=4}return a*this.$XP*this.$YP},$YL:function(){this.$hG.$nS.$iR(this);null!=this.$rS&&G.$0Q(this.$rS.src);this.$gP=this.$wS=this.$tS=this.$sS=this.$rS=
null},__class__:Uc});var Qa=function(a){this.$CT=!0;this.$BT=-1;this.$AT=[];this.$9S=this.$$S=this.$_S=null;this.$3S=0;this.$3R=a};g.$CSC=Qa;Qa.__name__=["$CSC"];Qa.$DT=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};Qa.prototype={$4S:function(){},$KJ:function(){null==this.$9S&&(this.$9S=this.$3R.createProgram(),this.$4S(),this.$CT&&(this.$3R.detachShader(this.$9S,this.$$S),this.$3R.deleteShader(this.$$S),this.$$S=null,this.$3R.detachShader(this.$9S,this.$_S),
this.$3R.deleteShader(this.$_S),this.$_S=null))},$5S:function(a){this.$3R.useProgram(this.$9S);if(0>this.$BT){for(var b=this.$BT=0,c=this.$AT;b<c.length;){var d=c[b];++b;var e=d.$VT();d.$UT=this.$BT;this.$BT+=e}this.$AT=this.$AT.filter(function(a){return 0<=a.$TT});this.$AT.sort(function(a,b){return a.$TT-b.$TT})}if(null!=a){b=a.$AT.length;for(c=this.$AT.length;b<c;)d=b++,this.$3R.enableVertexAttribArray(d);b=this.$AT.length;for(c=a.$AT.length;b<c;)d=b++,this.$3R.disableVertexAttribArray(d)}else for(b=
0,c=this.$AT.length;b<c;)d=b++,this.$3R.enableVertexAttribArray(d);b=0;for(c=this.$AT.length;b<c;){var d=b++,e=this.$AT[d],f=null!=a?a.$AT[d]:null;null!=f&&f.$QM==e.$QM&&f.$pJ==e.$pJ&&a.$BT==this.$BT&&f.$UT==e.$UT||this.$3R.vertexAttribPointer(d,e.$QM,e.$pJ,!1,this.$BT,e.$UT)}},$6S:function(a,b){b="precision mediump float;\n"+b;this.$$S=Qa.$DT(this.$3R,35633,a);this.$_S=Qa.$DT(this.$3R,35632,b);this.$3R.attachShader(this.$9S,this.$$S);this.$3R.attachShader(this.$9S,this.$_S);this.$3R.linkProgram(this.$9S);
this.$3R.useProgram(this.$9S)},$7S:function(a,b,c){a=this.$3R.getAttribLocation(this.$9S,a);this.$AT.push(new Zh(a,b,c));this.$3S+=b},$8S:function(a){return this.$3R.getUniformLocation(this.$9S,a)},__class__:Qa};var Tc=function(a,b){this.$FT=this.$GT=this.$HT=this.$IT=-1;Qa.call(this,a);this.$MT=b};g.$CTC=Tc;Tc.__name__=["$CTC"];Tc.__super__=Qa;Tc.prototype=l(Qa.prototype,{$4S:function(){var a;switch(this.$MT){case 0:case 1:a="texture2D(u_texture, pos);";break;case 2:a="vec4(texture2D(u_textureRGB, pos).rgb, texture2D(u_texture, pos).r);"}a=
["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;",2==this.$MT?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {\nmediump vec2 pos = u_region.xy + mod(v_uv, u_region.zw);","lowp vec4 color = "+a,1==this.$MT?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$6S("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",
a);this.$7S("a_pos",2,5126);this.$7S("a_uv",2,5126);this.$7S("a_color",4,5126);this.$JT=this.$8S("u_texture");this.$LT=this.$8S("u_region");this.$3R.uniform1i(this.$JT,0);2==this.$MT&&(this.$KT=this.$8S("u_textureRGB"),this.$3R.uniform1i(this.$KT,1))},$ET:function(a,b,c,d){if(a!=this.$FT||b!=this.$GT||c!=this.$HT||d!=this.$IT)this.$FT=a,this.$GT=b,this.$HT=c,this.$IT=d,this.$3R.uniform4f(this.$LT,a,b,c,d)},__class__:Tc});var Sc=function(a,b){Qa.call(this,a);this.$MT=b};g.$CUC=Sc;Sc.__name__=["$CUC"];
Sc.__super__=Qa;Sc.prototype=l(Qa.prototype,{$4S:function(){var a;switch(this.$MT){case 0:case 1:a="texture2D(u_texture, v_uv);";break;case 2:a="vec4(texture2D(u_textureRGB, v_uv).rgb, texture2D(u_texture, v_uv).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;",2==this.$MT?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {","lowp vec4 color = "+a,1==this.$MT?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");
this.$6S("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$7S("a_pos",2,5126);this.$7S("a_uv",2,5126);this.$7S("a_color",4,5126);this.$JT=this.$8S("u_texture");this.$NT(0);2==this.$MT&&(this.$KT=this.$8S("u_textureRGB"),this.$3R.uniform1i(this.$KT,1))},$NT:function(a){this.$3R.uniform1i(this.$JT,
a)},__class__:Sc});var rg=function(a){Qa.call(this,a)};g.$CVC=rg;rg.__name__=["$CVC"];rg.__super__=Qa;rg.prototype=l(Qa.prototype,{$4S:function(){this.$6S("attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.$7S("a_pos",2,5126);this.$7S("a_rgb",3,5126);this.$7S("a_alpha",
1,5126)},__class__:rg});var sg=function(a,b,c,d){this.$RT=new Q;this.$PT=this.$QT=null;Qa.call(this,a);this.$fS=b;null==c&&(c="void main () {\nvTextureCoord = aTextureCoord;\nvFilterCoord = aTextureCoord * uTextureSize/uFilterSize;\ngl_Position = vec4(aVertexPosition, 0, 1);\n}");this.$eJ=c;this.$dJ=d;this.$CT=!1};g.$CWC=sg;sg.__name__=["$CWC"];sg.__super__=Qa;sg.prototype=l(Qa.prototype,{$4S:function(){var a=["precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\nattribute highp vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n#line 0",
this.$eJ].join("\n"),b=["varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\n#line 0",this.$dJ].join("\n");this.$6S(a,b);this.$7S("aVertexPosition",2,5126);this.$7S("aTextureCoord",2,5126);this.$QT=this.$3R.getUniformLocation(this.$9S,"uTextureSize");this.$PT=this.$3R.getUniformLocation(this.$9S,"uFilterSize");this.$eJ=this.$dJ=null},$OT:function(a,b,c,d){null!=this.$QT&&this.$3R.uniform2f(this.$QT,
b.$XP,b.$YP);null!=this.$PT&&this.$3R.uniform2f(this.$PT,c,d);b=0;a=a.$cJ;for(a=new Bb(a,a.arrayKeys());a.hasNext();){c=a.next();d=c.$nJ;var e=this.$RT;d=null!=q[d]?e.getReserved(d):e.h[d];if(null==d){d=new $h(this.$3R.getUniformLocation(this.$9S,c.$nJ));var e=c.$nJ,f=this.$RT;null!=q[e]?f.setReserved(e,d):f.h[e]=d}d=d.$ST;if(null!=d)switch(c.$pJ){case 0:this.$3R.uniform1f(d,c.$oJ);break;case 1:this.$3R.uniform2fv(d,c.$oJ);break;case 2:this.$3R.uniform3fv(d,c.$oJ);break;case 3:this.$3R.uniform4fv(d,
c.$oJ);break;case 4:this.$3R.uniform1i(d,c.$oJ);break;case 5:this.$3R.uniform2iv(d,c.$oJ);break;case 6:this.$3R.uniform3iv(d,c.$oJ);break;case 7:this.$3R.uniform4iv(d,c.$oJ);break;case 8:this.$3R.uniformMatrix2fv(d,!1,c.$oJ);break;case 9:this.$3R.uniformMatrix3fv(d,!1,c.$oJ);break;case 10:this.$3R.uniformMatrix4fv(d,!1,c.$oJ);break;case 11:this.$3R.uniform1i(d,b),0!=b&&this.$3R.activeTexture(33984+b),++b,c=this.$fS.$mR(c.$oJ.$_L),this.$fS.$nR(c.$qS)}}1<b&&this.$3R.activeTexture(33984)},__class__:sg});
var $h=function(a){this.$ST=a};g.$CXC=$h;$h.__name__=["$CXC"];$h.prototype={__class__:$h};var Zh=function(a,b,c){this.$UT=0;this.$TT=a;this.$QM=b;this.$pJ=c};g.$CYC=Zh;Zh.__name__=["$CYC"];Zh.prototype={$VT:function(){return this.$QM*(5126==this.$pJ?4:1)},__class__:Zh};var Hb=function(){};g["kit.scene.Transition"]=Hb;Hb.__name__=["kit","scene","Transition"];Hb.prototype={init:function(a,b,c){this.$WT=a;this.$dH=b;this.$eH=c},update:function(a){return!0},complete:function(){},__class__:Hb};var Ia=
function(a,b){this.$fH=a;this.$YT=null!=b?b:E.linear};g["kit.scene.TweenTransition"]=Ia;Ia.__name__=["kit","scene","TweenTransition"];Ia.__super__=Hb;Ia.prototype=l(Hb.prototype,{init:function(a,b,c){Hb.prototype.init.call(this,a,b,c);this.$ZT=0},update:function(a){this.$ZT+=a;return this.$ZT>=this.$fH},$XT:function(a,b){return a+(b-a)*this.$YT(this.$ZT/this.$fH)},__class__:Ia});var db=function(a,b,c){this.$bT=this.$cT=null;Ia.call(this,b,c);this.$aT=a};g["kit.scene.FilterTransition"]=db;db.__name__=
["kit","scene","FilterTransition"];db.__super__=Ia;db.prototype=l(Ia.prototype,{init:function(a,b,c){Ia.prototype.init.call(this,a,b,c);b=Math.ceil(a.get_width());a=Math.ceil(a.get_height());c=this.$dH.$IG[3];if(null==c){var d=this.$dH;c=new u;d.add(c)}c.get_filters().push(this.$aT);c.set_filterBounds(new Ba(0,0,b,a));c=this.$eH.$IG[3];null==c&&(d=this.$eH,c=new u,d.add(c));c.set_visible(!1);this.$bT=p.$IH.$hG.createTexture(b,a);this.$cT=p.$IH.$hG.createTexture(b,a);this.$aT.setUniformSampler2D("uFrom",
this.$bT);this.$aT.setUniformSampler2D("uTo",this.$cT);this.$aT.outputOnly=!0},update:function(a){a=Ia.prototype.update.call(this,a);var b=this.$YT(this.$ZT/this.$fH);this.$aT.setUniformFloat("uProgress",b);this.$aT.active=!1;this.$bT.clear();u.$MF(this.$dH,this.$bT.get_graphics(),!0);this.$aT.active=!0;b=this.$eH.$IG[3];b.set_visible(!0);this.$cT.clear();u.$MF(this.$eH,this.$cT.get_graphics(),!0);b.set_visible(!1);return a},complete:function(){Ia.prototype.complete.call(this);y.remove(this.$dH.$IG[3].get_filters(),
this.$aT);this.$eH.$IG[3].set_visible(!0);this.$bT.dispose();this.$cT.dispose()},__class__:db});var ve=function(a,b){var c=new Cb;c.setFragmentShader("uniform sampler2D uFrom,uTo;uniform float uProgress;uniform vec2 uDirection;uniform float uSmoothness;void main(){vec2 a=vFilterCoord;vec2 b=normalize(uDirection);b/=abs(b.x)+abs(b.y);float c=dot(b,vec2(0.5,0.5));float d=smoothstep(-uSmoothness,0.0,dot(b,a)-(c-0.5+uProgress*(1.+uSmoothness)));gl_FragColor=mix(texture2D(uTo,a),texture2D(uFrom,a),d);}");
db.call(this,c,a,b);this.set_smoothness(0.5);this.setDirection(1,1)};g["kit.scene.DirectionWipeTransition"]=ve;ve.__name__=["kit","scene","DirectionWipeTransition"];ve.__super__=db;ve.prototype=l(db.prototype,{setDirection:function(a,b){this.$aT.setUniformVec2("uDirection",a,b);return this},set_smoothness:function(a){this.$aT.setUniformFloat("uSmoothness",a);return this.$dT=a},__class__:ve,__properties__:{set_smoothness:"set_smoothness"}});var ie=function(){this.$XI=this.$YI=-1;this.$kT=null;B.call(this);
this.scenes=[];this.occludedScenes=[];this.$0J=new F};g["kit.scene.Director"]=ie;ie.__name__=["kit","scene","Director"];ie.__super__=B;ie.prototype=l(B.prototype,{get_entitySlot:function(){return 8},pushScene:function(a,b){var c=null!=a.owner?a.owner:(new F).add(a);this.$eT(c,b)},$eT:function(a,b){var c=this;this.$iT();var d=this.get_topScene();null!=d?this.$jT(d,a,b,function(){c.$4O(d)}):(this.$FI(a),this.$hT())},popScene:function(a){var b=this;this.$iT();var c=this.get_topScene();if(null!=c){this.scenes.pop();
var d=this.get_topScene();null!=d?this.$jT(c,d,a,function(){b.$gT(c)}):(this.$gT(c),this.$hT())}},unwindToScene:function(a,b){var c=null!=a.owner?a.owner:(new F).add(a);this.$fT(c,b)},$fT:function(a,b){var c=this;this.$iT();var d=this.get_topScene();if(null!=d){if(d!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.$jT(d,a,b,function(){c.$gT(d)})}}else this.$eT(a,b)},onAdded:function(){this.owner.addChild(this.$0J)},onRemoved:function(){this.$iT();
for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this.$0J.dispose()},onUpdate:function(a){null!=this.$kT&&this.$kT.$bG(a)&&this.$iT()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},$FI:function(a){var b=this.get_topScene();null!=b&&this.$0J.removeChild(b);y.remove(this.scenes,a);this.scenes.push(a);this.$0J.addChild(a)},$4O:function(a){a=a.$IG[9];null!=a&&a.hidden.emit()},$gT:function(a){this.$4O(a);a.dispose()},
$3O:function(a){a=a.$IG[9];null!=a&&a.shown.emit()},$hT:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a].$IG[9];if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.$3O(a)},$iT:function(){null!=this.$kT&&(this.$kT.$lT(),this.$kT=null,this.$hT())},$jT:function(a,b,c,d){this.$iT();this.$FI(b);null!=c?(this.occludedScenes.push(a),this.$kT=new ai(a,b,c,d),this.$kT.$qJ(this)):(d(),this.$hT())},
get_width:function(){return 0>this.$XI?p.$IH.$iG.get_width():this.$XI},get_height:function(){return 0>this.$YI?p.$IH.$iG.get_height():this.$YI},__class__:ie,__properties__:l(B.prototype.__properties__,{get_height:"get_height",get_width:"get_width",get_topScene:"get_topScene"})});var ai=function(a,b,c,d){this.$dH=a;this.$eH=b;this.$mT=c;this.$nT=d};g.$CZC=ai;ai.__name__=["$CZC"];ai.prototype={$qJ:function(a){this.$mT.init(a,this.$dH,this.$eH)},$bG:function(a){return this.$mT.update(a)},$lT:function(){this.$mT.complete();
this.$nT()},__class__:ai};var we=function(a,b){var c=new Cb;c.setFragmentShader("uniform sampler2D uFrom,uTo;uniform float uProgress;vec2 a(float b,float c,float d){float e=b*b+b+d;float f=0.03*b*cos(10.0*(b+c));return vec2(0,f);}void main(){vec2 g=vFilterCoord;gl_FragColor=mix(texture2D(uFrom,g+a(uProgress,g.x,0.0)),texture2D(uTo,g+a(1.0-uProgress,g.x,3.14)),uProgress);}");db.call(this,c,a,b)};g["kit.scene.DreamTransition"]=we;we.__name__=["kit","scene","DreamTransition"];we.__super__=db;we.prototype=
l(db.prototype,{__class__:we});var ad=function(a,b){Ia.call(this,a,b)};g["kit.scene.FadeTransition"]=ad;ad.__name__=["kit","scene","FadeTransition"];ad.__super__=Ia;ad.prototype=l(Ia.prototype,{init:function(a,b,c){Ia.prototype.init.call(this,a,b,c);a=this.$eH.$IG[3];null==a&&(b=this.$eH,a=new u,b.add(a));a.alpha.set__(0)},update:function(a){a=Ia.prototype.update.call(this,a);this.$eH.$IG[3].alpha.set__(this.$XT(0,1));return a},complete:function(){this.$eH.$IG[3].alpha.set__(1)},__class__:ad});var xe=
function(a,b){var c=new Cb;c.setFragmentShader("uniform sampler2D uFrom,uTo;uniform float uProgress;uniform float uSize;void main(){float a=(1.0-uProgress);float b=min(uProgress,a);float c=(uSize*b)+1.0;vec2 d=(floor((gl_FragCoord.xy+c*0.5)/c)*c)/uFilterSize.xy;vec4 e=texture2D(uFrom,d);vec4 f=texture2D(uTo,d);gl_FragColor=mix(e,f,uProgress);}");db.call(this,c,a,b);this.set_size(50)};g["kit.scene.PixelateTransition"]=xe;xe.__name__=["kit","scene","PixelateTransition"];xe.__super__=db;xe.prototype=
l(db.prototype,{set_size:function(a){this.$aT.setUniformFloat("uSize",a);return this.$oT=a},__class__:xe,__properties__:{set_size:"set_size"}});var ye=function(a,b){var c=new Cb;c.setFragmentShader("uniform sampler2D uFrom,uTo;uniform float uProgress;uniform float uAmplitude;uniform float uSpeed;void main(){vec2 a=vFilterCoord;vec2 b=a-vec2(.5);float c=length(b);vec2 d=b*(sin(uProgress*c*uAmplitude-uProgress*uSpeed)+.5)/30.;gl_FragColor=mix(texture2D(uFrom,a+d),texture2D(uTo,a),smoothstep(0.2,1.0,uProgress));}");
db.call(this,c,a,b);this.set_amplitude(100);this.set_speed(50)};g["kit.scene.RippleTransition"]=ye;ye.__name__=["kit","scene","RippleTransition"];ye.__super__=db;ye.prototype=l(db.prototype,{set_amplitude:function(a){this.$aT.setUniformFloat("uAmplitude",a);return this.$pT=a},set_speed:function(a){this.$aT.setUniformFloat("uSpeed",a);return this.$qT=a},__class__:ye,__properties__:{set_speed:"set_speed",set_amplitude:"set_amplitude"}});var ue=function(a,b){this.$rT=2;Ia.call(this,a,b)};g["kit.scene.SlideTransition"]=
ue;ue.__name__=["kit","scene","SlideTransition"];ue.__super__=Ia;ue.prototype=l(Ia.prototype,{init:function(a,b,c){Ia.prototype.init.call(this,a,b,c);switch(this.$rT){case 0:this.$II=0;this.$JI=-this.$WT.get_height();break;case 1:this.$II=0;this.$JI=this.$WT.get_height();break;case 2:this.$II=-this.$WT.get_width();this.$JI=0;break;case 3:this.$II=this.$WT.get_width(),this.$JI=0}a=this.$dH.$IG[3];null==a&&(b=this.$dH,a=new u,b.add(a));a.setXY(0,0);a=this.$eH.$IG[3];null==a&&(b=this.$eH,a=new u,b.add(a));
a.setXY(-this.$II,-this.$JI)},update:function(a){a=Ia.prototype.update.call(this,a);this.$dH.$IG[3].setXY(this.$XT(0,this.$II),this.$XT(0,this.$JI));this.$eH.$IG[3].setXY(this.$XT(-this.$II,0),this.$XT(-this.$JI,0));return a},complete:function(){this.$dH.$IG[3].setXY(0,0);this.$eH.$IG[3].setXY(0,0)},__class__:ue});var cc=function(){};g["kit.script.Action"]=cc;cc.__name__=["kit","script","Action"];cc.prototype={__class__:cc};var Kb=function(a,b,c,d){this.$1G=a;this.$eH=b;this.$tT=c;this.$gH=d};g["kit.script.AnimateTo"]=
Kb;Kb.__name__=["kit","script","AnimateTo"];Kb.__interfaces__=[cc];Kb.prototype={update:function(a,b){null==this.$sT&&(this.$sT=new id(this.$1G.$1G,this.$eH,this.$tT,this.$gH),this.$1G.set_behavior(this.$sT),this.$1G.update(a));if(this.$1G.$rF!=this.$sT){var c=this.$sT.elapsed-this.$tT;this.$sT=null;return 0<c?a-c:0}return-1},__class__:Kb};var jc=function(a){this.$OH=a};g["kit.script.CallFunction"]=jc;jc.__name__=["kit","script","CallFunction"];jc.__interfaces__=[cc];jc.prototype={update:function(a,
b){this.$OH();return 0},__class__:jc};var Hc=function(a){this.$fH=a;this.$ZT=0};g["kit.script.Delay"]=Hc;Hc.__name__=["kit","script","Delay"];Hc.__interfaces__=[cc];Hc.prototype={update:function(a,b){this.$ZT+=a;if(this.$ZT>=this.$fH){var c=this.$ZT-this.$fH;this.$ZT=0;return a-c}return-1},__class__:Hc};var Vc=function(a){this.$vT=[];this.$uT=null!=a?a.slice():[]};g["kit.script.Parallel"]=Vc;Vc.__name__=["kit","script","Parallel"];Vc.__interfaces__=[cc];Vc.prototype={add:function(a){this.$uT.push(a)},
update:function(a,b){for(var c=!0,d=0,e=0,f=this.$uT.length;e<f;){var g=e++,h=this.$uT[g];if(null!=h){var k=h.update(a,b);0<=k?(this.$uT[g]=null,this.$vT.push(h),k>d&&(d=k)):c=!1}}return c?(this.$uT=this.$vT,this.$vT=[],d):-1},__class__:Vc};var De=function(a,b){null==b&&(b=-1);this.$wT=a;this.$eF=this.$ZH=b};g["kit.script.Repeat"]=De;De.__name__=["kit","script","Repeat"];De.__interfaces__=[cc];De.prototype={update:function(a,b){if(0==this.$ZH)return 0;var c=this.$wT.update(a,b);return 0<this.$ZH&&
0<=c&&0==--this.$eF?(this.$eF=this.$ZH,c):-1},__class__:De};var Ab=function(){B.call(this);this.stopAll()};g["kit.script.Script"]=Ab;Ab.__name__=["kit","script","Script"];Ab.__super__=B;Ab.prototype=l(B.prototype,{get_entitySlot:function(){return 16},run:function(a){a=new vg(a);this.$xT.push(a);return a},stopAll:function(){this.$xT=[]},onUpdate:function(a){for(var b=0;b<this.$xT.length;){var c=this.$xT[b];c.$yT||0<=c.$zT.update(a,this.owner)?this.$xT.splice(b,1):++b}},__class__:Ab});var vg=function(a){this.$yT=
!1;this.$zT=a};g.$CaC=vg;vg.__name__=["$CaC"];vg.__interfaces__=[Ra];vg.prototype={dispose:function(){this.$yT=!0;this.$zT=null},__class__:vg};var $b=function(a){this.$0T=0;this.$uT=null!=a?a.slice():[]};g["kit.script.Sequence"]=$b;$b.__name__=["kit","script","Sequence"];$b.__interfaces__=[cc];$b.prototype={update:function(a,b){for(var c=0;;){var d=this.$uT[this.$0T];if(null!=d)if(d=d.update(a-c,b),0<=d)c+=d;else return-1;++this.$0T;if(this.$0T>=this.$uT.length){this.$0T=0;break}else if(c>a)return-1}return c},
__class__:$b};var mi=function(){};g["kit.util.Arrays"]=mi;mi.__name__=["kit","util","Arrays"];mi.shuffle=function(a){for(var b=a.length;1<b;){var c=b*Math.random()|0;--b;var d=a[b];a[b]=a[c];a[c]=d}};var ic=function(){};g["kit.util.BitSets"]=ic;ic.__name__=["kit","util","BitSets"];ic.set=function(a,b,c){return c?a|b:a&~b};var Gi=function(){};g["kit.util.LogHandler"]=Gi;Gi.__name__=["kit","util","LogHandler"];var U=function(){this.$CU=this.$DU=null;this.$BU=0;this.$AU=null};g["kit.util.Promise"]=U;
U.__name__=["kit","util","Promise"];U.all=function(a){if(1>a.length)return(new U).success([]);for(var b=a.length,c=new U,d=function(a){c.failure(a)},e=Array(b),f=function(){for(var a=0,d=0;d<e.length;){var f=e[d];++d;a+=f}c.emitProgress(a/b)},g=Array(b),h=0,k=0;k<b;){var l=[k++];e[l[0]]=0;var n=l[0],p=function(a){return function(d){h+=1;g[a[0]]=d;1>e[a[0]]&&(e[a[0]]=1,f());h==b&&c.success(g)}}(l);a[n].then(p).progress(function(a){return function(b){e[a[0]]=b;f()}}(l)).catchError(d)}return c};U.prototype=
{then:function(a){var b=this;if(2==this.$BU)return this;var c=new U;this.$8G(c,function(){if(1==b.$BU){var d=a(b.$AU);c.$$T(d)}else c.failure(b.$AU)});return c},catchError:function(a){var b=this;if(1==this.$BU)return this;var c=new U;this.$8G(c,function(){if(2==b.$BU){var d=a(b.$AU);c.$$T(d)}else c.success(b.$AU)});return c},failure:function(a){return this.$_T(2,a)},success:function(a){return this.$_T(1,a)},progress:function(a){0==this.$BU&&(null==this.$DU&&(this.$DU=new fa),this.$DU.connect(a));
return this},emitProgress:function(a){0==this.$BU&&null!=this.$DU&&this.$DU.emit(a)},$8G:function(a,b){0==this.$BU?null==this.$CU?this.$CU=[b]:this.$CU.push(b):p.$IH.$aG.$nO(b);this.progress(function(b){a.emitProgress(b)})},$$T:function(a){var b=this;ca.__instanceof(a,U)?a.then(function(a){b.success(a)}).catchError(function(a){b.failure(a)}):this.success(a)},$_T:function(a,b){if(0==this.$BU&&(this.$AU=b,this.$BU=a,null!=this.$CU)){for(var c=0,d=this.$CU;c<d.length;){var e=d[c];++c;e()}this.$CU=null}return this},
__class__:U};var Th=function(a){this.$BU=null!=a?a:Math.floor(2147483647*Math.random())};g["kit.util.Random"]=Th;Th.__name__=["kit","util","Random"];Th.prototype={nextInt:function(){return this.$BU=(1103515245*this.$BU+12345)%2147483647},__class__:Th};var vh=function(a){this.next=null;this.$HU=a};g.$CcC=vh;vh.__name__=["$CcC"];vh.prototype={__class__:vh};var Za=function(){};g["kit.util.Strings"]=Za;Za.__name__=["kit","util","Strings"];Za.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<
b?y.substr(a,b+1,null):null};Za.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?y.substr(a,0,b):a};Za.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=y.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=y.substr(a,b+1,null));return Za.getFileExtension(a)};Za.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Za.withFields=function(a,b){var c=b.length;if(0<c){a+=0<a.length?" [":"[";for(var d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(ca.__instanceof(f,
Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+A.string(f);d+=2}a+="]"}return a};var Ac=function(){};g.$CdC=Ac;Ac.__name__=["$CdC"];Ac.prototype={__class__:Ac};var Sh=function(){};g["kit.util.Triangulator"]=Sh;Sh.__name__=["kit","util","Triangulator"];Sh.prototype={triangulate:function(a){var b=a.length;if(6>b)return[];var c=this.$PU;null==c?(c=new Ac,c.$KU=this.$QU,this.$QU=c):this.$PU=c.next;c.$LU=-1;c.$MU=-1;c.$qK=0;c.$sK=0;c.next=null;c.$RP=null;c.$NU=!1;c.$JU=null;c.$IU=null;for(var d=c,e=0,f=
0,g=b-2;f<b;)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f,f+=2;if(0<e)for(e=f=0;f<b;){var g=a[f],h=a[f+1],k=e++,l=this.$PU;null==l?(l=new Ac,l.$KU=this.$QU,this.$QU=l):this.$PU=l.next;l.$LU=k;l.$MU=-1;l.$qK=g;l.$sK=h;l.next=null;l.$RP=c;l.$NU=!1;l.$JU=null;l.$IU=null;null!=c&&(c.next=l);c=l;f+=2}else for(f=b-2,e=f/2|0;0<=f;)g=a[f],h=a[f+1],k=e--,l=this.$PU,null==l?(l=new Ac,l.$KU=this.$QU,this.$QU=l):this.$PU=l.next,l.$LU=k,l.$MU=-1,l.$qK=g,l.$sK=h,l.next=null,l.$RP=c,l.$NU=!1,l.$JU=null,l.$IU=null,null!=c&&
(c.next=l),c=l,f-=2;c.next=d.next;c.next.$RP=c;return this.$UU(c,160<b)},$UU:function(a,b){this.$OU=[];a=this.$ZU(a);if(b&&null!=a){var c,d;this.$RU=c=a.$qK;this.$SU=d=a.$sK;for(var e=a.next;e!=a;){var f=e.$qK,g=e.$sK;f<this.$RU&&(this.$RU=f);g<this.$SU&&(this.$SU=g);f>c&&(c=f);g>d&&(d=g);e=e.next}this.$QM=Math.max(c-this.$RU,d-this.$SU);this.$TU=!0}else this.$TU=!1;this.$cU(a);c=this.$OU;this.$OU=null;d=this.$QU;if(null!=this.$PU){for(;d!=this.$PU;)d=d.$KU;d=d.$KU}for(;null!=d;)d.next=this.$PU,this.$PU=
d,d=d.$KU;return c},$ZU:function(a,b){if(null==a)return a;null==b&&(b=a);for(var c=a,d;;){d=!1;var e;if(c.$NU)e=!1;else if(e=c.next,c.$qK!=e.$qK||c.$sK!=e.$sK){e=c.$RP;var f=c.next;e=0==(c.$sK-e.$sK)*(f.$qK-c.$qK)-(c.$qK-e.$qK)*(f.$sK-c.$sK)}else e=!0;if(e){c.next.$RP=c.$RP;c.$RP.next=c.next;null!=c.$JU&&(c.$JU.$IU=c.$IU);null!=c.$IU&&(c.$IU.$JU=c.$JU);c=b=c.$RP;if(c==c.next)return null;d=!0}else c=c.next;if(!d&&c==b)break}return b},$cU:function(a,b){null==b&&(b=0);if(null!=a){0==b&&this.$TU&&this.$nU(a);
for(var c=a,d,e;a.$RP!=a.next;)if(d=a.$RP,e=a.next,this.$TU?this.$eU(a):this.$dU(a))this.$OU.push(d.$LU),this.$OU.push(a.$LU),this.$OU.push(e.$LU),a.next.$RP=a.$RP,a.$RP.next=a.next,null!=a.$JU&&(a.$JU.$IU=a.$IU),null!=a.$IU&&(a.$IU.$JU=a.$JU),c=a=e.next;else if(a=e,a==c){switch(b){case 0:this.$cU(this.$ZU(a),1);break;case 1:a=this.$fU(a);this.$cU(a,2);break;case 2:this.$gU(a)}break}}},$dU:function(a){var b=a.$RP,c=a.next;if(0<=(a.$sK-b.$sK)*(c.$qK-a.$qK)-(a.$qK-b.$qK)*(c.$sK-a.$sK))return!1;for(var d=
a.next.next;d!=a.$RP;){var e;e=b.$qK;var f=b.$sK,g=a.$qK,h=a.$sK,k=c.$qK,l=c.$sK,n=d.$qK,p=d.$sK;0<=(k-n)*(f-p)-(e-n)*(l-p)&&0<=(e-n)*(h-p)-(g-n)*(f-p)&&0<=(g-n)*(l-p)-(k-n)*(h-p)?(e=d.$RP,f=d.next,e=0<=(d.$sK-e.$sK)*(f.$qK-d.$qK)-(d.$qK-e.$qK)*(f.$sK-d.$sK)):e=!1;if(e)return!1;d=d.next}return!0},$eU:function(a){var b=a.$RP,c=a.next;if(0<=(a.$sK-b.$sK)*(c.$qK-a.$qK)-(a.$qK-b.$qK)*(c.$sK-a.$sK))return!1;for(var d=b.$qK>a.$qK?b.$qK>c.$qK?b.$qK:c.$qK:a.$qK>c.$qK?a.$qK:c.$qK,e=b.$sK>a.$sK?b.$sK>c.$sK?
b.$sK:c.$sK:a.$sK>c.$sK?a.$sK:c.$sK,f=32767*((b.$qK<a.$qK?b.$qK<c.$qK?b.$qK:c.$qK:a.$qK<c.$qK?a.$qK:c.$qK)-this.$RU)/this.$QM|0,g=32767*((b.$sK<a.$sK?b.$sK<c.$sK?b.$sK:c.$sK:a.$sK<c.$sK?a.$sK:c.$sK)-this.$SU)/this.$QM|0,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,f=(f|f<<1)&1431655765|((g|g<<1)&1431655765)<<1,d=32767*(d-this.$RU)/this.$QM|0,e=32767*(e-this.$SU)/this.$QM|0,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|
d<<2)&858993459,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,d=(d|d<<1)&1431655765|((e|e<<1)&1431655765)<<1,e=a.$IU;null!=e&&e.$MU<=d;){if(e!=a.$RP&&e!=a.next)var g=b.$qK,h=b.$sK,k=a.$qK,l=a.$sK,n=c.$qK,p=c.$sK,q=e.$qK,r=e.$sK,g=0<=(n-q)*(h-r)-(g-q)*(p-r)&&0<=(g-q)*(l-r)-(k-q)*(h-r)?0<=(k-q)*(p-r)-(n-q)*(l-r):!1;else g=!1;g?(g=e.$RP,h=e.next,g=0<=(e.$sK-g.$sK)*(h.$qK-e.$qK)-(e.$qK-g.$qK)*(h.$sK-e.$sK)):g=!1;if(g)return!1;e=e.$IU}for(e=a.$JU;null!=e&&e.$MU>=f;){e!=a.$RP&&e!=a.next?
(d=b.$qK,g=b.$sK,h=a.$qK,k=a.$sK,l=c.$qK,n=c.$sK,p=e.$qK,q=e.$sK,d=0<=(l-p)*(g-q)-(d-p)*(n-q)&&0<=(d-p)*(k-q)-(h-p)*(g-q)?0<=(h-p)*(n-q)-(l-p)*(k-q):!1):d=!1;d?(d=e.$RP,g=e.next,d=0<=(e.$sK-d.$sK)*(g.$qK-e.$qK)-(e.$qK-d.$qK)*(g.$sK-e.$sK)):d=!1;if(d)return!1;e=e.$JU}return!0},$fU:function(a){for(var b=a;;){var c=b.$RP,d=b.next.next,e;e=b.next;if(0<(b.$sK-c.$sK)*(e.$qK-b.$qK)-(b.$qK-c.$qK)*(e.$sK-b.$sK)!=0<(b.$sK-c.$sK)*(d.$qK-b.$qK)-(b.$qK-c.$qK)*(d.$sK-b.$sK)&&0<(d.$sK-e.$sK)*(c.$qK-d.$qK)-(d.$qK-
e.$qK)*(c.$sK-d.$sK)!=0<(d.$sK-e.$sK)*(b.$qK-d.$qK)-(d.$qK-e.$qK)*(b.$sK-d.$sK)){e=c.$RP;var f=c.next;0>(c.$sK-e.$sK)*(f.$qK-c.$qK)-(c.$qK-e.$qK)*(f.$sK-c.$sK)?(e=c.next,0<=(d.$sK-c.$sK)*(e.$qK-d.$qK)-(d.$qK-c.$qK)*(e.$sK-d.$sK)?(e=c.$RP,e=0<=(e.$sK-c.$sK)*(d.$qK-e.$qK)-(e.$qK-c.$qK)*(d.$sK-e.$sK)):e=!1):(e=c.$RP,0>(d.$sK-c.$sK)*(e.$qK-d.$qK)-(d.$qK-c.$qK)*(e.$sK-d.$sK)?e=!0:(e=c.next,e=0>(e.$sK-c.$sK)*(d.$qK-e.$qK)-(e.$qK-c.$qK)*(d.$sK-e.$sK)))}else e=!1;e?(e=d.$RP,f=d.next,0>(d.$sK-e.$sK)*(f.$qK-
d.$qK)-(d.$qK-e.$qK)*(f.$sK-d.$sK)?(e=d.next,0<=(c.$sK-d.$sK)*(e.$qK-c.$qK)-(c.$qK-d.$qK)*(e.$sK-c.$sK)?(e=d.$RP,e=0<=(e.$sK-d.$sK)*(c.$qK-e.$qK)-(e.$qK-d.$qK)*(c.$sK-e.$sK)):e=!1):(e=d.$RP,0>(c.$sK-d.$sK)*(e.$qK-c.$qK)-(c.$qK-d.$qK)*(e.$sK-c.$sK)?e=!0:(e=d.next,e=0>(e.$sK-d.$sK)*(c.$qK-e.$qK)-(e.$qK-d.$qK)*(c.$sK-e.$sK)))):e=!1;e&&(this.$OU.push(c.$LU),this.$OU.push(b.$LU),this.$OU.push(d.$LU),b.next.$RP=b.$RP,b.$RP.next=b.next,null!=b.$JU&&(b.$JU.$IU=b.$IU),null!=b.$IU&&(b.$IU.$JU=b.$JU),a=b.next,
a.next.$RP=a.$RP,a.$RP.next=a.next,null!=a.$JU&&(a.$JU.$IU=a.$IU),null!=a.$IU&&(a.$IU.$JU=a.$JU),b=a=d);b=b.next;if(b==a)break}return b},$gU:function(a){for(var b=a;;){for(var c=b.next.next;c!=b.$RP;){if(b.$LU!=c.$LU&&this.$jU(b,c)){a=this.$hU(b,c);b=this.$ZU(b,b.next);a=this.$ZU(a,a.next);this.$cU(b);this.$cU(a);return}c=c.next}b=b.next;if(b==a)break}},$hU:function(a,b){var c=a.$LU,d=a.$qK,e=a.$sK,f=this.$PU;null==f?(f=new Ac,f.$KU=this.$QU,this.$QU=f):this.$PU=f.next;f.$LU=c;f.$MU=-1;f.$qK=d;f.$sK=
e;f.next=null;f.$RP=null;f.$NU=!1;f.$JU=null;f.$IU=null;var c=f,d=b.$LU,e=b.$qK,f=b.$sK,g=this.$PU;null==g?(g=new Ac,g.$KU=this.$QU,this.$QU=g):this.$PU=g.next;g.$LU=d;g.$MU=-1;g.$qK=e;g.$sK=f;g.next=null;g.$RP=null;g.$NU=!1;g.$JU=null;g.$IU=null;d=g;e=a.next;f=b.$RP;a.next=b;b.$RP=a;c.next=e;e.$RP=c;d.next=c;c.$RP=d;f.next=d;d.$RP=f;return d},$jU:function(a,b){if(a.$qK!=b.$qK||a.$sK!=b.$sK){var c;if(a.next.$LU==b.$LU||a.$RP.$LU==b.$LU||this.$lU(a,b))c=!1;else{c=a.$RP;var d=a.next;0>(a.$sK-c.$sK)*
(d.$qK-a.$qK)-(a.$qK-c.$qK)*(d.$sK-a.$sK)?(c=a.next,0<=(b.$sK-a.$sK)*(c.$qK-b.$qK)-(b.$qK-a.$qK)*(c.$sK-b.$sK)?(c=a.$RP,c=0<=(c.$sK-a.$sK)*(b.$qK-c.$qK)-(c.$qK-a.$qK)*(b.$sK-c.$sK)):c=!1):(c=a.$RP,0>(b.$sK-a.$sK)*(c.$qK-b.$qK)-(b.$qK-a.$qK)*(c.$sK-b.$sK)?c=!0:(c=a.next,c=0>(c.$sK-a.$sK)*(b.$qK-c.$qK)-(c.$qK-a.$qK)*(b.$sK-c.$sK)))}c?(c=b.$RP,d=b.next,0>(b.$sK-c.$sK)*(d.$qK-b.$qK)-(b.$qK-c.$qK)*(d.$sK-b.$sK)?(c=b.next,0<=(a.$sK-b.$sK)*(c.$qK-a.$qK)-(a.$qK-b.$qK)*(c.$sK-a.$sK)?(c=b.$RP,c=0<=(c.$sK-b.$sK)*
(a.$qK-c.$qK)-(c.$qK-b.$qK)*(a.$sK-c.$sK)):c=!1):(c=b.$RP,0>(a.$sK-b.$sK)*(c.$qK-a.$qK)-(a.$qK-b.$qK)*(c.$sK-a.$sK)?c=!0:(c=b.next,c=0>(c.$sK-b.$sK)*(a.$qK-c.$qK)-(c.$qK-b.$qK)*(a.$sK-c.$sK)))):c=!1;return c?this.$kU(a,b):!1}return!0},$kU:function(a,b){for(var c=a,d=!1,e=(a.$qK+b.$qK)/2,f=(a.$sK+b.$sK)/2;c.$sK>f!=c.next.$sK>f&&e<(c.next.$qK-c.$qK)*(f-c.$sK)/(c.next.$sK-c.$sK)+c.$qK&&(d=!d),c=c.next,c!=a;);return d},$lU:function(a,b){for(var c=a;;){var d;c.$LU!=a.$LU&&c.next.$LU!=a.$LU&&c.$LU!=b.$LU&&
c.next.$LU!=b.$LU?(d=c.next,d=0<(d.$sK-c.$sK)*(a.$qK-d.$qK)-(d.$qK-c.$qK)*(a.$sK-d.$sK)!=0<(d.$sK-c.$sK)*(b.$qK-d.$qK)-(d.$qK-c.$qK)*(b.$sK-d.$sK)?0<(b.$sK-a.$sK)*(c.$qK-b.$qK)-(b.$qK-a.$qK)*(c.$sK-b.$sK)!=0<(b.$sK-a.$sK)*(d.$qK-b.$qK)-(b.$qK-a.$qK)*(d.$sK-b.$sK):!1):d=!1;if(d)return!0;c=c.next;if(c==a)break}return!1},$nU:function(a){for(var b=a;;){if(0>b.$MU){var c=32767*(b.$qK-this.$RU)/this.$QM|0,d=32767*(b.$sK-this.$SU)/this.$QM|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,
c=(c|c<<1)&1431655765,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,d=(d|d<<1)&1431655765;b.$MU=c|d<<1}b.$JU=b.$RP;b=b.$IU=b.next;if(b==a)break}b.$JU.$IU=null;b.$JU=null;this.$oU(b)},$oU:function(a){for(var b,c,d,e,f,g,h,k=1;;){b=a;e=a=null;for(f=0;null!=b;){++f;c=b;d=g=0;for(h=k;d<h&&(d++,++g,c=c.$IU,null!=c););for(h=k;0<g||0<h&&null!=c;)0==g?(d=c,c=c.$IU,--h):0==h||null==c?(d=b,b=b.$IU,--g):b.$MU<=c.$MU?(d=b,b=b.$IU,--g):(d=c,c=c.$IU,--h),null!=e?e.$IU=d:a=d,d.$JU=e,e=d;b=c}e.$IU=
null;k*=2;if(!(1<f))break}return a},__class__:Sh};var vb=function(){};g["nickclient.CanadaTracker"]=vb;vb.__name__=["nickclient","CanadaTracker"];vb.init=function(){if(!vb._init){vb._init=!0;vb._externalSupported=!1;var a=ga.bootstrap._config.elementsNamed("config").next().elementsNamed("tracking").next(),b=null!=a&&"true"==a.get("enabled").toString().toLowerCase(),a=a.elementsNamed("gameName").next();if(a.nodeType!=t.Document&&a.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+
a.nodeType);vb._gameName=Mb.print(a.children[0]);p.$IH.getExternal().get_supported()&&b&&(vb._externalSupported=null!=window.trackFlashEvent)}};vb.track=function(a){vb.init();vb._externalSupported&&p.$IH.getExternal().call("trackFlashEvent",[vb._gameName,a,"true"])};var ti=function(){};g["nickclient.DeltaDNATools"]=ti;ti.__name__=["nickclient","DeltaDNATools"];ti.trackUIInteraction=function(a,b,c,d){b=["uiInteraction","UIName",b,"UILocation",c,"UIAction",b,"UIType",c];if(null!=d)for(c=d.keys();c.hasNext();){var e=
c.next();b.push(e);b.push(null!=q[e]?d.getReserved(e):d.h[e])}a.track(b)};var bi=function(){};g["s2.client.ClientBootstrap"]=bi;bi.__name__=["s2","client","ClientBootstrap"];bi.prototype={__class__:bi};var Bc=function(){this._options=new Q;this._gameName=this._gameProperty="";this.complete=new ua;this.setupBasePaths()};g["nickclient.NickBootstrap"]=Bc;Bc.__name__=["nickclient","NickBootstrap"];Bc.__interfaces__=[bi];Bc.prototype={start:function(){var a=new Ma,b=Vb.get_base()+"xml/config.xml";a.add("xml/config.xml",
b);p.$IH.loadAssetPack(a).then(I(this,this.onConfigLoaded))},onConfigLoaded:function(a){a=a.getFile("xml/config.xml");this._config=t.parse(a.toString());null!=this._parser&&(this._parser(this._config),this._parser=null);a.dispose();a=this._config.elementsNamed("config").next().elementsNamed("tracking").next();var b=null!=a&&"true"==a.get("enabled").toString().toLowerCase(),c=a.elementsNamed("gameName").next();if(c.nodeType!=t.Document&&c.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+
c.nodeType);this._gameName=Mb.print(c.children[0]);if(null!=a.elementsNamed("gameProperty").next()){c=a.elementsNamed("gameProperty").next();if(c.nodeType!=t.Document&&c.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+c.nodeType);c=Mb.print(c.children[0])}else c="";this._gameProperty=c;this.setupTracking(b);a=a.elementsNamed("locale").next();if(null!=a){if(a.nodeType!=t.Document&&a.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+
a.nodeType);a=Mb.print(a.children[0])}else a=null;this._localizationRegion=a;a=null==this._localizationRegion||""==this._localizationRegion?"":"_"+this._localizationRegion;K.init(I(this,this.onLocalizationLoaded),new wg,"strings/strings"+a+".xml")},setupTracking:function(a){var b=!1;a&&p.$IH.getExternal().get_supported()&&(b=null!=window.trackFlashEvent);this._externalSupported=b},getOptions:function(){if(this._optionsSet)return this._options;for(var a=this._config.elementsNamed("config").next().elementsNamed("options").next().elements();a.hasNext();){var b=
a.next();if(b.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+b.nodeType);if(b.elements().hasNext()){var c=this.buildNested(b,{});if(b.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+b.nodeType);var b=b.nodeName,d=this._options;null!=q[b]?d.setReserved(b,c):d.h[b]=c}else{if(b.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+b.nodeType);c=b.nodeName;if(b.nodeType!=t.Document&&b.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+
b.nodeType);d=b.children[0];if(d.nodeType==t.Document||d.nodeType==t.Element)throw new v("Bad node type, unexpected "+d.nodeType);b=this._options;d=this.guessType(d.nodeValue);null!=q[c]?b.setReserved(c,d):b.h[c]=d}}this._optionsSet=!0;return this._options},buildNested:function(a,b){for(var c={},d=a.elements();d.hasNext();){var e=d.next();if(e.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+e.nodeType);if(Object.prototype.hasOwnProperty.call(c,e.nodeName)){if(e.nodeType!=
t.Element)throw new v("Bad node type, expected Element but found "+e.nodeType);if(e.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+e.nodeType);c[e.nodeName]=X.getProperty(c,e.nodeName)+1}else{if(e.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+e.nodeType);c[e.nodeName]=1}}for(var d=X.fields(c),e=0,f=d.length;e<f;){var g=e++,h=X.getProperty(c,d[g]),k=a.elementsNamed(d[g]);if(1<h)for(h=[],b[d[g]]=h,g=k;g.hasNext();)if(k=g.next(),k.elements().hasNext())h.push(this.buildNested(k,
{}));else{if(k.nodeType!=t.Document&&k.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+k.nodeType);k=k.children[0];if(k.nodeType==t.Document||k.nodeType==t.Element)throw new v("Bad node type, unexpected "+k.nodeType);h.push(this.guessType(k.nodeValue))}else for(h=k;h.hasNext();)if(g=h.next(),g.elements().hasNext()){k=this.buildNested(g,{});if(g.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+g.nodeType);b[g.nodeName]=k}else{if(g.nodeType!=
t.Element)throw new v("Bad node type, expected Element but found "+g.nodeType);if(g.nodeType!=t.Document&&g.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+g.nodeType);k=g.children[0];if(k.nodeType==t.Document||k.nodeType==t.Element)throw new v("Bad node type, unexpected "+k.nodeType);b[g.nodeName]=this.guessType(k.nodeValue)}}return b},guessType:function(a){switch(a.toLowerCase()){case "false":return!1;case "true":return!0}var b=parseFloat(a);return isNaN(b)?
a:b},onLocalizationLoaded:function(){this.complete.emit()},track:function(a){if(this._externalSupported){var b=this._gameName;a=a[0];p.$IH.getExternal().call("trackFlashEvent",[b,a,"true"])}},setupBasePaths:function(){var a=p.$IH.getExternal().get_supported()?Vb.get_base():null,b=new Ga("^http(s)?://","i");null!=a&&0<a.length&&(b.match(a)?(b=window.location.href,b=b.split("/"),(null==b[b.length-1]||-1<b[b.length-1].indexOf("."))&&b.pop(),b=b.join("/"),b=Cc.absoluteToRelative(b,a),null!=b?K.relativeBase=
b:K.externalBase=a):K.relativeBase=a)},__class__:Bc};var z=g["nickclient.DeviceName"]={__ename__:["nickclient","DeviceName"],__constructs__:"NICKWEB_DESKTOP NICKWEB_MOBILE NICKWEB_TABLET IOS IOS_MOBILEAPP IOS_MOBILE IOS_TABLET ANDROID ANDROID_MOBILEAPP ANDROID_MOBILE ANDROID_TABLET ANDROID_CONSOLE WINDOWS_MOBILE WINDOWS_TABLET BLACKBERRY_MOBILE BLACKBERRY_TABLET FACEBOOK WEB PC_CLIENT MAC_CLIENT PS3 PS4 PSVITA XBOX360 XBOXONE PIRACY_UNKNOWN UNKNOWN".split(" ")};z.NICKWEB_DESKTOP=["NICKWEB_DESKTOP",
0];z.NICKWEB_DESKTOP.toString=k;z.NICKWEB_DESKTOP.__enum__=z;z.NICKWEB_MOBILE=["NICKWEB_MOBILE",1];z.NICKWEB_MOBILE.toString=k;z.NICKWEB_MOBILE.__enum__=z;z.NICKWEB_TABLET=["NICKWEB_TABLET",2];z.NICKWEB_TABLET.toString=k;z.NICKWEB_TABLET.__enum__=z;z.IOS=["IOS",3];z.IOS.toString=k;z.IOS.__enum__=z;z.IOS_MOBILEAPP=["IOS_MOBILEAPP",4];z.IOS_MOBILEAPP.toString=k;z.IOS_MOBILEAPP.__enum__=z;z.IOS_MOBILE=["IOS_MOBILE",5];z.IOS_MOBILE.toString=k;z.IOS_MOBILE.__enum__=z;z.IOS_TABLET=["IOS_TABLET",6];z.IOS_TABLET.toString=
k;z.IOS_TABLET.__enum__=z;z.ANDROID=["ANDROID",7];z.ANDROID.toString=k;z.ANDROID.__enum__=z;z.ANDROID_MOBILEAPP=["ANDROID_MOBILEAPP",8];z.ANDROID_MOBILEAPP.toString=k;z.ANDROID_MOBILEAPP.__enum__=z;z.ANDROID_MOBILE=["ANDROID_MOBILE",9];z.ANDROID_MOBILE.toString=k;z.ANDROID_MOBILE.__enum__=z;z.ANDROID_TABLET=["ANDROID_TABLET",10];z.ANDROID_TABLET.toString=k;z.ANDROID_TABLET.__enum__=z;z.ANDROID_CONSOLE=["ANDROID_CONSOLE",11];z.ANDROID_CONSOLE.toString=k;z.ANDROID_CONSOLE.__enum__=z;z.WINDOWS_MOBILE=
["WINDOWS_MOBILE",12];z.WINDOWS_MOBILE.toString=k;z.WINDOWS_MOBILE.__enum__=z;z.WINDOWS_TABLET=["WINDOWS_TABLET",13];z.WINDOWS_TABLET.toString=k;z.WINDOWS_TABLET.__enum__=z;z.BLACKBERRY_MOBILE=["BLACKBERRY_MOBILE",14];z.BLACKBERRY_MOBILE.toString=k;z.BLACKBERRY_MOBILE.__enum__=z;z.BLACKBERRY_TABLET=["BLACKBERRY_TABLET",15];z.BLACKBERRY_TABLET.toString=k;z.BLACKBERRY_TABLET.__enum__=z;z.FACEBOOK=["FACEBOOK",16];z.FACEBOOK.toString=k;z.FACEBOOK.__enum__=z;z.WEB=["WEB",17];z.WEB.toString=k;z.WEB.__enum__=
z;z.PC_CLIENT=["PC_CLIENT",18];z.PC_CLIENT.toString=k;z.PC_CLIENT.__enum__=z;z.MAC_CLIENT=["MAC_CLIENT",19];z.MAC_CLIENT.toString=k;z.MAC_CLIENT.__enum__=z;z.PS3=["PS3",20];z.PS3.toString=k;z.PS3.__enum__=z;z.PS4=["PS4",21];z.PS4.toString=k;z.PS4.__enum__=z;z.PSVITA=["PSVITA",22];z.PSVITA.toString=k;z.PSVITA.__enum__=z;z.XBOX360=["XBOX360",23];z.XBOX360.toString=k;z.XBOX360.__enum__=z;z.XBOXONE=["XBOXONE",24];z.XBOXONE.toString=k;z.XBOXONE.__enum__=z;z.PIRACY_UNKNOWN=["PIRACY_UNKNOWN",25];z.PIRACY_UNKNOWN.toString=
k;z.PIRACY_UNKNOWN.__enum__=z;z.UNKNOWN=["UNKNOWN",26];z.UNKNOWN.toString=k;z.UNKNOWN.__enum__=z;var ja=g["nickclient.Platform"]={__ename__:["nickclient","Platform"],__constructs__:"NICKWEB_DESKTOP NICKWEB_MOBILE NICKWEB_TABLET IOS_APP ANDROID_APP UNKNOWN".split(" ")};ja.NICKWEB_DESKTOP=["NICKWEB_DESKTOP",0];ja.NICKWEB_DESKTOP.toString=k;ja.NICKWEB_DESKTOP.__enum__=ja;ja.NICKWEB_MOBILE=["NICKWEB_MOBILE",1];ja.NICKWEB_MOBILE.toString=k;ja.NICKWEB_MOBILE.__enum__=ja;ja.NICKWEB_TABLET=["NICKWEB_TABLET",
2];ja.NICKWEB_TABLET.toString=k;ja.NICKWEB_TABLET.__enum__=ja;ja.IOS_APP=["IOS_APP",3];ja.IOS_APP.toString=k;ja.IOS_APP.__enum__=ja;ja.ANDROID_APP=["ANDROID_APP",4];ja.ANDROID_APP.toString=k;ja.ANDROID_APP.__enum__=ja;ja.UNKNOWN=["UNKNOWN",5];ja.UNKNOWN.toString=k;ja.UNKNOWN.__enum__=ja;var ea=g["nickclient.DeviceType"]={__ename__:["nickclient","DeviceType"],__constructs__:"MOBILE_PHONE TABLET PC CONSOLE TV HANDHELD UNKNOWN".split(" ")};ea.MOBILE_PHONE=["MOBILE_PHONE",0];ea.MOBILE_PHONE.toString=
k;ea.MOBILE_PHONE.__enum__=ea;ea.TABLET=["TABLET",1];ea.TABLET.toString=k;ea.TABLET.__enum__=ea;ea.PC=["PC",2];ea.PC.toString=k;ea.PC.__enum__=ea;ea.CONSOLE=["CONSOLE",3];ea.CONSOLE.toString=k;ea.CONSOLE.__enum__=ea;ea.TV=["TV",4];ea.TV.toString=k;ea.TV.__enum__=ea;ea.HANDHELD=["HANDHELD",5];ea.HANDHELD.toString=k;ea.HANDHELD.__enum__=ea;ea.UNKNOWN=["UNKNOWN",6];ea.UNKNOWN.toString=k;ea.UNKNOWN.__enum__=ea;var W=g["nickclient.OperatingSystem"]={__ename__:["nickclient","OperatingSystem"],__constructs__:"WINDOWS OSX LINUX IOS ANDROID FIREOS BLACKBERRY UNKNOWN".split(" ")};
W.WINDOWS=["WINDOWS",0];W.WINDOWS.toString=k;W.WINDOWS.__enum__=W;W.OSX=["OSX",1];W.OSX.toString=k;W.OSX.__enum__=W;W.LINUX=["LINUX",2];W.LINUX.toString=k;W.LINUX.__enum__=W;W.IOS=["IOS",3];W.IOS.toString=k;W.IOS.__enum__=W;W.ANDROID=["ANDROID",4];W.ANDROID.toString=k;W.ANDROID.__enum__=W;W.FIREOS=["FIREOS",5];W.FIREOS.toString=k;W.FIREOS.__enum__=W;W.BLACKBERRY=["BLACKBERRY",6];W.BLACKBERRY.toString=k;W.BLACKBERRY.__enum__=W;W.UNKNOWN=["UNKNOWN",7];W.UNKNOWN.toString=k;W.UNKNOWN.__enum__=W;var da=
g["nickclient.BrowserName"]={__ename__:["nickclient","BrowserName"],__constructs__:"IOS_MOBILEAPP ANDROID_MOBILEAPP SAFARI CHROME SILK FIREFOX INTERNET_EXPLORER UNKNOWN".split(" ")};da.IOS_MOBILEAPP=["IOS_MOBILEAPP",0];da.IOS_MOBILEAPP.toString=k;da.IOS_MOBILEAPP.__enum__=da;da.ANDROID_MOBILEAPP=["ANDROID_MOBILEAPP",1];da.ANDROID_MOBILEAPP.toString=k;da.ANDROID_MOBILEAPP.__enum__=da;da.SAFARI=["SAFARI",2];da.SAFARI.toString=k;da.SAFARI.__enum__=da;da.CHROME=["CHROME",3];da.CHROME.toString=k;da.CHROME.__enum__=
da;da.SILK=["SILK",4];da.SILK.toString=k;da.SILK.__enum__=da;da.FIREFOX=["FIREFOX",5];da.FIREFOX.toString=k;da.FIREFOX.__enum__=da;da.INTERNET_EXPLORER=["INTERNET_EXPLORER",6];da.INTERNET_EXPLORER.toString=k;da.INTERNET_EXPLORER.__enum__=da;da.UNKNOWN=["UNKNOWN",7];da.UNKNOWN.toString=k;da.UNKNOWN.__enum__=da;var Fc=function(){var a=this;Bc.call(this);null==C._browser&&(C._browser=C.parse(A.string(window.location)));this._url=C._browser.url;this._domain=window.location.host;this._sessionID=xg.createGUID();
this._deviceType=this.getDeviceType();this._os=this.getOS();this._browserName=this.getBrowserName();this._deviceName=this.getDeviceName();p.$IH.getLocalStorage().get("delta_uid",null).then(function(b){a._userID=b})};g["nickclient.NickDeltaBootstrap"]=Fc;Fc.__name__=["nickclient","NickDeltaBootstrap"];Fc.__super__=Bc;Fc.prototype=l(Bc.prototype,{onConfigLoaded:function(a){var b=this;Bc.prototype.onConfigLoaded.call(this,a);a=this._config.elementsNamed("config").next().elementsNamed("tracking").next().elementsNamed("deltaDNA").next();
var c=a.elementsNamed("releaseKey").next();if(c.nodeType!=t.Document&&c.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+c.nodeType);this._environmentKey=Mb.print(c.children[0]);a=a.elementsNamed("url").next();if(a.nodeType!=t.Document&&a.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+a.nodeType);Fc._URL=Mb.print(a.children[0]);this._platform=this.getPlatform();null==this._userID?(this._userID=xg.createGUID(),this.trackClientDevice(),
p.$IH.getLocalStorage().set("delta_uid",xg.createGUID()).then(function(a){b.track(["newPlayer"]);b.track(["gameStarted"])})):(this.trackClientDevice(),this.track(["gameStarted"]))},getDeviceType:function(){return R.get_tablet()?ea.TABLET:R.get_mobile()?ea.MOBILE_PHONE:R.test("Macintosh")||R.test("Linux")||R.test("Windows")&&!R.get_mobile()?ea.PC:this.test("HANDHELD",!0)?ea.HANDHELD:this.test("CONSOLE",!0)?ea.CONSOLE:this.test("TV",!0)?ea.TV:ea.UNKNOWN},getOS:function(){return this.test("Silk")||this.test("Android",
!1)&&this.test(" KF")?W.FIREOS:this.test("Android",!1)?W.ANDROID:this.test("Windows")?W.WINDOWS:this.test("iPad")||this.test("iPod")||this.test("iPhone")?W.IOS:this.test("Macintosh")?W.OSX:this.test("Linux")?W.LINUX:this.test("BlackBerry")?W.BLACKBERRY:W.UNKNOWN},getBrowserName:function(){return this._deviceName==A.string(z.IOS_MOBILEAPP)?da.IOS_MOBILEAPP:this._deviceName==A.string(z.ANDROID_MOBILEAPP)?da.ANDROID_MOBILEAPP:this.test("Silk",!1)?da.SILK:this.test("Chrome",!1)||R.test("CriOS")?da.CHROME:
this.test("Safari",!1)?da.SAFARI:this.test("Firefox",!1)?da.FIREFOX:this.test("Trident",!1)?da.INTERNET_EXPLORER:da.UNKNOWN},getPlatform:function(){var a=[],b=Ta.decode("LipzZXZlbjIuY29t");a.push(b.getString(0,b.length));b=Ta.decode("LipzZXZlbjIubmV0");a.push(b.getString(0,b.length));b=Ta.decode("bG9jYWxob3N0Kg==");a.push(b.getString(0,b.length));b=Ta.decode("MTkyLjE2OC4q");a.push(b.getString(0,b.length));if(R.get_nickApp())return R.test("Android",!1)?ja.ANDROID_APP:R.test("iPod")||R.test("iPhone")||
R.test("iPad")?ja.IOS_APP:ja.UNKNOWN;switch(this._deviceType[1]){case 0:return ja.NICKWEB_MOBILE;case 1:return ja.NICKWEB_TABLET;case 2:return ja.NICKWEB_DESKTOP;default:return ja.UNKNOWN}},getDeviceName:function(){var a=this,b=function(){var b="_";if(R.get_nickApp())b+="MOBILEAPP";else switch(a._deviceType[1]){case 0:b+="MOBILE";break;case 1:b+=A.string(ea.TABLET);break;case 3:b+=A.string(ea.CONSOLE)}return b};return this._os==W.IOS||this._os==W.ANDROID||this._os==W.BLACKBERRY||this._os==W.WINDOWS&&
this._deviceType!=ea.PC?A.string(this._os)+b():this._os==W.FIREOS?"ANDROID"+b():this._os==W.WINDOWS?"PC_CLIENT":this._os==W.OSX?"MAC_CLIENT":"WEB"},track:function(a){var b=this.getJson(),c=X.getProperty(b,"eventParams");b.eventName=a.shift();for(var d=0;d<a.length;)c[a[d]]=a[d+1],d+=2;this.sendRequest(b)},getJson:function(){return{userID:this._userID,sessionID:this._sessionID,eventTimestamp:Fa.format(new Date,"%Y-%m-%d %H:%M:%S"),eventParams:{platform:A.string(this._platform)+"",sdkVersion:"S2_2Dkit_DeltaDNA_SDK_v2.1",
clientVersion:"Build Date: "+qc.buildDate}}},test:function(a,b){null==b&&(b=!0);return R.test(a,b)},trackClientDevice:function(){this.track(["clientDevice","browserName",A.string(this._browserName),"operatingSystem",A.string(this._os),"deviceType",A.string(this._deviceType),"deviceName",this._deviceName,"operatingSystemVersion",R.get_userAgent()])},sendRequest:function(a){if(null==this._config)throw new v("Config must be loaded first.");if(this._trackingEnabled){var b=new sh(Fc._URL+"/"+this._environmentKey);
a=JSON.stringify(a,null," ");b.setHeader("Content-type","application/json");b.setPostData(a);b.onData=function(a){};b.onStatus=function(a){};b.onError=function(a){};b.request(!0)}},setupTracking:function(a){this._trackingEnabled=a;this._externalSupported=!0},__class__:Fc});var Xd=function(){B.call(this);this.sdk=new dc;yg.set_onSuspendToggle(function(a){p.root.add(new Kc(a?0:1))})};g["nickclient.NickSDKComponent"]=Xd;Xd.__name__=["nickclient","NickSDKComponent"];Xd.__super__=B;Xd.prototype=l(B.prototype,
{get_entitySlot:function(){return 27},__class__:Xd});var zg=function(){s.call(this)};g["nickclient.creator.CanadaTrackerAction"]=zg;zg.__name__=["nickclient","creator","CanadaTrackerAction"];zg.__super__=s;zg.prototype=l(s.prototype,{$wE:function(a){vb.track(this.eventName)},__class__:zg});var Ag=function(){L.call(this)};g["nickclient.creator.PreloaderNickEventObject"]=Ag;Ag.__name__=["nickclient","creator","PreloaderNickEventObject"];Ag.__super__=L;Ag.prototype=l(L.prototype,{onStart:function(){L.prototype.onStart.call(this);
oc.sendGameEvent("onLoadingStart");this._handle=this.owner._internal_getFromParents(10).changed.connect(I(this,this.onLoadingProgress));this.registerDisposable(this._handle)},onLoadingProgress:function(a,b){"progress"==a&&(0<b&&100>b?oc.sendGameEvent("getLoadingProgress",b/100):100==b&&(oc.sendGameEvent("onLoadingEnd"),null!=this._handle&&this._handle.dispose()))},__class__:Ag});var Bg=function(){this.name=this.location="";s.call(this)};g["nickclient.creator.SendDeltaDNAEvent"]=Bg;Bg.__name__=["nickclient",
"creator","SendDeltaDNAEvent"];Bg.__super__=s;Bg.prototype=l(s.prototype,{$wE:function(a){ti.trackUIInteraction(ga.bootstrap,this.name,this.location)},__class__:Bg});var aa=g["nickclient.creator.NickEventName"]={__ename__:["nickclient","creator","NickEventName"],__constructs__:"ON_LOADING_START ON_LOADING_END ON_TITLE_SCREEN_START ON_TITLE_SCREEN_END ON_RESUME ON_PAUSE ON_LEVEL_START ON_LEVEL_COMPLETE ON_GAME_OVER PLAY_MIDROLL_AD".split(" ")};aa.ON_LOADING_START=["ON_LOADING_START",0];aa.ON_LOADING_START.toString=
k;aa.ON_LOADING_START.__enum__=aa;aa.ON_LOADING_END=["ON_LOADING_END",1];aa.ON_LOADING_END.toString=k;aa.ON_LOADING_END.__enum__=aa;aa.ON_TITLE_SCREEN_START=["ON_TITLE_SCREEN_START",2];aa.ON_TITLE_SCREEN_START.toString=k;aa.ON_TITLE_SCREEN_START.__enum__=aa;aa.ON_TITLE_SCREEN_END=["ON_TITLE_SCREEN_END",3];aa.ON_TITLE_SCREEN_END.toString=k;aa.ON_TITLE_SCREEN_END.__enum__=aa;aa.ON_RESUME=["ON_RESUME",4];aa.ON_RESUME.toString=k;aa.ON_RESUME.__enum__=aa;aa.ON_PAUSE=["ON_PAUSE",5];aa.ON_PAUSE.toString=
k;aa.ON_PAUSE.__enum__=aa;aa.ON_LEVEL_START=["ON_LEVEL_START",6];aa.ON_LEVEL_START.toString=k;aa.ON_LEVEL_START.__enum__=aa;aa.ON_LEVEL_COMPLETE=["ON_LEVEL_COMPLETE",7];aa.ON_LEVEL_COMPLETE.toString=k;aa.ON_LEVEL_COMPLETE.__enum__=aa;aa.ON_GAME_OVER=["ON_GAME_OVER",8];aa.ON_GAME_OVER.toString=k;aa.ON_GAME_OVER.__enum__=aa;aa.PLAY_MIDROLL_AD=["PLAY_MIDROLL_AD",9];aa.PLAY_MIDROLL_AD.toString=k;aa.PLAY_MIDROLL_AD.__enum__=aa;var Cg=function(){this.triggerOnDestroy=!1;this.event=aa.ON_LOADING_START;s.call(this)};
g["nickclient.creator.SendNickelodeonEvent"]=Cg;Cg.__name__=["nickclient","creator","SendNickelodeonEvent"];Cg.__super__=s;Cg.prototype=l(s.prototype,{$wE:function(a){var b=null;if(null!=this.event)switch(this.event[1]){case 0:b="onLoadingStart";break;case 1:b="onLoadingEnd";break;case 2:b="onTitleScreenStart";break;case 3:b="onTitleScreenEnd";break;case 4:b="onResume";break;case 5:b="onPause";break;case 6:b="onLevelStart";break;case 7:b="onLevelComplete";break;case 8:b="onGameOver";break;case 9:b=
"playMidRollAd"}this.triggerOnDestroy?a.add(new Dg(b)):oc.sendGameEvent(b)},__class__:Cg});var Dg=function(a){B.call(this);this._event=a};g["nickclient.creator.TriggerEventOnDestroy"]=Dg;Dg.__name__=["nickclient","creator","TriggerEventOnDestroy"];Dg.__super__=B;Dg.prototype=l(B.prototype,{get_entitySlot:function(){return 22},dispose:function(){oc.sendGameEvent(this._event);B.prototype.dispose.call(this)},__class__:Dg});var ki=function(){};g["nicksdk.AntiPiracy"]=ki;ki.__name__=["nicksdk","AntiPiracy"];
ki.checkPiracy=function(a){null==a&&(a="");dc.eval("nick_sdk_client.AntiPiracy.checkPiracy",[a])};var dc=function(){dc.eval("nick_sdk_client.SDK.initialize")};g["nicksdk.SDK"]=dc;dc.__name__=["nicksdk","SDK"];dc.eval=function(a,b){null==b&&(b=[]);for(var c=null,d=null,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=null==c?X.field(window,g):X.field(c,g)}e=null;null!=d&&(e=d.apply(c,b));return e};dc.bind=function(a,b){for(var c=null,d=null,e="",f=0,g=a.split(".");f<g.length;){var h=g[f];++f;c=
d;e=h;d=null==c?X.field(window,h):X.field(c,h)}null!=c&&(c[e]=b)};dc.prototype={__class__:dc};var oc=function(){};g["nicksdk.event.GameEventEmitter"]=oc;oc.__name__=["nicksdk","event","GameEventEmitter"];oc.sendGameEvent=function(a,b){oc.callExternal(a,b)};oc.callExternal=function(a,b,c){dc.eval("nick_sdk_client.GameEventEmitter.sendGameEvent",[a,b])};var yg=function(){};g["nicksdk.event.GameEventListener"]=yg;yg.__name__=["nicksdk","event","GameEventListener"];yg.__properties__={set_onSuspendToggle:"set_onSuspendToggle"};
yg.set_onSuspendToggle=function(a){yg.onSuspendToggle=a;dc.bind("nick_sdk_client.GameEventListener.onSuspendToggle",a);return a};var Vb=function(){};g["nicksdk.jsembed.JSEmbedProxy"]=Vb;Vb.__name__=["nicksdk","jsembed","JSEmbedProxy"];Vb.__properties__={get_base:"get_base"};Vb.get_base=function(){return Vb.callJSEmbedMethod("baseUrl()")};Vb.callJSEmbedMethod=function(a){try{var b=Vb.eval("eval",["jsembed."+a]);if(null!=b)return b}catch(c){}return""};Vb.eval=function(a,b){null==b&&(b=[]);for(var c=
null,d=0,e=a.split(".");d<e.length;)c=e[d],++d,c=X.field(window,c);return c.apply(null,b)};var Eg=function(a,b){null==a&&(a=0.2);this._message=b;this._count=0;this._speed=a};g["s2.animation.TypeText"]=Eg;Eg.__name__=["s2","animation","TypeText"];Eg.__interfaces__=[cc];Eg.prototype={update:function(a,b){if(null==this._sprite){var c=b.$IG[3];this._vector=c instanceof na?c:null;null==this._vector?(c=b.$IG[3],this._bitmap=c instanceof Da?c:null,null!=this._bitmap&&(this._sprite=this._bitmap,this._setText=
I(this,this.setTextBitmap),this._getText=I(this,this.getTextBitmap))):(this._sprite=this._vector,this._setText=I(this,this.setTextVector),this._getText=I(this,this.getTextVector))}if(null!=this._sprite)if(this._sprite.set_visible(!0),null==this._message&&(this._message=this._getText()),0==this._count&&this._setText(""),c=this._message.length*this._speed,this._count+=a,this._count<c)c=Math.round(this._count/c*this._message.length),this._setText(y.substr(this._message,0,c));else return this._setText(this._message),
c=this._count-c,this._message=null,this._count=0,this._bitmap=this._vector=this._sprite=null,c;return-1},setTextVector:function(a){this._vector.set_text(a)},setTextBitmap:function(a){this._bitmap.set_text(a)},getTextVector:function(){return this._vector.$NJ},getTextBitmap:function(){return this._bitmap.$NJ},__class__:Eg};var ga=function(){};g["s2.client.Config"]=ga;ga.__name__=["s2","client","Config"];ga.__properties__={get_options:"get_options"};ga.init=function(a){null==C._browser&&(C._browser=
C.parse(A.string(window.location)));ga.url=C._browser;ga.bootstrap=a;ga._initialized||(ga._promise=new U,ga.bootstrap.complete.connect(function(){ga._initialized=!0;ga._promise.success(null)}).once(),ga.bootstrap.start());return ga._promise};ga.get_options=function(){return ga.bootstrap.getOptions()};ga.track=function(a){ga.bootstrap.track(a)};var zd=function(){this.blendMode=ba.Normal;this.alpha=1;this.color=0;M.call(this)};g["s2.creator.FillColor"]=zd;zd.__name__=["s2","creator","FillColor"];zd.__super__=
M;zd.prototype=l(M.prototype,{onAdded:function(){M.prototype.onAdded.call(this);null==this.owner.$IG[3]&&this.owner.add(new Ad(0,0,0))},onStart:function(){M.prototype.onStart.call(this);var a=this.owner.$IG[3],a=a instanceof Ad?a:null;a.setSize(this.info.width,this.info.height);a.setXY(this.info.x,this.info.y).setAnchor(this.info.anchorX,this.info.anchorY);a.color=this.color;a.alphaDraw=this.alpha;O.enumEq(this.dockX,fb.None)&&O.enumEq(this.dockY,gb.None)||p.$IH.$iG.resize.emit()},__class__:zd});
var Ad=function(a,b,c){this.alphaDraw=1;Jb.call(this,a,b,c)};g["s2.creator._FillColor.FillColorSprite"]=Ad;Ad.__name__=["s2","creator","_FillColor","FillColorSprite"];Ad.__super__=Jb;Ad.prototype=l(Jb.prototype,{draw:function(a){a.setAlpha(this.alphaDraw);a.fillRect(this.color,0,0,this.width.$1G,this.height.$1G)},__class__:Ad});var Bd=function(){this.blendMode=ba.Normal;this.alpha=1;M.call(this)};g["s2.creator.FillPattern"]=Bd;Bd.__name__=["s2","creator","FillPattern"];Bd.__super__=M;Bd.prototype=
l(M.prototype,{onAdded:function(){M.prototype.onAdded.call(this);null==this.owner.$IG[3]&&this.owner.add(new Cd(null,0,0))},onStart:function(){M.prototype.onStart.call(this);var a=this.owner._internal_getFromParents(2).getTexture(this.texture),b=this.owner.$IG[3],b=b instanceof Cd?b:null;b.setSize(this.info.width,this.info.height);b.setXY(this.info.x,this.info.y).setAnchor(this.info.anchorX,this.info.anchorY);b.texture=a;b.alphaDraw=this.alpha},__class__:Bd});var Cd=function(a,b,c){this.alphaDraw=
1;mc.call(this,a,b,c)};g["s2.creator._FillPattern.FillPatternSprite"]=Cd;Cd.__name__=["s2","creator","_FillPattern","FillPatternSprite"];Cd.__super__=mc;Cd.prototype=l(mc.prototype,{draw:function(a){null!=this.texture&&(a.setAlpha(this.alphaDraw),a.drawPattern(this.texture,0,0,this.width.$1G,this.height.$1G))},__class__:Cd});var Dd=function(){this.reverseMoviePercentage=!1;this.progressMax=100;this.progressProperty="progress";M.call(this)};g["s2.creator.MovieProgressBar"]=Dd;Dd.__name__=["s2","creator",
"MovieProgressBar"];Dd.__super__=M;Dd.prototype=l(M.prototype,{onStart:function(){var a=this;M.prototype.onStart.call(this);var b=this.owner._internal_getFromParents(10);this.connect2(b.changed,function(b,d){if(null==d||isNaN(d))d=0;if(b==a.progressProperty){var e=d;a.update(0<e?e/a.progressMax:0)}});this._movie=this.owner._internal_getFromChildren(3,ka);this._movie.set_paused(!0);this.update(0)},update:function(a){this._movie.set_position(this._movie.symbol.duration*(this.reverseMoviePercentage?
1-a:a))},__class__:Dd});var Ed=function(){M.call(this)};g["s2.creator.MuteButton"]=Ed;Ed.__name__=["s2","creator","MuteButton"];Ed.__super__=M;Ed.prototype=l(M.prototype,{onStart:function(){var a=this;M.prototype.onStart.call(this);var b=this.owner.$IG[3],b=b instanceof ab?b:null,c=this.owner.$IG[1],d=c.info.states;this._hasMuteOver=null!=q.muted_over?d.existsReserved("muted_over"):d.h.hasOwnProperty("muted_over");c=c.info.states;this._hasPlayOver=null!=q.playing_over?c.existsReserved("playing_over"):
c.h.hasOwnProperty("playing_over");c=b.viewToLocal(p.$IH.$fG.get_x(),p.$IH.$fG.get_y());this._isOver=u.hitTest(this.owner,c.x,c.y)==b;this.determineVisualState();this.connect2(p.volume.get_changed(),function(b,c){a.determineVisualState()});this.connect1(b.get_pointerIn(),function(b){a._isOver=!0;a.determineVisualState()});this.connect1(b.get_pointerOut(),function(b){a._isOver=!1;a.determineVisualState()});c=this.owner._internal_getFromParents(8);c.get_topScene();this.connect0(c.get_topScene().$IG[9].hidden,
function(){a.determineVisualState()});c.get_topScene();this.connect0(c.get_topScene().$IG[9].shown,function(){a.determineVisualState()});this.connect1(b.get_pointerDown(),function(b){0==p.volume.$1G?(p.volume.set__(1),H.get_muted().set__(!1),null!=a.onUnMuteTriggeredByClick&&a.owner._internal_getFromParents(4).run(a.onUnMuteTriggeredByClick,a.owner)):(null!=a.onMuteTriggeredByClick&&a.owner._internal_getFromParents(4).run(a.onMuteTriggeredByClick,a.owner),p.volume.set__(0),H.get_muted().set__(!0))})},
determineVisualState:function(){0==p.volume.$1G?this.showMuted():this.showPlaying()},showMuted:function(){var a=this.owner.$IG[3];(a instanceof ab?a:null).loop("muted"+(this._isOver&&this._hasMuteOver?"_over":""))},showPlaying:function(){var a=this.owner.$IG[3];(a instanceof ab?a:null).loop("playing"+(this._isOver&&this._hasPlayOver?"_over":""))},__class__:Ed});var Fg=function(){s.call(this)};g["s2.creator.actions.AddObjectToArray"]=Fg;Fg.__name__=["s2","creator","actions","AddObjectToArray"];Fg.__super__=
s;Fg.prototype=l(s.prototype,{$wE:function(a){var b=this.script.owner._internal_getFromParents(9,nb).owner,c=b.$IG[10];null==c&&(c=new Sa,b.add(c));b=c.get(this.listName);null==b&&(b=[],c.set(this.listName,b));b.push(a)},__class__:Fg});var Gg=function(){this.enable=!1;s.call(this)};g["s2.creator.actions.ChangePointerEnabled"]=Gg;Gg.__name__=["s2","creator","actions","ChangePointerEnabled"];Gg.__super__=s;Gg.prototype=l(s.prototype,{$wE:function(a){a.$IG[3].set_pointerEnabled(this.enable)},__class__:Gg});
var Hg=function(){this.value=1;this.operator=oa.Equals;$.call(this)};g["s2.creator.actions.IfNumScenes"]=Hg;Hg.__name__=["s2","creator","actions","IfNumScenes"];Hg.__super__=$;Hg.prototype=l($.prototype,{$xE:function(a){var b=a._internal_getFromParents(8).scenes.length,c;switch(this.operator[1]){case 0:c=b==this.value;break;case 1:c=b!=this.value;break;case 2:c=b<this.value;break;case 3:c=b<=this.value;break;case 4:c=b>this.value;break;case 5:c=b>=this.value}return c?s.runSequence(this.subActions,
a):null},__class__:Hg});var Ig=function(){this.volume=1;s.call(this)};g["s2.creator.actions.PlayMusicTrack"]=Ig;Ig.__name__=["s2","creator","actions","PlayMusicTrack"];Ig.__super__=s;Ig.prototype=l(s.prototype,{$wE:function(a){a=a._internal_getFromParents(2);null!=a&&H.loop(a,this.musicPath,this.volume)},__class__:Ig});var Jg=function(){s.call(this)};g["s2.creator.actions.RunActionOnArray"]=Jg;Jg.__name__=["s2","creator","actions","RunActionOnArray"];Jg.__super__=s;Jg.prototype=l(s.prototype,{$xE:function(a){a=
this.script.owner._internal_getFromParents(9,nb).owner;var b=a.$IG[10];null==b&&(b=new Sa,a.add(b));a=b.get(this.listName);if(null!=a){for(var b=[],c=a.length;0<c--;){var d=a[c];null!=d&&null!=d.$IG[1]&&b.push(this.script.run(this.actionName,d))}return U.all(b)}return(new U).success(null)},__class__:Jg});var Kg=function(){s.call(this)};g["s2.creator.actions.SetLayerVisibility"]=Kg;Kg.__name__=["s2","creator","actions","SetLayerVisibility"];Kg.__super__=s;Kg.prototype=l(s.prototype,{$wE:function(a){this.script.owner._internal_getFromParents(3,
N).getLayer(this.layerName).$IG[3].set_visible(this.visible)},__class__:Kg});var Lg=function(){this.enabled=!1;s.call(this)};g["s2.creator.actions.SetPointerEnabled"]=Lg;Lg.__name__=["s2","creator","actions","SetPointerEnabled"];Lg.__super__=s;Lg.prototype=l(s.prototype,{$wE:function(a){a.$IG[3].set_pointerEnabled(this.enabled)},__class__:Lg});var Mg=function(){this.speed=0.3;s.call(this)};g["s2.creator.actions.SheenAction"]=Mg;Mg.__name__=["s2","creator","actions","SheenAction"];Mg.__super__=s;Mg.prototype=
l(s.prototype,{$xE:function(a){if(0>=this.speed)return null;var b=a.$IG[3],c=new U,d=u.getBounds(a),e=p.$IH.$hG.createTexture(Math.ceil(d.width),Math.ceil(d.height)),f=a._internal_getFromParents(2).getTexture(this.sheenTexture);e.get_graphics().translate(-Math.ceil(d.x),-Math.ceil(d.y));u.$MF(a,e.get_graphics(),!0);d=new Ng(e,f);d.registerDisposable(e);d.disablePixelSnapping().disablePointer().setScaleXY(1/Math.sqrt(b.getLocalMatrix().m00*b.getLocalMatrix().m00+b.getLocalMatrix().m01*b.getLocalMatrix().m01),
1/Math.sqrt(b.getLocalMatrix().m10*b.getLocalMatrix().m10+b.getLocalMatrix().m11*b.getLocalMatrix().m11));var g=new F;g.add(d).add(new Ab);g.add(d).add(new Ab).$IG[16].run(new $b([new Kb(d.sheenX,1,this.speed),new jc(function(){c.success(null);g.dispose()})]));a.addChild(g);return c},__class__:Mg});var ci=function(){s.call(this)};g["s2.creator.actions.StopMusicTrack"]=ci;ci.__name__=["s2","creator","actions","StopMusicTrack"];ci.__super__=s;ci.prototype=l(s.prototype,{$wE:function(a){H.stop()},__class__:ci});
var Og=function(){s.call(this)};g["s2.creator.actions.ToggleLayerVisibility"]=Og;Og.__name__=["s2","creator","actions","ToggleLayerVisibility"];Og.__super__=s;Og.prototype=l(s.prototype,{$wE:function(a){a=this.script.owner._internal_getFromParents(3,N).getLayer(this.layerName);a.$IG[3].set_visible(0==(a.$IG[3].$B&2))},__class__:Og});var Fd=function(){this._symbols=[];this._currPage=-1;L.call(this)};g["s2.creator.ui.MultiPageScreen"]=Fd;Fd.__name__=["s2","creator","ui","MultiPageScreen"];Fd.__super__=
L;Fd.prototype=l(L.prototype,{onStart:function(){L.prototype.onStart.call(this);this.gotoPage(0);null!=this.nextButton&&this.connect1(this.nextButton.$IG[3].get_pointerDown(),I(this,this.onNextClick));null!=this.prevButton&&this.connect1(this.prevButton.$IG[3].get_pointerDown(),I(this,this.onBackClick))},gotoPage:function(a){if(!(a==this._currPage||0>a||a>this.pages.length)){null!=this._currentEntity&&(this.cachePages?null!=this._currentEntity.parent&&this.owner.removeChild(this._currentEntity):(this._symbols[this._currPage]=
null,this._currentEntity.dispose()));this._currPage=a;var b=this.fetchOrGenerate(a);b.$IG[3].setXY(this.info.x-this.info.anchorX,this.info.y-this.info.anchorY);this.owner.addChild(b);this._currentEntity=b;b=this.owner._internal_getFromParents(4);null!=this.onPageChange&&b.run(this.onPageChange,this.owner,!1);a==this.pages.length-1&&null!=this.onLastPage&&b.run(this.onLastPage,this.owner,!1);0==a&&null!=this.onFirstPage&&b.run(this.onFirstPage,this.owner,!1)}},onNextClick:function(a){this._currPage==
this.pages.length-1?null!=this.onLastClickAction&&this.owner._internal_getFromParents(4).run(this.onLastClickAction,this.nextButton,!1):this.gotoPage(this._currPage+1)},onBackClick:function(a){0==this._currPage?null!=this.onFirstClickAction&&this.owner._internal_getFromParents(4).run(this.onFirstClickAction,this.prevButton,!1):this.gotoPage(this._currPage-1)},fetchOrGenerate:function(a){var b=this;if(this._symbols.length>a&&null!=this._symbols[a])return this._symbols[a];var c=this.owner._internal_getFromParents(2).getSceneSymbol(this.pages[a]),
c=(new F).add(c.createSprite()).add(c.createScript()),d=c._internal_getFromParents(3,N);d.connectMessage("onAdvance",function(a){b.advance()});d.connectMessage("onBack",function(a){b.back()});return this._symbols[a]=c},advance:function(){this.gotoPage(this._currPage+1)},back:function(){this.gotoPage(this._currPage-1)},__class__:Fd});var Ng=function(a,b){u.call(this);this._sheen=b;this.set_texture(a);this.sheenX=new V(0,I(this,this.recompose));this.recompose(0,0)};g["s2.display.SheenSprite"]=Ng;Ng.__name__=
["s2","display","SheenSprite"];Ng.__super__=u;Ng.prototype=l(u.prototype,{recompose:function(a,b){this._composite.get_graphics().setBlendMode(ba.Copy);this._composite.get_graphics().drawTexture(this._texture,0,0);this._composite.get_graphics().setBlendMode(ba.Normal);this._composite.get_graphics().save();this._composite.get_graphics().scale(this._sheenScaleX,this._sheenScaleY);this._composite.get_graphics().drawTexture(this._sheen,(-this._texture.get_width()+a*this._texture.get_width()*2)/this._sheenScaleX,
0);this._composite.get_graphics().restore();this._composite.get_graphics().setBlendMode(ba.Mask);this._composite.get_graphics().drawTexture(this._texture,0,0)},dispose:function(){u.prototype.dispose.call(this);null!=this._composite&&this._composite.dispose()},initComposite:function(){if(null==this._composite||this._composite.get_width()!=this._texture.get_width()||this._composite.get_height()!=this._texture.get_height())null!=this._composite&&this._composite.dispose(),this._composite=p.$IH.$hG.createTexture(this.get_texture().get_width(),
this.get_texture().get_height())},set_sheen:function(a){this._sheen=a;this._sheenScaleX=this._texture.get_width()/this._sheen.get_width();this._sheenScaleY=this._texture.get_height()/this._sheen.get_height();return this._sheen},get_texture:function(){return this._texture},set_texture:function(a){this._texture=a;this.initComposite();this.set_sheen(this._sheen);return this._texture},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.sheenX.update(a)},draw:function(a){null!=this._composite&&
a.drawTexture(this._composite,0,0)},getNaturalWidth:function(){return null!=this._composite?this._composite.get_width():0},getNaturalHeight:function(){return null!=this._composite?this._composite.get_height():0},__class__:Ng,__properties__:l(u.prototype.__properties__,{set_sheen:"set_sheen",set_texture:"set_texture",get_texture:"get_texture"})});var K=function(){};g["s2.localization.Locale"]=K;K.__name__=["s2","localization","Locale"];K.init=function(a,b,c,d){null==d&&(d="assets/fonts");null==c&&
(c="xml/translation.xml");K._formats=new Q;K._xmlPath=c;K._fontDirectory=d;K._onReady=a;K._parser=b;a=new Ma;b=c;null!=K.externalBase?b=K.externalBase+K._xmlPath:null!=K.relativeBase&&(b=K.relativeBase+K._xmlPath);a.add(c,b);p.$IH.loadAssetPack(a).then(K.onXmlSuccess)};K.getFormat=function(a){var b=K._formats;if(null!=q[a]?b.existsReserved(a):b.h.hasOwnProperty(a))return b=K._formats,null!=q[a]?b.getReserved(a):b.h[a];throw new v("No string id : '"+a+"' exists.");};K.getFormatForPlatform=function(a,
b){null==b&&(b="");var c=a;(R.get_mobile()||R.test("Android",!1))&&null!=b&&""!=b&&(c=b);return K.getFormat(c)};K.onXmlSuccess=function(a){a=a.getFile(K._xmlPath);K._x=t.parse(a.toString());a.dispose();a=K.prepManifest(K._parser.parseFonts(K._x));p.$IH.loadAssetPack(a).then(K.onDefinitionLoadSuccess)};K.onDefinitionLoadSuccess=function(a){a=K.prepManifest(K._parser.parseDefinitions(a));p.$IH.loadAssetPack(a).then(K.onAtlasLoadSuccess)};K.prepManifest=function(a){null!=K.externalBase?a.$iH=K.externalBase+
K._fontDirectory:a.$hH=null!=K.relativeBase?K.relativeBase+K._fontDirectory:K._fontDirectory;return a};K.onAtlasLoadSuccess=function(a){K._formats=K._parser.parseStrings(K._x,a);a=K._formats;for(a=new Bb(a,a.arrayKeys());a.hasNext();){var b=a.next(),c=P.replace(b.text,"<br>","\n");c!=b.text&&(b.text=c)}K.loading=!1;null!=K._onReady&&K._onReady.apply(null,[]);K._onReady=null};var di=function(){};g["s2.localization.LocaleParser"]=di;di.__name__=["s2","localization","LocaleParser"];di.prototype={__class__:di};
var Pg=function(){this.propertyLocation=Ja.Scene;s.call(this)};g["s2.localization.LocalizeText"]=Pg;Pg.__name__=["s2","localization","LocalizeText"];Pg.__super__=s;Pg.prototype=l(s.prototype,{$wE:function(a){a.yieldForStart();var b=K.getFormatForPlatform(this.localizationID,this.mobileAlternateID),c=bb.getStringFormatSetter(a,b),d=new Ga("\\{\\{.*}\\}","g");if(d.match(b.text)){var e=d.matched(0),f=e.replace(/[\}\{]./g,""),d=null;switch(this.propertyLocation[1]){case 0:d=p.root;break;case 1:d=a._internal_getFromParents(9).owner;
break;case 2:d=a}var d=d.$IG[10],g=function(a,d){if(a==f){var g=P.replace(b.text,e,d);c(g)}},h=b.text,k=d.get(f),h=P.replace(h,e,k);c(h);h=a.$IG[1];h=h instanceof Pb?h:null;null!=h?h.connect2(d.changed,g):(a=a.$IG[1],(a instanceof Ob?a:null).connect2(d.changed,g))}else c(b.text)},__class__:Pg});var Gd=function(){this.propertyLocation=Ja.Scene;Ob.call(this)};g["s2.localization.LocalizedBitmapText"]=Gd;Gd.__name__=["s2","localization","LocalizedBitmapText"];Gd.__super__=Ob;Gd.prototype=l(Ob.prototype,
{onStart:function(){Ob.prototype.onStart.call(this);var a=K.getFormatForPlatform(this.localizationID,this.mobileAlternateID),b=bb.getStringFormatSetter(this.owner,a),c=new Ga("\\{\\{.*}\\}","g");if(c.match(a.text)){var d=c.matched(0),e=d.replace(/[\}\{]./g,""),c=null;switch(this.propertyLocation[1]){case 0:c=p.root;break;case 1:c=this.owner._internal_getFromParents(9).owner;break;case 2:c=this.owner}var c=c.$IG[10],f=a.text,g=c.get(e),f=P.replace(f,d,g);b(f);this.connect2(c.changed,function(c,f){if(c==
e){var g=P.replace(a.text,d,f);b(g)}})}else b(a.text)},__class__:Gd});var Hd=function(){this.propertyLocation=Ja.Scene;Pb.call(this)};g["s2.localization.LocalizedVectorText"]=Hd;Hd.__name__=["s2","localization","LocalizedVectorText"];Hd.__super__=Pb;Hd.prototype=l(Pb.prototype,{onStart:function(){Pb.prototype.onStart.call(this);var a=K.getFormatForPlatform(this.localizationID,this.mobileAlternateID),b=bb.getStringFormatSetter(this.owner,a),c=new Ga("\\{\\{.*}\\}","g");if(c.match(a.text)){var c=c.matched(0),
d=c.replace(/[\}\{]./g,""),e=null;switch(this.propertyLocation[1]){case 0:e=p.root;break;case 1:e=this.owner._internal_getFromParents(9).owner;break;case 2:e=this.owner}a=a.text;d=e.$IG[10].get(d);c=P.replace(a,c,d);b(c)}else b(a.text)},__class__:Hd});var wg=function(){};g["s2.localization.XmlParser"]=wg;wg.__name__=["s2","localization","XmlParser"];wg.__interfaces__=[di];wg.prototype={parseFonts:function(a){var b=new Ma,c=[];if(ca.__instanceof(a,t))for(a=a.firstElement().elements();a.hasNext();)for(var d=
a.next().elements();d.hasNext();){var e=d.next(),e=this.getXmlString(e,"font");null!=e&&-1==c.indexOf(e)&&(b.add(e+".fnt",e+".fnt"),c.push(e))}return b},parseDefinitions:function(a){for(var b=new Ma,c=y.iter(a.get_manifest().$MG);c.hasNext();){var d=c.next();b.add(d.url,d.name);for(var e=a.getFile(d.name).toString(),f=0;;){var g=e.indexOf('file="',f),f=-1;-1<g&&(g+=6,f=e.indexOf('"',g),g=e.substring(g,f),b.add(g.split(".")[0],g));if(!(-1<f))break}a.getFile(d.name).dispose()}return b},parseStrings:function(a,
b){var c=new Q,d=new Q;if(ca.__instanceof(a,t))for(var e=a.firstElement().elements();e.hasNext();){var f=e.next(),g=f.elements();if(f.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+f.nodeType);for(f=f.nodeName;g.hasNext();){var h=g.next(),k=this.getXmlString(h,"font"),l=null;null!=k&&(l=(null!=q[k]?d.existsReserved(k):d.h.hasOwnProperty(k))?null!=q[k]?d.getReserved(k):d.h[k]:(new wc(b,k)).disposeFiles());if(h.nodeType!=t.Element)throw new v("Bad node type, expected Element but found "+
h.nodeType);var n=f+"."+h.nodeName,p=this.getXmlFloat(h,"lineHeight",0),r=this.getXmlFloat(h,"fontScale",1);if(h.nodeType!=t.Document&&h.nodeType!=t.Element)throw new v("Bad node type, expected Element or Document but found "+h.nodeType);var s=h.children[0];if(s.nodeType==t.Document||s.nodeType==t.Element)throw new v("Bad node type, unexpected "+s.nodeType);h={id:n,font:l,lineHeight:p,scale:r,text:s.nodeValue,offsetX:this.getXmlFloat(h,"offsetX",0),offsetY:this.getXmlFloat(h,"offsetY",0)};null!=q[k]?
d.setReserved(k,l):d.h[k]=l;k=h.id;null!=q[k]?c.setReserved(k,h):c.h[k]=h}}return c},getXmlString:function(a,b,c){a=a.get(b);return null!=a&&""!=a?a:c},getXmlFloat:function(a,b,c){a=this.getXmlString(a,b);return null!=a?parseFloat(a):c},__class__:wg};var ei=function(a,b,c){this._time=a;this._tilesWide=b;this._tilesHigh=c;this._holder=new F};g["s2.scene.DropTransition"]=ei;ei.__name__=["s2","scene","DropTransition"];ei.__super__=Hb;ei.prototype=l(Hb.prototype,{init:function(a,b,c){Hb.prototype.init.call(this,
a,b,c);this._elapsed=0;this._texture=p.$IH.$hG.createTexture(p.$IH.$iG.get_width(),p.$IH.$iG.get_height());u.$MF(b,this._texture.get_graphics(),!0);this._parallel=new Vc;b=this._texture.split(this._tilesWide,this._tilesHigh);c=0;for(var d=b.length;c<d;){var e=c++,e=[b[e]],f=new za(e[0]),g=[(new F).add(f.centerAnchor().setXY(e[0].get_x()+0.5*e[0].get_width(),e[0].get_y()+0.5*e[0].get_height()))],h=Math.random()*this._time;this._parallel.add(new $b([new Hc(Math.random()*this._time*0.25),new Vc([new Kb(f.rotation,
-360+720*Math.random(),h,E.quadIn),new Kb(f.y,p.$IH.$iG.get_height()+e[0].get_height(),h,E.quadIn)]),new jc(function(a,b){return function(){a[0].dispose();b[0].dispose()}}(g,e))]));this._holder.addChild(g[0])}this._holder.add(new Ab);this._holder.add(new Ab).$IG[16].run(this._parallel);a.owner.addChild(this._holder)},update:function(a){return 0<=this._parallel.update(0,this._holder)},complete:function(){this._holder.dispose();this._texture.dispose()},__class__:ei});var Je=function(a,b){null==b&&(b=
-1);this._obscured=0>b?a.symbol.duration/2:b;this._movie=a;this._holder=new F};g["s2.scene.MovieTransition"]=Je;Je.__name__=["s2","scene","MovieTransition"];Je.__super__=Hb;Je.prototype=l(Hb.prototype,{useSound:function(a){this._sound=a;return this},init:function(a,b,c){Hb.prototype.init.call(this,a,b,c);null!=this._playback&&(this._playback.dispose(),this._playback=null);b=a.owner._internal_getFromParents(3);var d=a.get_width()/a.get_height(),e=Nb.clamp(d,0.9375,2.357142857142857);c=2.357142857142857<
d?e*a.get_height():a.get_width();d=0.9375>d?a.get_width()/e:a.get_height();null!=b&&(c/=Math.sqrt(b.getViewMatrix().m00*b.getViewMatrix().m00+b.getViewMatrix().m01*b.getViewMatrix().m01),d/=Math.sqrt(b.getViewMatrix().m10*b.getViewMatrix().m10+b.getViewMatrix().m11*b.getViewMatrix().m11));c=Math.max(c/960,d/560);this._holder.add(this._movie);this._movie.setScale(c);this._movie.set_paused(!1);this._movie.set_position(0);this._movie.set_paused(!0);null!=this._sound&&(this._playback=this._sound.play());
d=this.$eH.$IG[3];null==d&&(e=this.$eH,d=new u,e.add(d));d.alpha.set__(0);e=p.$IH.$iG.get_width()/2;d=p.$IH.$iG.get_height()/2;b=null!=b?b.viewToLocal(e,d):new La(e,d);this._movie.setXY(b.x-660*c,b.y-512*c);a.owner.addChild(this._holder)},update:function(a){this._movie.set_paused(!1);var b=this._movie;b.set_position(b.$$J+a);this._movie.set_paused(!0);this._movie.$$J>=this._obscured&&(this.$eH.$IG[3].alpha.set__(1),a=this.$dH.$IG[3],null==a&&(b=this.$dH,a=new u,b.add(a)),a.alpha.set__(0));return this._movie.$$J>=
this._movie.symbol.duration},complete:function(){this._movie.set_paused(!1);this._movie.set_position(this._movie.symbol.duration);this._movie.set_paused(!0);this.$eH.$IG[3].alpha.set__(1);this._holder.dispose()},__class__:Je});var H=function(){};g["s2.sound.MusicManager"]=H;H.__name__=["s2","sound","MusicManager"];H.__properties__={get_muted:"get_muted"};H.loop=function(a,b,c){null==c&&(c=1);var d=a.getSound(b);H.init(d);H.loopSound(a,b,c)};H.stop=function(){null!=H._bgLoop&&(H._bgLoop.dispose(),
H._bgLoop=null);null!=H._audioTag&&H._audioTag.pause()};H.loopSoundStandard=function(a,b,c){H._volume=c;a=a.getSound(b);null==H._bgLoop||H._bgLoop.get_sound()!=a?(null!=H._bgLoop&&H._bgLoop.dispose(),H._bgLoop=a.loop(H.get_muted().$1G?0:H._volume)):null!=H._bgLoop&&H._bgLoop.volume.animateTo(H.get_muted().$1G?0:H._volume,0.2)};H.get_muted=function(){null==H._muted&&(H._muted=new qa(!1,H.onMuteChange));return H._muted};H.onMuteChange=function(a,b){null!=H._audioTag?(H._audioTag.muted=a,H._audioTag.volume=
a?0:H._volume*p.volume.$1G):null!=H._bgLoop&&H._bgLoop.volume.set__(a?0:H._volume)};H.init=function(a){H._init||(H.loopSound=H.loopSoundStandard,ca.__instanceof(a,ub)&&(H.loopSound=H.loopSoundHack,a=window.document,H._audioTag=a.createElement("audio"),H._audioTag.id="flambe_audioTag_hack",p.hidden.get_changed().connect(function(a,c){H._audioTag.muted=a;H._audioTag.volume=a?0:H._volume*p.volume.$1G}),p.volume.get_changed().connect(function(a,c){H._audioTag.volume=H._volume*a}),a.body.appendChild(H._audioTag)),
H._init=!0)};H.loopSoundHack=function(a,b,c){H._volume=c;c=H.get_muted().$1G?0:c*p.volume.$1G;H._audioTag.volume=c;H._audioTag.autoplay=!0;H._audioTag.loop=!0;H._audioTag.preload="auto";H._audioTag.src=H.findFullSoundURL(a,b);a=H.get_muted().$1G;H._audioTag.muted=a};H.findFullSoundURL=function(a,b){for(var c=y.iter(a.get_manifest().$MG);c.hasNext();){var d=c.next();if(d.name==b)return a.get_manifest().getFullURL(d)}return null};var Wd=function(a){null==a&&(a=!0);this._queue=new Q;this._values=new Q;
this.changed=new fa;var b=this;B.call(this);a?p.$IH.getLocalStorage().get("game_state",null).then(function(a){if(null!=a){a=JSON.parse(a);for(var d=0;d<a.length;){var e=a[d];++d;var f=e.key,g=b._values;null!=q[f]?g.setReserved(f,e):g.h[f]=e}}}):this.reset()};g["s2.storage.StateManager"]=Wd;Wd.__name__=["s2","storage","StateManager"];Wd.__super__=B;Wd.prototype=l(B.prototype,{get_entitySlot:function(){return 17},exists:function(a){var b=this._values;return null!=q[a]?b.existsReserved(a):b.h.hasOwnProperty(a)},
setBool:function(a,b){this.addToQueue(a,b,2)},setFloat:function(a,b){this.addToQueue(a,b,3)},getBool:function(a,b){null==b&&(b=!1);var c=this._values;return(null!=q[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this._values,null!=q[a]&&c.getReserved(a),c=this._values,(null!=q[a]?c.getReserved(a):c.h[a]).v):b},getFloat:function(a,b){null==b&&(b=0);var c=this._values;return(null!=q[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this._values,null!=q[a]&&c.getReserved(a),c=this._values,(null!=q[a]?
c.getReserved(a):c.h[a]).v):b},reset:function(){this._values=new Q;this._queue=new Q;p.$IH.getLocalStorage().set("game_state",JSON.stringify([])).then(function(a){})},onUpdate:function(a){0!=(this.$B&8)&&this.flush();0!=(this.$B&2)&&(this.$B&=-3,this.applyQueue(),0==(this.$B&4)?this.flush():this.$B|=8)},addToQueue:function(a,b,c){var d;d=this._queue;(null!=q[a]?d.existsReserved(a):d.h.hasOwnProperty(a))?(d=this._queue,d=null!=q[a]?d.getReserved(a):d.h[a]):d=null;if(null==d){d=this._values;(null!=
q[a]?d.existsReserved(a):d.h.hasOwnProperty(a))?(d=this._values,d=(null!=q[a]?d.getReserved(a):d.h[a]).v==b):d=!1;if(d)return;d=this._values;if(null!=q[a]?d.existsReserved(a):d.h.hasOwnProperty(a))d=this._values,null!=q[a]&&d.getReserved(a);d=this._queue;var e;e=this._values;(null!=q[a]?e.existsReserved(a):e.h.hasOwnProperty(a))?(e=this._values,e=(null!=q[a]?e.getReserved(a):e.h[a]).v):e=null;b={t:c,v:b,p:e};null!=q[a]?d.setReserved(a,b):d.h[a]=b}else{if(d.v==b)return;d.p=d.v;d.v=b}this.$B=ic.set(this.$B,
2,!0)},applyQueue:function(){for(var a=this._queue.keys();a.hasNext();){var b=a.next(),c=this._queue,c=null!=q[b]?c.getReserved(b):c.h[b],c={t:c.t,key:b,v:c.v},d=this._values;null!=q[b]?d.setReserved(b,c):d.h[b]=c;this._queue.remove(b);this.changed.emit(b)}},flush:function(){var a=this;this.$B&=-9;for(var b=[],c=this._values.keys();c.hasNext();){var d=c.next(),e=this._values,e=null!=q[d]?e.getReserved(d):e.h[d];b.push({t:e.t,key:d,v:e.v})}this.$B=ic.set(this.$B,4,!0);p.$IH.getLocalStorage().set("game_state",
JSON.stringify(b)).then(function(b){a.$B&=-5})},__class__:Wd});var Qg=function(){this.keys=[];$.call(this)};g["s2.storage.actions.IfStatesAllTrue"]=Qg;Qg.__name__=["s2","storage","actions","IfStatesAllTrue"];Qg.__super__=$;Qg.prototype=l($.prototype,{$xE:function(a){var b=p.root.$IG[17];if(0==this.keys.length)return null;for(var c=!0,d=0,e=this.keys;d<e.length;){var f=e[d];++d;c=c?b.getBool(f,!1):!1}return c?s.runSequence(this.subActions,a):null},__class__:Qg});var Rg=function(){this.setToTrue=!0;
this.key="";s.call(this)};g["s2.storage.actions.SetBooleanState"]=Rg;Rg.__name__=["s2","storage","actions","SetBooleanState"];Rg.__super__=s;Rg.prototype=l(s.prototype,{$wE:function(a){p.root.$IG[17].setBool(this.key,this.setToTrue)},__class__:Rg});var ae=function(){};g["s2.util.BinaryHelper"]=ae;ae.__name__=["s2","util","BinaryHelper"];ae.saveString=function(a,b){ae.saveBlob(new Blob([a],{type:"text/plain"}),b)};ae.saveBlob=function(a,b){var c=window.document.createElement("a");window.document.body.appendChild(c);
c.style.display="none";var d=URL.createObjectURL(a);c.href=d;c.download=b;c.click();URL.revokeObjectURL(d)};var qc=function(){};g["s2.util.BuildInfo"]=qc;qc.__name__=["s2","util","BuildInfo"];qc.getBuildLog=function(){return"SketchItGuessIt v1.0.6 ("+qc.commitHash+") - "+qc.buildDate};var li=function(){};g["s2.util.ManifestUtil"]=li;li.__name__=["s2","util","ManifestUtil"];li.filter=function(a,b){var c=new Ma;c.pixelScale=a.pixelScale;null!=a.$hH&&(c.$hH=a.$hH);null!=a.$iH&&(c.$iH=a.$iH);for(var d=
y.iter(a.$MG);d.hasNext();){var e=d.next();b(e)&&c.add(e.name,e.url,e.bytes,e.format)}return c};var Cc=function(){};g["s2.util.PathUtil"]=Cc;Cc.__name__=["s2","util","PathUtil"];Cc.absoluteToRelative=function(a,b){console.log("Start Path: "+a+" - end path: "+b);if(Cc.sameDomain(a,b)){var c=P.replace(P.replace(a,"http://",""),"https://","").split("/"),d=P.replace(P.replace(b,"http://",""),"https://","").split("/");c.shift();d.shift();""==c[c.length-1]&&c.pop();for(var e=0,f=Math.floor(Math.min(c.length,
d.length));e++<f;)c[0]==d[0]?(c.splice(0,1),d.splice(0,1)):e=f+1;f="";for(e=c.length;0<e--;)f+="../";console.log("Relative path: "+f+d.join("/"));return f+d.join("/")}return null};Cc.sameDomain=function(a,b){var c=Cc.getHost(a),d=Cc.getHost(b);return null!=c&&null!=d&&c==d?!0:!1};Cc.getHost=function(a){return P.startsWith(a,"http://")||P.startsWith(a,"https://")?P.replace(P.replace(a,"http://",""),"https://","").split("/")[0]:null};var R=function(){};g["s2.util.Sniffer"]=R;R.__name__=["s2","util",
"Sniffer"];R.__properties__={get_tablet:"get_tablet",get_kindle:"get_kindle",get_mobile:"get_mobile",get_userAgent:"get_userAgent",get_nickApp:"get_nickApp"};R.test=function(a,b){null==b&&(b=!0);return b?0<=R.get_userAgent().indexOf(a):0<=R.get_userAgent().toLowerCase().indexOf(a.toLowerCase())};R.get_nickApp=function(){null==C._browser&&(C._browser=C.parse(A.string(window.location)));var a=C._browser.query;return null!=q.apiKey?a.existsReserved("apiKey"):a.h.hasOwnProperty("apiKey")};R.get_userAgent=
function(){null==R._userAgent&&(R._userAgent=window.navigator.userAgent);return R._userAgent};R.get_mobile=function(){if(!R._mobileTest){R._mobileTest=!0;for(var a="Mini Mobile Phone Tablet Android iOS".split(" "),b=["ARM","BlackBerry","Palm","webOS"],c=0;c<a.length;){var d=a[c];++c;if(R.test(d.toLowerCase(),!1)){R._mobile=!0;break}}for(a=0;a<b.length;)if(c=b[a],++a,R.test(c)){R._mobile=!0;break}}return R._mobile};R.get_kindle=function(){if(R.test("Silk"))return!0;null==C._browser&&(C._browser=C.parse(A.string(window.location)));
var a=C._browser.query;return"amazon"==(null!=q.partner?a.getReserved("partner"):a.h.partner)};R.get_tablet=function(){return R.test("Android",!1)&&(!R.test("Android",!1)||!R.test("Mobile",!1))||R.test("iPad")||R.get_kindle()?!0:R.test("ARM")};var bb=function(){};g["s2.util.StringUtil"]=bb;bb.__name__=["s2","util","StringUtil"];bb.zeroPad=function(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c};bb.getTextSetter=function(a,b){return bb.getStringFormatSetter(a,{scale:b,offsetX:0,offsetY:0,text:"",
lineHeight:0,id:"",font:null})};bb.getStringFormatSetter=function(a,b){var c=function(a){};if(null==a)return c;a.yieldForStart();var d=a.$IG[3],e=d instanceof Da?d:null;if(null!=e){var f=!0;return function(a){e.set_text(a);f&&(f=!1,e.wrapWidth.set__(e.wrapWidth.$1G/b.scale),e.disablePixelSnapping().setScale(b.scale*e.scaleX.$1G).setXY(e.x.$1G+b.offsetX,e.y.$1G+b.offsetY))}}var d=a.$IG[3],g=d instanceof na?d:null;if(null!=g){var h=!0;return function(a){g.set_text(a);h&&(h=!1,g.fontSize.set__(Math.round(g.fontSize.$1G*
b.scale)),a=g.x,a.set__(a.$1G+b.offsetX),a=g.y,a.set__(a.$1G+b.offsetY))}}return c};var C=function(a){null==C._parts&&(C._parts="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "));this.url=a;this.query=new Q;var b=new Ga("^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?://)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)","");b.match(a);a=0;for(var c=
C._parts.length;a<c;){var d=a++,e=b.matched(d);if(null!=e)if("query"!=C._parts[d])this[C._parts[d]]=e;else for(var d=e.split("&"),e=0,f=d.length;e<f;){var g=e++,h=d[g].split("="),g=this.query,k=h[0],h=h[1];null!=q[k]?g.setReserved(k,h):g.h[k]=h}}};g["s2.util.URLParser"]=C;C.__name__=["s2","util","URLParser"];C.__properties__={get_browser:"get_browser"};C.init=function(){null==C._parts&&(C._parts="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "));
return C._parts};C.parse=function(a){null==C._parts&&(C._parts="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "));return new C(a)};C.get_browser=function(){if(null!=C._browser)return C._browser;C._browser=C.parse(A.string(window.location));return C._browser};C.fromBrowser=function(){null==C._browser&&(C._browser=C.parse(A.string(window.location)));return C._browser};C.prototype={toString:function(){null==C._parts&&(C._parts="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "));
for(var a="For Url -> "+this.url+"\n",b=0,c=C._parts.length;b<c;)var d=b++,a=a+(C._parts[d]+": "+A.string(X.field(this,C._parts[d]))+(d==C._parts.length-1?"":"\n"));return a},getQueryFloat:function(a,b){var c=this.query;return(null!=q[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,parseFloat(null!=q[a]?c.getReserved(a):c.h[a])):b},getQueryInt:function(a,b){var c=this.query;return(null!=q[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,A.parseInt(null!=q[a]?c.getReserved(a):
c.h[a])):b},getQueryString:function(a,b){var c=this.query;return(null!=q[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,null!=q[a]?c.getReserved(a):c.h[a]):b},getQueryBool:function(a,b){var c=this.query;return(null!=q[a]?c.existsReserved(a):c.h.hasOwnProperty(a))?(c=this.query,"true"==(null!=q[a]?c.getReserved(a):c.h[a]).toLowerCase()):b},__class__:C};var xg=function(){};g["s2.util.Utils"]=xg;xg.__name__=["s2","util","Utils"];xg.createGUID=function(){for(var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
b=[],c=0,d,e=0;36>e;){var f=e++;8==f||13==f||18==f||23==f?b[f]="-":14==f?b[f]="4":(2>=c&&(c=33554432+A.parseInt(A.string(Math.random()*parseFloat("16777216")))|0),d=c&15,c>>=4,b[f]=a[19==f?d&3|8:d])}return b.join("")};var Bi=function(){};g["spine.Updatable"]=Bi;Bi.__name__=["spine","Updatable"];var fi=function(){};g["spine.Bone"]=fi;fi.__name__=["spine","Bone"];fi.__interfaces__=[Bi];fi.prototype={__class__:fi};var ui=function(){};g["spine.BoneData"]=ui;ui.__name__=["spine","BoneData"];ui.prototype=
{__class__:ui};var Hi=function(){};g["spine.EventData"]=Hi;Hi.__name__=["spine","EventData"];var vi=function(){};g["spine.IkConstraintData"]=vi;vi.__name__=["spine","IkConstraintData"];vi.prototype={__class__:vi};var wi=function(){};g["spine.PathConstraintData"]=wi;wi.__name__=["spine","PathConstraintData"];wi.prototype={__class__:wi};var xi=function(){};g["spine.Skeleton"]=xi;xi.__name__=["spine","Skeleton"];xi.prototype={__class__:xi};var Ii=function(){};g["spine.SkeletonData"]=Ii;Ii.__name__=["spine",
"SkeletonData"];var Ji=function(){};g["spine.Skin"]=Ji;Ji.__name__=["spine","Skin"];var yi=function(){};g["spine.SlotData"]=yi;yi.__name__=["spine","SlotData"];yi.prototype={__class__:yi};var zi=function(){};g["spine.TransformConstraintData"]=zi;zi.__name__=["spine","TransformConstraintData"];zi.prototype={__class__:zi};var Ai=function(){};g["spine.attachments.Attachment"]=Ai;Ai.__name__=["spine","attachments","Attachment"];var Id=function(){};g["spine.attachments.VertexAttachment"]=Id;Id.__name__=
["spine","attachments","VertexAttachment"];Id.__super__=Ai;Id.prototype=l(Ai.prototype,{__class__:Id});var gi=function(){};g["spine.attachments.MeshAttachment"]=gi;gi.__name__=["spine","attachments","MeshAttachment"];gi.__super__=Id;gi.prototype=l(Id.prototype,{__class__:gi});var hi=function(){s.call(this)};g["tests.CancelQueue"]=hi;hi.__name__=["tests","CancelQueue"];hi.__super__=s;hi.prototype=l(s.prototype,{$wE:function(a){Z.getTaskManagerFromParents(a).clearAndStop()},__class__:hi});var Jd=function(){this.delay=
0;this.volume=1;M.call(this)};g["tests.PlaySoundTask"]=Jd;Jd.__name__=["tests","PlaySoundTask"];Jd.__super__=M;Jd.prototype=l(M.prototype,{onStart:function(){M.prototype.onStart.call(this);var a=this.owner.$IG[3],b=this.owner._internal_getFromParents(2);T.loadDatabase(b.getFile("puzzle-data.cdb").toString());this._data=T.fromDB(0,0,ta.Sketch,Ca.Standard,5);b.loadManifest(this._data.voManifest,"_dynamic").then(function(a){});this.registerDisposable(new cd(["_dynamic"],b));this.connect1(a.get_pointerDown(),
I(this,this.onClickAction))},onClickAction:function(a){var b=this;a=Z.getTaskManagerFromParents(this.owner);var c=this.owner._internal_getFromParents(2),d=this._data.guessVOGeneric.concat(this._data.guessVOSpecific),d=d[Math.floor(Math.random()*d.length)],c=c.getSound(Ib.withoutExtension(Ib.withoutDirectory(d.vo))),e=["talk1","talk2"],e=e[Math.floor(Math.random()*e.length)];this.connect0(a.taskStarted,function(){b.owner.emitMessageToParents("onTaskStarted",b.owner)});this.connect0(a.taskCompleted,
function(){b.owner.emitMessageToParents("onTaskCompleted",b.owner)});this.connect0(a.queueLoaded,function(){b.owner.emitMessageToParents("onQueueLoaded",b.owner)});this.connect0(a.queueEmpty,function(){b.owner.emitMessageToParents("onQueueEmpty",b.owner)});d=sa.parallel([new Kd(c,e,this.volume,this.delay),new Ld("puzzle."+d.id,c.get_duration()),new kc(function(){})]);a.queue(d)},__class__:Jd});var Md=function(){L.call(this)};g["ui.ButtonBuilder"]=Md;Md.__name__=["ui","ButtonBuilder"];Md.__super__=
L;Md.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);this.owner.add((new u).setXY(this.info.x-this.info.anchorX,this.info.y-this.info.anchorY));var b=this.owner._internal_getFromParents(2).getSceneSymbol(this.buttonTemplate),c=Z.getGameSelectionFromParents(this.owner),d=ya.puzzles.all.slice().filter(function(b){return a.isSameType(b.type,c.type.$1G)?b.difficulty==a.difficulty:!1}),e=b.width*b.tileWidth,f=b.height*b.tileHeight,g=Math.floor(this.info.width/(e+this.paddingX));
Math.ceil(d.length/g);this._mode=A.string(c.type.$1G).charAt(0).toLowerCase();for(var h=0,k=d.length;h<k;){var l=h++,n=[b.createSprite()],p=[d[l%d.length]];n[0].setXY(l%g*(e+this.paddingX),Math.floor(l/g)*(f+this.paddingY));this.owner.addChild((new F).add(n[0]));this.setupButton(n[0],p[0])?this.connect1(n[0].get_pointerDown(),function(b,c){return function(d){a.onButtonClicked(c[0],b[0].level)}}(p,n)):this.connect1(n[0].get_pointerDown(),function(b,c){return function(d){a.onLockedButtonClicked(c[0],
b[0].level)}}(p,n))}},setupButton:function(a,b){var c=this.owner._internal_getFromParents(2),d=p.root.$IG[17],e=T.storageKey(T.fromPuzzleType(b.type),this.difficulty,b.level)+"-bestTime",f=d.exists(e);a.owner.yieldForStart();var g=a.getObject("locked").$IG[3],h=a.getObject("unlocked").$IG[3],k=a.getObject("complete").$IG[3],l=a.info.getObject("thumbnail");g.set_visible(!T.isUnlocked(this.difficulty,b.level,T.fromPuzzleType(b.type)));h.set_visible(!f&&0==(g.$B&2));k.set_visible(f&&0==(g.$B&2));var k=
a.getObject("label")._internal_getFromChildren(3,Da),n=K.getFormat("puzzleSelect.bestTime");k.set_visible(f&&0==(g.$B&2));k.set_text(n.text+this.formattedTime(d.getFloat(e,0)));c=new za(c.getTexture("thumbnails/"+this.difficulty+"_"+b.level+"_"+this._mode));c.setXY(l.x,l.y).setAnchor(l.anchorX,l.anchorY);h.owner.parent.addChild((new F).add(c),!1);return 0==(g.$B&2)},onButtonClicked:function(a,b){Z.getGameSelectionFromParents(this.owner).level.set__(b);this.owner.emitMessageToParents("OnPuzzleSelected",
a.owner)},onLockedButtonClicked:function(a,b){this.owner.emitMessageToParents("OnLockClicked",a.owner)},isSameType:function(a,b){return O.enumEq(b,ta.Memory)&&1==a?!0:O.enumEq(b,ta.Sketch)?0==a:!1},formattedTime:function(a){return Math.floor(a/60)+":"+bb.zeroPad(Math.floor(a%60),2)},__class__:Md});var sa=function(){this._disposables=[];this._promise=new U};g["ui.Task"]=sa;sa.__name__=["ui","Task"];sa.parallel=function(a){return new Sg(a)};sa.prototype={run:function(a){throw new v("Must override this method.");
},cancel:function(){},taskComplete:function(){this._promise.success(null);this._promise=null;this.cleanup()},cleanup:function(){for(;0<this._disposables.length;)this._disposables.shift().dispose()},update:function(a,b){},pause:function(){},resume:function(){},__class__:sa};var kc=function(a){sa.call(this);this._callback=a};g["ui.CallFunctionTask"]=kc;kc.__name__=["ui","CallFunctionTask"];kc.__super__=sa;kc.prototype=l(sa.prototype,{run:function(a){this._callback();a=this._promise;this.taskComplete();
return a},__class__:kc});var Tb=function(a,b,c){null==c&&(c=0);null==b&&(b=1);this._count=0;sa.call(this);this._sound=a;this._volume=b;this._delay=this._count=c};g["ui.SoundTask"]=Tb;Tb.__name__=["ui","SoundTask"];Tb.__super__=sa;Tb.prototype=l(sa.prototype,{run:function(a){0>=this._delay&&this.startSound();return this._promise},startSound:function(){this._playback=this._sound.play(this._volume);this._playback.get_complete().$1G?this.taskComplete():(this._disposables.push(this._playback.get_complete().get_changed().connect(I(this,
this.soundComplete))),this._disposables.push(this._playback))},update:function(a,b){0<this._delay&&0<this._count&&(this._count-=a,0>=this._count&&this.startSound())},pause:function(){null!=this._playback&&this._playback.set_paused(!0)},resume:function(){null!=this._playback&&this._playback.set_paused(!1)},cancel:function(){this._playback=null;this.cleanup()},soundComplete:function(a,b){this._playback=null;this.taskComplete()},__class__:Tb});var Kd=function(a,b,c,d){null==d&&(d=0);null==c&&(c=1);null==
b&&(b="talk1");this._state=b;Tb.call(this,a,c,d)};g["ui.CharacterTask"]=Kd;Kd.__name__=["ui","CharacterTask"];Kd.__super__=Tb;Kd.prototype=l(Tb.prototype,{run:function(a){var b=a._internal_getFromParents(3,N).getObject("patrick").$IG[3];this._character=b instanceof ab?b:null;this._assets=a._internal_getFromParents(2);return Tb.prototype.run.call(this,a)},startSound:function(){this._character.loop(this._state,!0);this._character.owner.yieldForStart();var a=this._character.owner._internal_getFromChildren(3,
ka);if(null!=a)for(var b=0,c=a.symbol.layers;b<c.length;){var d=c[b];++b;var e=null;"$"==d.name.charAt(0)?(e=y.substr(d.name,1,null),e=this._assets.getTexture(e),e=new mc(e,2048,2048)):"#"==d.name.charAt(0)&&(e=A.parseInt("0x"+y.substr(d.name,1,null)),e=new Jb(e,2028,2048));null!=e&&(a.getLayer(d.name).addChild((new F).add(e)),this._disposables.push(e.owner))}this.removeSnapping();Tb.prototype.startSound.call(this)},cancel:function(){null!=this._character&&(this._character.loop("default"),this.removeSnapping(),
this._character=null);Tb.prototype.cancel.call(this)},soundComplete:function(a,b){this._character.loop("default",!0);this.removeSnapping();this._character=null;Tb.prototype.soundComplete.call(this,b,b)},removeSnapping:function(){if(null!=this._character&&null!=this._character.owner){var a=this._character.owner._internal_getFromChildren(3,ka);null!=a&&0==(a.$B&32)&&a.disablePixelSnapping()}},__class__:Kd});var Tg=function(){this.complete=new ua;L.call(this)};g["ui.CountdownTimer"]=Tg;Tg.__name__=["ui",
"CountdownTimer"];Tg.__super__=L;Tg.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);var b=this.owner._internal_getFromParents(2),c=this.owner._internal_getFromParents(3,N),d=Z.getGameSelectionFromParents(this.owner),e=d.getPuzzleData().correctVO.id,e=K.getFormat("drawingNames."+e);this.owner.$IG[3].set_visible(!0);d=K.getFormat(["difficulty.easyChallenge","difficulty.mediumChallenge","difficulty.hardChallenge"][d.session.difficulty]);c=c.getObject("challengeHead");
c.yieldForStart();c=c._internal_getFromChildren(3,Da);bb.getStringFormatSetter(c.owner,d)(d.text);var f=this.owner._internal_getFromChildren(3,ka),c=b.getFont("fonts/slacky_grad-blue_40"),b=b.getFont("fonts/slacky_grad-orange_90"),g=K.getFormat("drawingNames.draw"),d=K.getFormat("gameplay.countdownDraw"),h=Math.min(g.scale,e.scale),e=(new Da(c,g.text+e.text)).setAlign(Aa.Center).setWrapWidth(1320/h).setScale(h).setXY(0,390),b=(new Da(b,d.text)).setScale(d.scale).setXY(d.offsetX,d.offsetY).centerAnchor();
f.getLayer("Layer 8").addChild((new F).add(e));f.getLayer("draw").addChild((new F).add(b));this.connect0(f.get_looped(),function(){f.set_position(f.symbol.duration);f.set_paused(!0);a.owner.emitMessageToParents("confirm");a.complete.emit()})},__class__:Tg});var Nd=function(){this._clickToDrag=!1;this._touchStart=new La;this._scratch=new La;this._dragging=!1;this.enabled=!0;this.minDist=10;M.call(this)};g["ui.DraggableImage"]=Nd;Nd.__name__=["ui","DraggableImage"];Nd.__super__=M;Nd.prototype=l(M.prototype,
{onStart:function(){M.prototype.onStart.call(this);var a=this.owner.$IG[3];this._isMobile=R.get_mobile();this.connect1(a.get_pointerDown(),I(this,this.onStartDrag));this.connect1(p.$IH.$gG.up,I(this,this.onEndDrag))},onUpdate:function(a){M.prototype.onUpdate.call(this,a);this._dragging&&this.enabled&&(this.owner.parent.$IG[3].viewToLocal(p.$IH.$gG.get_x(),p.$IH.$gG.get_y(),this._scratch),this.owner.$IG[3].setXY(this._scratch.x+this._offsetX,this._scratch.y+this._offsetY))},onStartDrag:function(a){if(!this._dragging&&
this.enabled){this._dragging=!0;this._clickToDrag=!1;a=this.owner.parent.$IG[3];if(null==a){var b=this.owner.parent;a=new u;b.add(a)}a.viewToLocal(p.$IH.$gG.get_x(),p.$IH.$gG.get_y(),this._touchStart);this._offsetX=this.owner.$IG[3].x.$1G-this._touchStart.x;this._offsetY=this.owner.$IG[3].y.$1G-this._touchStart.y;null!=this.onDragStart&&this.owner.emitMessageToParents(this.onDragStart,this.owner)}},onEndDrag:function(a){var b=this;if(this._dragging)if(this._scratch.distanceTo(this._touchStart.x,this._touchStart.y)<=
this.minDist&&!this._isMobile&&!this._clickToDrag)this._clickToDrag=!0;else{this._dragging=!1;var c=this.owner.$IG[3],d;d=null!=this.noDropZone?this.noDropZone.$IG[3]:null;var e=0==this.dropZones.length;a=null;for(var f=0,g=this.dropZones.length;f<g;){var h=f++,h=this.dropZones[h],h=null!=h?h.$IG[3]:null;if(this.isValidLocation(c,h,d)){e=!0;a=h.owner;break}}e?(c=this.owner._internal_getFromParents(4),null!=this.onDropSuccess&&c.run(this.onDropSuccess,this.owner),null!=this.onDropTargetSuccess&&null!=
a&&c.run(this.onDropTargetSuccess,a),null!=this.onDragEnd&&c.run(this.onDragEnd,this.owner)):(this.enabled=!1,null!=this.onDropFail&&this.owner.emitMessageToParents(this.onDropFail,this.owner),this.owner.add(new Ab),this.owner.add(new Ab).$IG[16].run(new $b([new Vc([new Kb(c.x,this._touchStart.x+this._offsetX,0.4,E.backOut),new Kb(c.y,this._touchStart.y+this._offsetY,0.4,E.backOut)]),new jc(function(){b.enabled=!0;null!=b.onDragEnd&&b.owner.emitMessageToParents(b.onDragEnd,b.owner)})])))}},isValidLocation:function(a,
b,c,d){null==d&&(d=[new Ba,new Ba,new Ba]);if(null==b&&null==c)return!0;if(0==(b.$B&2))return!1;a=this.globalBounds(a,d[0]);var e=this.owner.get_zIndex(),f=this.owner.parent;this.owner.parent.removeChild(this.owner);b=this.globalBounds(b,d[1]);c=null!=c?this.globalBounds(c,d[2]):null;f.addChildAt(this.owner,e);d=a.intersects(b);a=null!=c&&a.intersects(c);return d?!a:!1},globalBounds:function(a,b){var c=u.getBounds(a.owner,b),d=a.owner.parent.$IG[3].localToView(c.x,c.y);c.set(d.x,d.y,c.width*Math.sqrt(a.getViewMatrix().m00*
a.getViewMatrix().m00+a.getViewMatrix().m01*a.getViewMatrix().m01),c.height*Math.sqrt(a.getViewMatrix().m10*a.getViewMatrix().m10+a.getViewMatrix().m11*a.getViewMatrix().m11));return c},__class__:Nd});var Dc=g["ui.TextType"]={__ename__:["ui","TextType"],__constructs__:["Vector","Bitmap"]};Dc.Vector=["Vector",0];Dc.Vector.toString=k;Dc.Vector.__enum__=Dc;Dc.Bitmap=["Bitmap",1];Dc.Bitmap.toString=k;Dc.Bitmap.__enum__=Dc;var Od=function(){M.call(this)};g["ui.LocalizedButton"]=Od;Od.__name__=["ui","LocalizedButton"];
Od.__super__=M;Od.prototype=l(M.prototype,{onStart:function(){this._textHolder=this.addField(new F,this.type);this.owner.addChild(this._textHolder);M.prototype.onStart.call(this)},addField:function(a,b){var c=this.owner._internal_getFromParents(2),d=K.getFormatForPlatform(this.localizationID,this.mobileID),e=this.owner.$IG[3];switch(b[1]){case 0:this.createVectorFont(a,c,d);break;case 1:this.createBitmapFont(a,c,d)}a.$IG[3].centerAnchor().setXY(this.info.width/e.scaleX.$1G*0.5+d.offsetX,this.info.height/
e.scaleY.$1G*0.5+d.offsetY);return a},createVectorFont:function(a,b,c){var d=this.owner.$IG[3].scaleX.$1G;b=b.getVectorFont(this.fontPath);b=new na(b,c.text);b.fontSize.set__(this.baseSizeOrScale*c.scale);b.set_color(this.fontColor);b.wrapWidth.set__(this.info.width/d);b.set_align(this.align);return a.add(b)},createBitmapFont:function(a,b,c){var d=this.owner.$IG[3].scaleX.$1G;b=b.getFont(this.fontPath);b=new Da(b,c.text);b.setTint(this.fontColor);b.set_align(this.align);b.setScale(c.scale*this.baseSizeOrScale);
b.wrapWidth.set__(this.info.width/d/b.scaleX.$1G);return a.add(b)},__class__:Od});var Ug=function(a,b){sa.call(this);this._movie=a;this._holder=b};g["ui.MovieTask"]=Ug;Ug.__name__=["ui","MovieTask"];Ug.__super__=sa;Ug.prototype=l(sa.prototype,{run:function(a){this._movie.setPosition(0,!1);this._holder.addChild((new F).add(this._movie));this._movie.set_paused(!1);this._disposables.push(this._movie.get_looped().connect(I(this,this.onMovieLooped)));this._disposables.push(this._movie.owner);return this._promise},
onMovieLooped:function(){this._movie.set_position(this._movie.symbol.duration);this._movie.set_paused(!0);this.taskComplete()},cancel:function(){this.cleanup()},pause:function(){null!=this._movie&&this._movie.set_paused(!0)},resume:function(){null!=this._movie&&this._movie.set_paused(!1)},__class__:Ug});var Fe=function(a,b,c,d){sa.call(this);this._overlay=a;this._layer=b;a=function(){};this._confirm=null!=c?c:a;this._abort=null!=d?d:a};g["ui.OverlayTask"]=Fe;Fe.__name__=["ui","OverlayTask"];Fe.__super__=
sa;Fe.prototype=l(sa.prototype,{run:function(a){a=this._overlay.$IG[3];a.connectMessage("confirm",I(this,this.onConfirm));a.connectMessage("abort",I(this,this.onAbort));this._disposables.push(this._overlay);this._layer.addChild(this._overlay);return this._promise},onConfirm:function(a){this._confirm();this.taskComplete()},onAbort:function(a){this._abort();this.taskComplete()},cancel:function(){this.cleanup()},pause:function(){null!=this._overlay&&this._overlay.add(new Kc(0))},resume:function(){if(null!=
this._overlay){var a=this._overlay.$IG[14];null!=a&&a.dispose()}},__class__:Fe});var Sg=function(a){sa.call(this);this._tasks=a};g["ui.ParallelTasks"]=Sg;Sg.__name__=["ui","ParallelTasks"];Sg.__super__=sa;Sg.prototype=l(sa.prototype,{run:function(a){for(var b=[],c=0,d=this._tasks.length;c<d;){var e=c++;b.push(this._tasks[e].run(a))}return this._prom=U.all(b)},cancel:function(){for(var a=0,b=this._tasks.length;a<b;){var c=a++;this._tasks[c].cancel()}},update:function(a,b){for(var c=0,d=this._tasks.length;c<
d;){var e=c++;this._tasks[e].update(a,b)}},pause:function(){for(var a=0,b=this._tasks.length;a<b;){var c=a++;this._tasks[c].pause()}},resume:function(){for(var a=0,b=this._tasks.length;a<b;){var c=a++;this._tasks[c].resume()}},__class__:Sg});var Rd=function(){this._runningTask=!1;this._queue=[];this._paused=!1;this.taskStarted=new ua;this.queueLoaded=new ua;this.queueEmpty=new ua;this.taskCompleted=new ua;B.call(this)};g["ui.TaskManager"]=Rd;Rd.__name__=["ui","TaskManager"];Rd.__super__=B;Rd.prototype=
l(B.prototype,{get_entitySlot:function(){return 18},onStart:function(){var a=this.owner._internal_getFromParents(9);this.connect0(a.hidden,I(this,this.pause));this.connect0(a.shown,I(this,this.resume))},onStop:function(){this.clearAndStop()},queue:function(a){this._queue.push(a);1==this._queue.length&&this.queueLoaded.emit();this._runningTask||this._paused||this.runNextTask();return this},pause:function(){this._paused||(this._paused=!0,this._runningTask&&this._queue[0].pause())},resume:function(){this._paused&&
(this._runningTask?this._queue[0].resume():this.runNextTask(),this._paused=!1)},clearAndStop:function(){0<this._queue.length&&this._queue[0].cancel();this._runningTask=!1;this._queue=[];this.queueEmpty.emit();return this},clearNonRunning:function(){for(;1<this._queue.length;)this._queue.pop();return this},runNextTask:function(){0<this._queue.length?(this._runningTask=!0,this.taskStarted.emit(),this._queue[0].run(this.owner).then(I(this,this.onTaskCompleted)).catchError(I(this,this.onTaskCompleted)),
this._queue[0].update(0,this.owner)):(this._runningTask=!1,this.queueEmpty.emit())},onUpdate:function(a){this._runningTask&&!this._paused&&this._queue[0].update(a,this.owner)},onTaskCompleted:function(a){this._queue.shift();this.taskCompleted.emit();this.runNextTask()},__class__:Rd});var Ld=function(a,b){sa.call(this);this._duration=b;this._localeID=a};g["ui.TextTask"]=Ld;Ld.__name__=["ui","TextTask"];Ld.__super__=sa;Ld.prototype=l(sa.prototype,{run:function(a){return this._promise},update:function(a,
b){if(null==this._holder){var c=b._internal_getFromParents(3,N),d=c.getObject("readout").$IG[1],e=c.getObject("speechBalloon").$IG[1];this._holder=c.createObject(d.info);this._bgHolder=c.createObject(e.info);c=c.getLayer(d.info.layer.name);c.addChild(this._bgHolder);c.addChild(this._holder);this._holder.yieldForStart();this._bgHolder.yieldForStart();d=this._holder._internal_getFromChildren(3,Da);c=K.getFormat(this._localeID);d.setScale(d.scaleX.$1G*c.scale);d.set_text(c.text);d.centerAnchor();d.set_text("");
d=this._duration/2/c.text.length;this._holder.add(new Ab);this._holder.add(new Ab).$IG[16].run(new $b([new Eg(d,c.text),new Hc(this._duration/2+0.5),new jc(I(this,this.taskComplete))]))}},taskComplete:function(){this._holder.dispose();this._bgHolder.dispose();sa.prototype.taskComplete.call(this)},cancel:function(){this._holder.dispose();this._bgHolder.dispose()},__class__:Ld});var cd=function(a,b){this._assets=b;this._names=a};g["ui.UnloadOnDispose"]=cd;cd.__name__=["ui","UnloadOnDispose"];cd.__interfaces__=
[Ra];cd.prototype={abort:function(){this._names=[];this._assets=null},dispose:function(){if(null!=this._assets){for(var a=0,b=this._names;a<b.length;){var c=b[a];++a;this._assets.isLoaded(c)&&this._assets.removePackByName(c)}this._names=[];this._assets=null}},__class__:cd};var vc=function(a,b){this._voVolume=1;this._lastVOCount=this._timeSinceLastMove=this._prevElapsed=0;this._performanceVOLines=new jb;this._guessLinesPlayed=[];this.enabled=!0;B.call(this);this._data=a;this._session=b};g["ui.VOController"]=
vc;vc.__name__=["ui","VOController"];vc.__super__=B;vc.prototype=l(B.prototype,{get_entitySlot:function(){return 11},onStart:function(){var a=this.owner._internal_getFromParents(1,qb),b=this.owner.$IG[13];this._grid=a.gridData;this._prevElapsed=b.elapsed;this._taskManager=Z.getTaskManagerFromParents(this.owner);var c;c=ga.get_options();(null!=q.voiceEnabled?c.existsReserved("voiceEnabled"):c.h.hasOwnProperty("voiceEnabled"))?(c=ga.get_options(),c=null!=q.voiceEnabled?c.getReserved("voiceEnabled"):
c.h.voiceEnabled):c=!0;c||(this._voVolume=0);this.connect0(a.gridChanged,I(this,this.onGridChange));this.connect2(b.changed,I(this,this.onTimeChanged))},onGridChange:function(){this._timeSinceLastMove=0},onTimeChanged:function(a,b){var c=a-this._prevElapsed;this._prevElapsed=a;this.enabled&&0==this._taskManager._queue.length&&(this._lastVOCount+=c,2<=this._lastVOCount&&0==this._timeSinceLastMove?(this._lastVOCount=0,this.playGuessVO()):4.5<this._timeSinceLastMove&&(this._timeSinceLastMove=0,this.playIdleVO()),
this._timeSinceLastMove+=c)},makeVOTask:function(a,b){var c=this.owner._internal_getFromParents(2),d=T.stripVOPaths([a.vo])[0],c=c.getSound(Ib.withoutExtension(d)),d=b;null==d&&(d=null!=Zd.get_animation(a)?Zd.get_animation(a).stateName:null);null==d&&(d="talk1");return sa.parallel([new Kd(c,d,this._voVolume,0),new Ld("puzzle."+a.id,c.get_duration())])},playStatusVO:function(){this.playRandomVOFromType(this.getPerformanceSnapshot())},playRandomVOFromType:function(a){var b=this._performanceVOLines.h.hasOwnProperty(a)?
this._performanceVOLines.h[a]:[];this._performanceVOLines.h[a]=b;var c=ya.lines.all.slice().filter(function(b){return b.type==a});this.playRandomVO(c,b)},getPerformanceSnapshot:function(){var a=this._data.difficultySettings.goodBadRatio+0.2;return this._session.badRatio>this._data.difficultySettings.goodBadRatio+0.6?3:this._session.badRatio>a?2:1},playRandomVO:function(a,b,c){null==b&&(b=[]);c=a.filter(function(a){return-1==b.indexOf(a)});var d=Math.round(Math.random()*(c.length-1));c=c[d];b.push(c);
b.length==a.length&&b.splice(0,b.length-1);this._taskManager.queue(this.makeVOTask(c));return c},playDistractor:function(a){for(var b=ya.distractors.all.slice(),c=-1;c=Math.floor(Math.random()*b.length),1<b.length&&c==vc._lastDistractor;);vc._lastDistractor=c;for(var b=b[c],d=b.moviePath.split(":"),c=this.owner._internal_getFromParents(2),e=c.getLibrary(d[0]),f=this.owner._internal_getFromParents(3,N),d=e.createSprite(d[1],!0),e=0,g=d.symbol.layers;e<g.length;){var h=g[e];++e;var k=null;"$"==h.name.charAt(0)?
(k=y.substr(h.name,1,null),k=c.getTexture(k),k=new mc(k,2048,2048)):"#"==h.name.charAt(0)&&(k=A.parseInt("0x"+y.substr(h.name,1,null)),k=new Jb(k,2048,2048));null!=k&&d.getLayer(h.name).addChild((new F).add(k))}d.disablePixelSnapping().disablePointer();b=sa.parallel([this.makeVOTask(hh.get_vo(b)),new Ug(d,f.getLayer(b.layer))]);this._taskManager.queue(b).queue(new kc(a))},playGuessVO:function(a){this.playRandomVO(this._data.guessVOGeneric.concat(this._data.guessVOSpecific),this._guessLinesPlayed,
a)},playIdleVO:function(){this.playRandomVOFromType(7)},playWinVO:function(a){null==a&&(a=!0);var b=ya.characterState.byId.get("correct").stateName;a&&this._taskManager.clearAndStop();this._taskManager.queue(this.makeVOTask(ya.lines.byId.get("preGuessSound"))).queue(this.makeVOTask(this._data.correctVO,b));return this},playLoseVO:function(){var a=ya.characterState.byId.get("incorrect").stateName;this._taskManager.clearAndStop().queue(this.makeVOTask(ya.lines.byId.get("preGuessSound")));this.playGuessVO(a);
return this},addCallbackToQueue:function(a){this._taskManager.queue(new kc(a));return this},__class__:vc});var Vg=function(){this.ease=r.Linear;this.to=this.duration=0;s.call(this)};g["ui.actions.AnimateSpeed"]=Vg;Vg.__name__=["ui","actions","AnimateSpeed"];Vg.__super__=ob;Vg.prototype=l(ob.prototype,{$xE:function(a){var b=a.$IG[14];null==b&&(b=new Kc,a.add(b));return this.$mF(a,b.scale,this.to,this.duration,this.ease)},__class__:Vg});var ii=function(){s.call(this)};g["ui.actions.DelayForTransition"]=
ii;ii.__name__=["ui","actions","DelayForTransition"];ii.__super__=s;ii.prototype=l(s.prototype,{$xE:function(a){a=a._internal_getFromParents(8);if(null!=a.$kT){var b=new U;a.get_topScene();a=a.get_topScene().$IG[9];var c=null,d=null,e=function(){null!=c&&null!=d&&(c.dispose(),d.dispose(),d=c=null,b.success(null))},c=a.shown.connect(e),d=a.hidden.connect(e);return b}return null},__class__:ii});var Wg=function(){s.call(this)};g["ui.actions.DisableScenePointerEvents"]=Wg;Wg.__name__=["ui","actions",
"DisableScenePointerEvents"];Wg.__super__=s;Wg.prototype=l(s.prototype,{$wE:function(a){a=a._internal_getFromParents(3,N);null!=a&&a.set_pointerEnabled(this.enabled)},__class__:Wg});var Xg=function(){$.call(this)};g["ui.actions.IfNextPuzzle"]=Xg;Xg.__name__=["ui","actions","IfNextPuzzle"];Xg.__super__=$;Xg.prototype=l($.prototype,{$xE:function(a){var b=Z.getGameSelectionFromParents(a);b.getPuzzleData();b=T.getNextInMode(b.difficulty.$1G,b.level.$1G,b.type.$1G);return null!=b&&this.hasNext||null==
b&&!this.hasNext?s.runSequence(this.subActions,a):null},__class__:Xg});var Yg=function(){this.pause=!0;s.call(this)};g["ui.actions.PauseTaskManager"]=Yg;Yg.__name__=["ui","actions","PauseTaskManager"];Yg.__super__=s;Yg.prototype=l(s.prototype,{$wE:function(a){this.pause?Z.getTaskManagerFromParents(a).pause():Z.getTaskManagerFromParents(a).resume()},__class__:Yg});var Ea=g["ui.actions.CoordinateFix"]={__ename__:["ui","actions","CoordinateFix"],__constructs__:["X","Y","Both","None"]};Ea.X=["X",0];Ea.X.toString=
k;Ea.X.__enum__=Ea;Ea.Y=["Y",1];Ea.Y.toString=k;Ea.Y.__enum__=Ea;Ea.Both=["Both",2];Ea.Both.toString=k;Ea.Both.__enum__=Ea;Ea.None=["None",3];Ea.None.toString=k;Ea.None.__enum__=Ea;var Zg=function(){s.call(this)};g["ui.actions.Reparent"]=Zg;Zg.__name__=["ui","actions","Reparent"];Zg.__super__=s;Zg.prototype=l(s.prototype,{$wE:function(a){var b=a._internal_getFromParents(3,N).getObject(this.newParentName);if(!O.enumEq(this.fixCoordinates,Ea.None)){var c=a.$IG[3];c.getViewMatrix();var d=b._internal_getFromParents(3),
e=a.parent.$IG[3].localToView(c.x.$1G,c.y.$1G);d.viewToLocal(e.x,e.y,e);(O.enumEq(this.fixCoordinates,Ea.X)||O.enumEq(this.fixCoordinates,Ea.Both))&&c.x.set__(e.x);(O.enumEq(this.fixCoordinates,Ea.Y)||O.enumEq(this.fixCoordinates,Ea.Both))&&c.y.set__(e.y)}b.addChild(a)},__class__:Zg});var $g=function(){$.call(this)};g["ui.actions.RunOnLayer"]=$g;$g.__name__=["ui","actions","RunOnLayer"];$g.__super__=$;$g.prototype=l($.prototype,{$xE:function(a){a=this.script.owner._internal_getFromParents(3,N).getLayer(this.layer);
return s.runSequence(this.subActions,a)},__class__:$g});var ji=function(){s.call(this)};g["ui.actions.SetNextPuzzleAction"]=ji;ji.__name__=["ui","actions","SetNextPuzzleAction"];ji.__super__=s;ji.prototype=l(s.prototype,{$wE:function(a){a=Z.getGameSelectionFromParents(a);a.getPuzzleData();var b=T.getNextInMode(a.difficulty.$1G,a.level.$1G,a.type.$1G);null!=b&&(a.level.set__(b.level),a.difficulty.set__(b.difficulty))},__class__:ji});var ah=function(){s.call(this)};g["ui.actions.SpawnBadgeAt"]=ah;ah.__name__=
["ui","actions","SpawnBadgeAt"];ah.__super__=s;ah.prototype=l(s.prototype,{$xE:function(a){var b=this.script.owner._internal_getFromParents(2);a=this.script.owner._internal_getFromParents(3,N);var c=b.getLibrary("unlock-badge").createSprite("badge_in",!0),b=b.getSceneSymbol("badge-text").createSprite(),d=a.info.getObject(this.spawnAtObjectName);a=a.getLayer(d.layer.name);c.getLayer("txt").addChild((new F).add(b));c.setXY(d.x,d.y);a.addChild((new F).add(c));b.owner.yieldForStart();this.localizeText(b,
"line1",this.topLineLocalization);this.localizeText(b,"line2",this.secondLineLocalization);c.owner.yieldForStart();c.disablePixelSnapping();if(this.waitForComplete){var e=new U;c.get_looped().connect(function(){c.set_position(c.symbol.duration);c.set_paused(!0);e.success(null)}).once();return e}c.$B|=1024;return null},localizeText:function(a,b,c){c=K.getFormat(c);a=a.getObject(b);a.yieldForStart();a=a._internal_getFromChildren(3,Da);bb.getStringFormatSetter(a.owner,c)(c.text)},__class__:ah});var eb=
function(){this.state=-1;this.initiallySelected=!1;M.call(this)};g["ui.buttons.RadioButton"]=eb;eb.__name__=["ui","buttons","RadioButton"];eb.__super__=M;eb.prototype=l(M.prototype,{select:function(){var a=this.owner.$IG[3],a=a instanceof ab?a:null;null!=a&&(a.play("selected"),a=this.owner._internal_getFromChildren(3,ka),null!=a&&(a.$B|=1024));null!=this.onSelected&&this.owner._internal_getFromParents(4).run(this.onSelected,this.owner)},deselect:function(){this.owner._internal_getFromParents(4);var a=
this.owner.$IG[3],a=a instanceof ab?a:null;null!=a&&(a.play("deselected"),a=this.owner._internal_getFromChildren(3,ka),null!=a&&(a.$B|=1024));null!=this.onDeselected&&this.owner._internal_getFromParents(4).run(this.onSelected,this.owner)},initialSelection:function(){return this.initiallySelected},__class__:eb});var Pd=function(){eb.call(this)};g["ui.buttons.DifficultyRadioButton"]=Pd;Pd.__name__=["ui","buttons","DifficultyRadioButton"];Pd.__super__=eb;Pd.prototype=l(eb.prototype,{onStart:function(){var a=
this.owner._internal_getFromParents(2).getFont("fonts/slackey_white_50"),b=K.getFormat("difficulty."+["easy","medium","hard"][this.difficulty]),a=new Da(a,b.text);a.setScale(0.35);a.centerAnchor();this._textHolder=(new F).add(a);eb.prototype.onStart.call(this)},initialSelection:function(){return Z.getGameSelectionFromParents(this.owner).difficulty.$1G==this.difficulty},select:function(){this._select=!0},deselect:function(){this._deselect=!0},onUpdate:function(a){this._select&&(eb.prototype.select.call(this),
this.attachText(),Z.getGameSelectionFromParents(this.owner).difficulty.set__(this.difficulty),this._textHolder.$IG[3].setTint(16777215),this._select=!1);this._deselect&&(eb.prototype.deselect.call(this),this.attachText(),this._textHolder.$IG[3].setTint(3282001),this._deselect=!1)},attachText:function(){var a=this.owner._internal_getFromChildren(3,ka);null!=a&&(null!=this._textHolder.parent&&this._textHolder.parent.removeChild(this._textHolder),a.getLayer("txt").addChild(this._textHolder))},animateTint:function(a,
b,c,d){a.get_tintR().animateTo(b,0.1);a.get_tintG().animateTo(d,0.1);a.get_tintB().animateTo(c,0.1)},__class__:Pd});var bh=function(){eb.call(this)};g["ui.buttons.InputModeButton"]=bh;bh.__name__=["ui","buttons","InputModeButton"];bh.__super__=eb;bh.prototype=l(eb.prototype,{initialSelection:function(){var a=Z.getGameSelectionFromParents(this.owner);switch(this.info.name){case "mouse":return O.enumEq(a.input.$1G,Ca.Standard);case "trackpad":return O.enumEq(a.input.$1G,Ca.Trackpad)}return!1},__class__:bh});
var Qd=function(){this._buttons=[];L.call(this)};g["ui.buttons.RadioButtonController"]=Qd;Qd.__name__=["ui","buttons","RadioButtonController"];Qd.__super__=L;Qd.prototype=l(L.prototype,{onStart:function(){var a=this;L.prototype.onStart.call(this);var b=null;this.owner._internal_getFromParents(3,N).owner.yieldForStart();for(var c=0,d=this.buttons.length;c<d;){var e=c++,e=this.buttons[e],f=e.$IG[1],f=[f instanceof eb?f:null];this._buttons.push(f[0]);f[0].initialSelection()&&(b=f[0]);this.connect1(e.$IG[3].get_pointerDown(),
function(b){return function(c){a.onButtonDown(b[0])}}(f))}if(null==b||b.disabled)for(b=0,c=this._buttons;b<c.length;)d=c[b],++b,d.deselect();else this.onButtonDown(b)},selectButton:function(a){a=a.$IG[1];a=a instanceof eb?a:null;this._buttons.indexOf(a);this.onButtonDown(a)},onButtonDown:function(a){if(this.selected!=a&&!a.disabled){for(var b=0,c=this._buttons.length;b<c;){var d=b++,d=this._buttons[d];d!=a&&0!=d.state&&(d.deselect(),d.state=0)}a.select();a.state=1;this.selected=a;null!=this.onSelectionChange&&
this.owner.emitMessageToParents(this.onSelectionChange,a.owner)}},__class__:Qd});var Wa,Li=0;g.Math=Math;String.prototype.__class__=g.String=String;String.__name__=["String"];g.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=g.Date=Date;Date.__name__=["Date"];var Ni=g.Int={__name__:["Int"]},Mi=g.Dynamic={__name__:["Dynamic"]},Fi=g.Float=Number;Fi.__name__=["Float"];var Ei=g.Bool=Boolean;Ei.__ename__=["Bool"];var Ci=g.Class={__name__:["Class"]},Di={},q={};Fa.DAY_SHORT_NAMES="Sun Mon Tue Wed Thu Fri Sat".split(" ");
Fa.DAY_NAMES="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Fa.MONTH_SHORT_NAMES="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");Fa.MONTH_NAMES="January February March April May June July August September October November December".split(" ");t.Element=0;t.PCData=1;t.CData=2;t.Comment=3;t.DocType=4;t.ProcessingInstruction=5;t.Document=6;L.__creator={spawned:n.CBool,onStarted:n.CString,onUpdated:n.CString,onStopped:n.CString};M.$tE=new Ba;M.__creator={pointerEnabled:n.CBool,
onPointerDown:n.CString,onPointerIn:n.CString,onPointerOut:n.CString,onPointerUp:n.CString,onClick:n.CString,dockX:n.CEnum(fb),dockY:n.CEnum(gb)};Xb.ENTITY_SLOT=1;Xb.$uE=0;Xb.__creator={allowedFileType:n.CEnum(Ua),onFileLoad:n.CString};hc.$vE="@State:";s.__creator={target:n.CClass(hc)};T._dbInitialized=!1;$d.ENTITY_SLOT=1;xb.ENTITY_SLOT=1;xb.__creator={resolution:n.CFloat,lineThickness:n.CFloat,dashLength:n.CFloat,dashed:n.CBool,color:n.CInt,canvasColor:n.CInt,mask:n.CBool,emitPointEvents:n.CBool,
blendMode:n.CEnum(ba)};u.$SF=new La;u.$TF=new hb;u.$UF=new ce;ee.ENTITY_SLOT=1;Yb.ENTITY_SLOT=1;Yb.__creator={pointerEnabled:n.CBool,onPointerDown:n.CString,onPointerIn:n.CString,onPointerOut:n.CString,onPointerUp:n.CString,physicsEnabled:n.CBool,density:n.CFloat,fixedRotation:n.CBool,gravityScale:n.CFloat,friction:n.CFloat,restitution:n.CFloat,sensor:n.CBool,collisionGroup:n.CArray(n.CString),collidesWith:n.CArray(n.CString),onBeginContact:n.CString,onEndContact:n.CString,physicsType:n.CEnum(zb)};
fe.__creator={duration:n.CFloat};he.__creator={location:n.CEnum(Va),message:n.CString,data:n.CString};nb.ENTITY_SLOT=9;je.__creator={count:n.CInt};ke.__creator={name:n.CString};Zc.ENTITY_SLOT=1;Zc.__creator={fillColor:n.CInt,strokeColor:n.CInt,strokeWidth:n.CInt};me.__creator={to:n.CFloat,duration:n.CFloat,ease:n.CEnum(r)};ne.__creator={x:n.CFloat,y:n.CFloat,duration:n.CFloat,ease:n.CEnum(r)};oe.__creator={x:n.CFloat,y:n.CFloat,duration:n.CFloat,ease:n.CEnum(r)};pe.__creator={x:n.CFloat,y:n.CFloat,
duration:n.CFloat,ease:n.CEnum(r)};qe.__creator={state:n.CString,loop:n.CBool,waitForComplete:n.CBool};pb.__creator={property:n.CString,location:n.CEnum(Ja)};re.__creator={value:n.CFloat};se.__creator={property:n.CString,operator:n.CEnum(oa),type:n.CEnum(ib),value:n.CString};te.__creator={type:n.CEnum(ib),value:n.CString};Na.__creator={transition:n.CEnum(ha),duration:n.CFloat};ze.__creator={scene:n.CString,onLoadError:n.CString,loadingScene:n.CString,disposeUnusedAssets:n.CBool};Ae.__creator={disposeUnusedAssets:n.CBool};
Be.__creator={scene:n.CString,opaque:n.CBool,onLoadError:n.CString,loadingScene:n.CString};uc.channels=new Q;uc.__creator={sound:n.CString,volume:n.CFloat,loop:n.CBool,waitForComplete:n.CBool,stopWhenTargetDisposed:n.CBool,soundChannel:n.CString};qb.ENTITY_SLOT=1;Ge.ENTITY_SLOT=1;F.$KG=new rh;dd.ENTITY_SLOT=1;dd.__creator={highScore:n.CClass(F),time:n.CClass(F),onFirstPlay:n.CString,onNewBestTime:n.CString,onEasyUnlock:n.CString,onMediumUnlock:n.CString,onHardUnlock:n.CString,onMemoryUnlock:n.CString};
Ie.ENTITY_SLOT=1;Lb.__creator={transition:n.CEnum(ha),duration:n.CFloat};Ke.__creator={scene:n.CString,onLoadError:n.CString,loadingScene:n.CString,disposeUnusedAssets:n.CBool};Le.__creator={value:n.CEnum(Ca),equals:n.CBool};Me.__creator={value:n.CEnum(ta)};Ne.__creator={value:n.CBool};Oe.__creator={difficulty:n.CInt};Pe.__creator={type:n.CEnum(ta)};Qe.__creator={mode:n.CEnum(Ca)};rb.USE_CACHE=!1;rb.USE_ENUM_INDEX=!1;rb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";cb.DEFAULT_RESOLVER=
new Se;cb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Ta.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Ta.BYTES=Xa.ofString(Ta.CHARS);sb.count=0;ec.escapes=function(a){a=new Q;null!=q.lt?a.setReserved("lt","<"):a.h.lt="<";null!=q.gt?a.setReserved("gt",">"):a.h.gt=">";null!=q.amp?a.setReserved("amp","&"):a.h.amp="&";null!=q.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=q.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);ca.__toStr=
{}.toString;Fb.$zG=new Fb;Ka.$EH=new Jc(null,null);p.root=new F;p.uncaughtError=new fa;p.lowMemoryWarning=new ua;p.hidden=new qa(!1);p.volume=new V(1);p.$IH=Fb.$zG;ef.logger=new wh(p.$IH.createLogHandler("2DKit"));Ma.$lH=null!=(new XMLHttpRequest).withCredentials;jf.__creator={following:n.CClass(F),zoom:n.CClass(V),active:n.CBool,offsetX:n.CFloat,offsetY:n.CFloat};N.ENTITY_SLOT=3;N.$tE=new Ba;Ob.ENTITY_SLOT=1;Ob.__creator={textAlign:n.CEnum(Aa),font:n.CString,letterSpacing:n.CFloat,lineSpacing:n.CFloat,
text:n.CString,textScale:n.CFloat};kd.ENTITY_SLOT=1;kd.__creator={pressDistance:n.CFloat};of.ENTITY_SLOT=1;Pb.ENTITY_SLOT=1;Pb.__creator={font:n.CString,systemFont:n.CString,text:n.CString,fontSize:n.CFloat,bold:n.CBool,italic:n.CBool,color:n.CInt,strokeColor:n.CInt,strokeWidth:n.CFloat,lineSpacing:n.CFloat,textAlign:n.CEnum(Aa)};wc.$xI=new Vf(10);Da.ENTITY_SLOT=3;Da.$QJ=256;Da.$E=512;ka.ENTITY_SLOT=3;ka.FRAME_ACTION="MovieSprite.FRAME_ACTION";ka.FRAME_SOUND="MovieSprite.FRAME_SOUND";ka.$FK=256;ka.$GK=
512;ka.$HK=1024;ka.$IK=2048;ka.$JK=4096;ka.$E=8192;Gb.$5L=new Fh;kb.$5L=new Gh;Ya.$5L=new Hh;la.__meta__={obj:{injected:[{scenes:{"sketchTutorial/reset":["tutorial"],pause:["pause","common","bootstrap"],"badge-text":["results"],"sketchTutorial/dotted-hint":["tutorial"],"no-bubble-modal":["gameplay"],"memoryTutorial/ready-click":["tutorial"],"memoryTutorial/hint-click":["tutorial"],"memoryTutorial/memory-intro":["tutorial"],"interactive-sketch-tutorial":["tutorial","bootstrap","common","gameplay",
"pause"],"done-modal":["gameplay","common","bootstrap"],"memoryTutorial/lines-fade":["tutorial"],title:["title","common","bootstrap"],"sketchTutorial/success":["tutorial"],"memory-5":["pause","bootstrap","common"],"memory-4":["pause","bootstrap","common"],"memory-3":["pause","bootstrap","common"],"memory-2":["pause","bootstrap","common"],"memory-1":["pause","bootstrap","common"],"sketchTutorial/sketch-intro":["tutorial"],preloader:["bootstrap"],"sketch-5":["pause","bootstrap","common"],"sketch-4":["pause",
"bootstrap","common"],"sketch-3":["pause","bootstrap","common"],"sketch-2":["pause","bootstrap","common"],"sketch-1":["pause","bootstrap","common"],win:["results","bootstrap","common","gameplay"],"memoryTutorial/try-again":["tutorial"],"sketchTutorial/done":["tutorial"],builder:["level_builder","bootstrap","prototype","pause"],"mode-select":["puzzle_select","bootstrap","common"],instructions:["pause","bootstrap","common"],"memoryTutorial/continue-bubbles":["tutorial"],countdown:["gameplay"],"sketchTutorial/timer":["tutorial"],
"puzzle-select":["puzzle_select","bootstrap","common"],button:["puzzle_select"],layout:["prototype","bootstrap","pause"],"memoryTutorial/place-bubbles":["tutorial"],"task-manager":["prototype","bootstrap","common","gameplay"],"memoryTutorial/draw-lines":["tutorial"],gameplay:["gameplay","bootstrap","common","pause"],lose:["results","bootstrap","common"],"interactive-memory-tutorial":["tutorial","bootstrap","common","gameplay","pause"]},maxHeight:1024,scaleMode:1,height:560,id:"com.nick.shmup",orientation:"any",
fullscreen:!0,maxWidth:1320,assets:{pause:[{bytes:13563,name:"instructions.scene.__gz.txt"},{bytes:9222,name:"memory-1.symbol.__gz.txt"},{bytes:8209,name:"memory-2.symbol.__gz.txt"},{bytes:8165,name:"memory-3.symbol.__gz.txt"},{bytes:8192,name:"memory-4.symbol.__gz.txt"},{bytes:8161,name:"memory-5.symbol.__gz.txt"},{bytes:30373,name:"pause.scene.__gz.txt"},{bytes:13107,name:"sketch-1.symbol.__gz.txt"},{bytes:8194,name:"sketch-2.symbol.__gz.txt"},{bytes:8184,name:"sketch-3.symbol.__gz.txt"},{bytes:16771,
name:"sketch-4.symbol.__gz.txt"},{bytes:16766,name:"sketch-5.symbol.__gz.txt"},{bytes:11783,name:"images/btn_right.png"},{bytes:95525,name:"images/tutMemory_01.jpg"},{bytes:86557,name:"images/tutMemory_02.jpg"},{bytes:79920,name:"images/tutMemory_03.jpg"},{bytes:83572,name:"images/tutMemory_04.jpg"},{bytes:83798,name:"images/tutMemory_05.jpg"},{bytes:2463,name:"images/tut_arrow.png"},{bytes:8927,name:"images/tut_arrowLeft.png"},{bytes:94971,name:"images/tutSketch_01.jpg"},{bytes:88532,name:"images/tutSketch_02.jpg"},
{bytes:85401,name:"images/tutSketch_03.jpg"},{bytes:84837,name:"images/tutSketch_04.jpg"},{bytes:84458,name:"images/tutSketch_05.jpg"},{bytes:9001,name:"images/tut_arrowRight.png"},{bytes:2199,name:"images/tut_spacebar.png"},{bytes:5265,name:"images/tut_textbox.png"}],z1_7_s:[{bytes:4749,name:"z1_7_s/bg.json"},{bytes:31490,name:"z1_7_s/line.png"},{bytes:4415,name:"z1_7_s/puzzle.json"}],z1_6_s:[{bytes:6699,name:"z1_6_s/bg.json"},{bytes:34881,name:"z1_6_s/line.png"},{bytes:4580,name:"z1_6_s/puzzle.json"}],
z1_5_s:[{bytes:8776,name:"z1_5_s/bg.json"},{bytes:24588,name:"z1_5_s/line.png"},{bytes:3576,name:"z1_5_s/puzzle.json"}],z1_4_s:[{bytes:6971,name:"z1_4_s/bg.json"},{bytes:18403,name:"z1_4_s/line.png"},{bytes:2685,name:"z1_4_s/puzzle.json"}],z1_3_s:[{bytes:4995,name:"z1_3_s/bg.json"},{bytes:21325,name:"z1_3_s/line.png"},{bytes:2714,name:"z1_3_s/puzzle.json"}],z1_3_m:[{bytes:7483,name:"z1_3_m/bg.png"},{bytes:9761,name:"z1_3_m/line.png"},{bytes:1128,name:"z1_3_m/puzzle.json"}],z1_2_s:[{bytes:8647,name:"z1_2_s/bg.json"},
{bytes:39432,name:"z1_2_s/line.png"},{bytes:4360,name:"z1_2_s/puzzle.json"}],z1_2_m:[{bytes:20863,name:"z1_2_m/bg.png"},{bytes:11477,name:"z1_2_m/line.png"},{bytes:74,name:"z1_2_m/puzzle.json"}],z1_1_s:[{bytes:6940,name:"z1_1_s/bg.json"},{bytes:25584,name:"z1_1_s/line.png"},{bytes:3055,name:"z1_1_s/puzzle.json"}],z1_1_m:[{bytes:9215,name:"z1_1_m/bg.png"},{bytes:11030,name:"z1_1_m/line.png"},{bytes:100,name:"z1_1_m/puzzle.json"}],z1_0_s:[{bytes:3198,name:"z1_0_s/bg.json"},{bytes:19489,name:"z1_0_s/line.png"},
{bytes:2763,name:"z1_0_s/puzzle.json"}],z1_0_m:[{bytes:8525,name:"z1_0_m/bg.png"},{bytes:8886,name:"z1_0_m/line.png"},{bytes:813,name:"z1_0_m/puzzle.json"}],z0_8_s:[{bytes:4845,name:"z0_8_s/bg.json"},{bytes:26199,name:"z0_8_s/line.png"},{bytes:3279,name:"z0_8_s/puzzle.json"}],z0_7_s:[{bytes:5772,name:"z0_7_s/bg.json"},{bytes:18457,name:"z0_7_s/line.png"},{bytes:2848,name:"z0_7_s/puzzle.json"}],z0_6_s:[{bytes:4211,name:"z0_6_s/bg.json"},{bytes:11857,name:"z0_6_s/line.png"},{bytes:1096,name:"z0_6_s/puzzle.json"}],
z0_5_s:[{bytes:8633,name:"z0_5_s/bg.json"},{bytes:25476,name:"z0_5_s/line.png"},{bytes:3518,name:"z0_5_s/puzzle.json"}],z0_4_s:[{bytes:7094,name:"z0_4_s/bg.json"},{bytes:2173,name:"z0_4_s/puzzle.json"},{bytes:27187,name:"z0_4_s/line.png"}],z0_3_s:[{bytes:8380,name:"z0_3_s/bg.json"},{bytes:27631,name:"z0_3_s/line.png"},{bytes:1821,name:"z0_3_s/puzzle.json"}],z0_3_m:[{bytes:9592,name:"z0_3_m/bg.png"},{bytes:9107,name:"z0_3_m/line.png"},{bytes:148,name:"z0_3_m/puzzle.json"}],z0_2_s:[{bytes:10998,name:"z0_2_s/bg.json"},
{bytes:17994,name:"z0_2_s/line.png"},{bytes:2558,name:"z0_2_s/puzzle.json"}],z0_2_m:[{bytes:9959,name:"z0_2_m/line.png"},{bytes:85,name:"z0_2_m/puzzle.json"}],z0_1_s:[{bytes:5860,name:"z0_1_s/bg.json"},{bytes:12274,name:"z0_1_s/line.png"},{bytes:1689,name:"z0_1_s/puzzle.json"}],z0_1_m:[{bytes:7254,name:"z0_1_m/bg.png"},{bytes:9811,name:"z0_1_m/line.png"},{bytes:1158,name:"z0_1_m/puzzle.json"}],z0_0_s:[{bytes:9249,name:"z0_0_s/bg.json"},{bytes:17833,name:"z0_0_s/line.png"},{bytes:1897,name:"z0_0_s/puzzle.json"}],
z0_0_m:[{bytes:5091,name:"z0_0_m/bg.png"},{bytes:8248,name:"z0_0_m/line.png"},{bytes:955,name:"z0_0_m/puzzle.json"},{bytes:51,name:"z0_0_m/puzzle_.json"}],title:[{bytes:17074,name:"title.scene.__gz.txt"},{bytes:11873,name:"images/SketchIt_TEXT.png"},{bytes:19300,name:"images/logo.png"},{bytes:622507,name:"images/TitleScreen_BG.jpg"}],puzzle_select:[{bytes:6967,name:"button.symbol.__gz.txt"},{bytes:37772,name:"mode-select.scene.__gz.txt"},{bytes:37171,name:"puzzle-select.scene.__gz.txt"},{bytes:16733,
name:"buttons/buttonMouse.png"},{bytes:27584,name:"buttons/buttonMouse_off.png"},{bytes:26654,name:"buttons/controls_shadow.png"},{bytes:13658,name:"buttons/modeGlow.png"},{bytes:17583,name:"buttons/trackpad.png"},{bytes:27674,name:"buttons/trackpad_off.png"},{bytes:5922,name:"difficulty-tabs/library.json"},{bytes:101890,name:"buttons/memoryBtn_locked.png"},{bytes:157996,name:"buttons/memoryBtn.png"},{bytes:48636,name:"images/doodler-head-bg.png"},{bytes:29464,name:"images/header-glow.png"},{bytes:77319,
name:"difficulty-tabs/atlas0.png"},{bytes:31998,name:"images/illustrator-head-bg.png"},{bytes:158277,name:"buttons/sketchBtn.png"},{bytes:103959,name:"images/master-head-bg.png"},{bytes:66770,name:"images/puzzle-select-bg.jpg"},{bytes:40180,name:"images/puzzle-unlocked.png"},{bytes:3464,name:"images/ui_arrow_left.png"},{bytes:3490,name:"images/ui_arrow_right.png"},{bytes:7445,name:"images/ui_button_back.png"},{bytes:6388,name:"images/ui_challenge_complete.png"},{bytes:7498,name:"images/ui_challenge_locked.png"},
{bytes:6833,name:"images/ui_challenge_unlocked.png"},{bytes:8865,name:"sfx/locked.m4a"},{bytes:8233,name:"sfx/locked.ogg"},{bytes:13792,name:"sfx/locked.mp3"},{bytes:2754,name:"thumbnails/0_0_m.jpg"},{bytes:3080,name:"thumbnails/0_0_s.jpg"},{bytes:2987,name:"thumbnails/0_1_m.jpg"},{bytes:2741,name:"thumbnails/0_1_s.jpg"},{bytes:3296,name:"thumbnails/0_2_m.jpg"},{bytes:3045,name:"thumbnails/0_2_s.jpg"},{bytes:652646,name:"images/mode-select-bg.jpg"},{bytes:3143,name:"thumbnails/0_3_m.jpg"},{bytes:3513,
name:"thumbnails/0_3_s.jpg"},{bytes:3721,name:"thumbnails/0_4_s.jpg"},{bytes:3840,name:"thumbnails/0_5_s.jpg"},{bytes:2887,name:"thumbnails/0_6_s.jpg"},{bytes:3199,name:"thumbnails/0_7_s.jpg"},{bytes:4686,name:"thumbnails/0_8_s.jpg"},{bytes:3417,name:"thumbnails/1_0_s.jpg"},{bytes:2993,name:"thumbnails/1_0_m.jpg"},{bytes:3481,name:"thumbnails/1_1_m.jpg"},{bytes:3582,name:"thumbnails/1_1_s.jpg"},{bytes:3663,name:"thumbnails/1_2_m.jpg"},{bytes:4374,name:"thumbnails/1_2_s.jpg"},{bytes:2774,name:"thumbnails/1_3_m.jpg"},
{bytes:3300,name:"thumbnails/1_3_s.jpg"},{bytes:3206,name:"thumbnails/1_4_s.jpg"},{bytes:3882,name:"thumbnails/1_5_s.jpg"},{bytes:4022,name:"thumbnails/1_6_s.jpg"},{bytes:4019,name:"thumbnails/1_7_s.jpg"},{bytes:3355,name:"thumbnails/2_0_m.jpg"},{bytes:3463,name:"thumbnails/2_0_s.jpg"},{bytes:3045,name:"thumbnails/2_1_m.jpg"},{bytes:3803,name:"thumbnails/2_1_s.jpg"},{bytes:2955,name:"thumbnails/2_2_m.jpg"},{bytes:3799,name:"thumbnails/2_2_s.jpg"},{bytes:4277,name:"thumbnails/2_3_s.jpg"},{bytes:3927,
name:"thumbnails/2_4_s.jpg"},{bytes:3554,name:"thumbnails/2_5_s.jpg"},{bytes:3840,name:"thumbnails/2_6_s.jpg"},{bytes:3319,name:"thumbnails/2_7_s.jpg"},{bytes:3503,name:"thumbnails/2_8_s.jpg"}],tutorial:[{bytes:59625,name:"interactive-memory-tutorial.scene.__gz.txt"},{bytes:29208,name:"interactive-sketch-tutorial.scene.__gz.txt"},{bytes:7152,name:"memoryTutorial/continue-bubbles.symbol.__gz.txt"},{bytes:9882,name:"memoryTutorial/draw-lines.symbol.__gz.txt"},{bytes:9590,name:"memoryTutorial/hint-click.symbol.__gz.txt"},
{bytes:8091,name:"memoryTutorial/lines-fade.symbol.__gz.txt"},{bytes:6972,name:"memoryTutorial/memory-intro.symbol.__gz.txt"},{bytes:11697,name:"memoryTutorial/place-bubbles.symbol.__gz.txt"},{bytes:7954,name:"memoryTutorial/ready-click.symbol.__gz.txt"},{bytes:6609,name:"memoryTutorial/try-again.symbol.__gz.txt"},{bytes:9864,name:"sketchTutorial/done.symbol.__gz.txt"},{bytes:6136,name:"sketchTutorial/dotted-hint.symbol.__gz.txt"},{bytes:9727,name:"sketchTutorial/reset.symbol.__gz.txt"},{bytes:14218,
name:"sketchTutorial/sketch-intro.symbol.__gz.txt"},{bytes:8087,name:"sketchTutorial/success.symbol.__gz.txt"},{bytes:8075,name:"sketchTutorial/timer.symbol.__gz.txt"},{bytes:19891,name:"tutorialAnimation/atlas0.png"},{bytes:7597,name:"tutorialAnimation/library.json"},{bytes:2463,name:"tutorialImages/uiTutorial_arrow.png"},{bytes:8623,name:"tutorialImages/uiTutorial_checkmark.png"},{bytes:5265,name:"tutorialImages/uiTutorial_modal.png"},{bytes:2199,name:"tutorialImages/uiTutorial_spacebar.png"},{bytes:7961,
name:"tutorialImages/uiTutorial_targets.png"}],vo:[{bytes:14882,name:"guess-a_big_big_man.ogg"},{bytes:10682,name:"guess-a_big_big_man.m4a"},{bytes:12147,name:"guess-a_big_big_man.mp3"},{bytes:5377,name:"guess-a_big_dummy.m4a"},{bytes:8550,name:"guess-a_big_dummy.ogg"},{bytes:5355,name:"guess-a_big_dummy.mp3"},{bytes:8555,name:"guess-a_big_man.ogg"},{bytes:5222,name:"guess-a_big_man.m4a"},{bytes:5224,name:"guess-a_big_man.mp3"},{bytes:9726,name:"guess-a_big_yellow_cube_with_holes.m4a"},{bytes:10841,
name:"guess-a_big_yellow_cube_with_holes.mp3"},{bytes:14159,name:"guess-a_big_yellow_cube_with_holes.ogg"},{bytes:6596,name:"guess-a_highschool_diploma.m4a"},{bytes:6922,name:"guess-a_highschool_diploma.mp3"},{bytes:9992,name:"guess-a_highschool_diploma.ogg"},{bytes:4382,name:"guess-a_horsey.m4a"},{bytes:4179,name:"guess-a_horsey.mp3"},{bytes:7321,name:"guess-a_horsey.ogg"},{bytes:7551,name:"guess-a_lollipop.m4a"},{bytes:8228,name:"guess-a_lollipop.mp3"},{bytes:10563,name:"guess-a_lollipop.ogg"},
{bytes:7434,name:"guess-a_magic_mustache.m4a"},{bytes:7967,name:"guess-a_magic_mustache.mp3"},{bytes:11300,name:"guess-a_magic_mustache.ogg"},{bytes:5767,name:"guess-a_nerdy_pickle.m4a"},{bytes:5747,name:"guess-a_nerdy_pickle.mp3"},{bytes:8955,name:"guess-a_nerdy_pickle.ogg"},{bytes:5235,name:"guess-a_quarter.m4a"},{bytes:7887,name:"guess-a_quarter.ogg"},{bytes:5224,name:"guess-a_quarter.mp3"},{bytes:7607,name:"guess-a_squidward_action_figure.m4a"},{bytes:11130,name:"guess-a_squidward_action_figure.ogg"},
{bytes:8228,name:"guess-a_squidward_action_figure.mp3"},{bytes:4607,name:"guess-a_squirrel.m4a"},{bytes:4310,name:"guess-a_squirrel.mp3"},{bytes:7495,name:"guess-a_squirrel.ogg"},{bytes:5429,name:"guess-a_starfish.m4a"},{bytes:5486,name:"guess-a_starfish.mp3"},{bytes:8621,name:"guess-a_starfish.ogg"},{bytes:5387,name:"guess-a_submarine.m4a"},{bytes:5355,name:"guess-a_submarine.mp3"},{bytes:8504,name:"guess-a_submarine.ogg"},{bytes:5382,name:"guess-alien.m4a"},{bytes:5486,name:"guess-alien.mp3"},{bytes:7815,
name:"guess-alien.ogg"},{bytes:8784,name:"guess-angry_pants.ogg"},{bytes:5651,name:"guess-angry_pants.m4a"},{bytes:5747,name:"guess-angry_pants.mp3"},{bytes:5308,name:"guess-another_hat.m4a"},{bytes:5224,name:"guess-another_hat.mp3"},{bytes:8335,name:"guess-another_hat.ogg"},{bytes:3501,name:"guess-baby.m4a"},{bytes:3004,name:"guess-baby.mp3"},{bytes:5920,name:"guess-baby.ogg"},{bytes:5355,name:"guess-balloon.mp3"},{bytes:5372,name:"guess-balloon.m4a"},{bytes:8090,name:"guess-balloon.ogg"},{bytes:5534,
name:"guess-barnacle_boy.m4a"},{bytes:5616,name:"guess-barnacle_boy.mp3"},{bytes:8762,name:"guess-barnacle_boy.ogg"},{bytes:5690,name:"guess-belly_scratcher.m4a"},{bytes:5747,name:"guess-belly_scratcher.mp3"},{bytes:8710,name:"guess-belly_scratcher.ogg"},{bytes:5908,name:"guess-big_toe.m4a"},{bytes:6008,name:"guess-big_toe.mp3"},{bytes:9087,name:"guess-big_toe.ogg"},{bytes:4913,name:"guess-candy_bar.m4a"},{bytes:7883,name:"guess-candy_bar.ogg"},{bytes:4833,name:"guess-candy_bar.mp3"},{bytes:4833,
name:"guess-cheese.mp3"},{bytes:4868,name:"guess-cheese.m4a"},{bytes:7865,name:"guess-cheese.ogg"},{bytes:3594,name:"guess-chicken.m4a"},{bytes:3135,name:"guess-chicken.mp3"},{bytes:6850,name:"guess-chicken.ogg"},{bytes:3688,name:"guess-chocolate.m4a"},{bytes:3265,name:"guess-chocolate.mp3"},{bytes:6750,name:"guess-chocolate.ogg"},{bytes:4660,name:"guess-coconut.m4a"},{bytes:4441,name:"guess-coconut.mp3"},{bytes:7707,name:"guess-coconut.ogg"},{bytes:2999,name:"guess-cookie.m4a"},{bytes:2482,name:"guess-cookie.mp3"},
{bytes:5905,name:"guess-cookie.ogg"},{bytes:3749,name:"guess-cookies.m4a"},{bytes:6795,name:"guess-cookies.ogg"},{bytes:3396,name:"guess-cookies.mp3"},{bytes:8441,name:"guess-dirty_dan.ogg"},{bytes:5119,name:"guess-dirty_dan.m4a"},{bytes:5094,name:"guess-dirty_dan.mp3"},{bytes:3131,name:"guess-doctor.m4a"},{bytes:5974,name:"guess-doctor.ogg"},{bytes:2612,name:"guess-doctor.mp3"},{bytes:7293,name:"guess-donuts.m4a"},{bytes:11029,name:"guess-donuts.ogg"},{bytes:7837,name:"guess-donuts.mp3"},{bytes:7353,
name:"guess-fairy_princesses.m4a"},{bytes:7967,name:"guess-fairy_princesses.mp3"},{bytes:11355,name:"guess-fairy_princesses.ogg"},{bytes:3580,name:"guess-firemen.m4a"},{bytes:3135,name:"guess-firemen.mp3"},{bytes:6386,name:"guess-firemen.ogg"},{bytes:6581,name:"guess-free_form_jazz.m4a"},{bytes:6922,name:"guess-free_form_jazz.mp3"},{bytes:9865,name:"guess-free_form_jazz.ogg"},{bytes:11343,name:"guess-fried_oyster_skins.ogg"},{bytes:7626,name:"guess-fried_oyster_skins.m4a"},{bytes:8228,name:"guess-fried_oyster_skins.mp3"},
{bytes:5663,name:"guess-frozen_armpit.m4a"},{bytes:8864,name:"guess-frozen_armpit.ogg"},{bytes:5747,name:"guess-frozen_armpit.mp3"},{bytes:6790,name:"guess-frozen_armpits.m4a"},{bytes:7184,name:"guess-frozen_armpits.mp3"},{bytes:10414,name:"guess-frozen_armpits.ogg"},{bytes:6083,name:"guess-gary.ogg"},{bytes:3476,name:"guess-gary.m4a"},{bytes:3004,name:"guess-gary.mp3"},{bytes:4676,name:"guess-hands.m4a"},{bytes:7807,name:"guess-hands.ogg"},{bytes:4571,name:"guess-hands.mp3"},{bytes:3080,name:"guess-hat.m4a"},
{bytes:2612,name:"guess-hat.mp3"},{bytes:5844,name:"guess-hat.ogg"},{bytes:6912,name:"guess-hot_wings.m4a"},{bytes:7314,name:"guess-hot_wings.mp3"},{bytes:9857,name:"guess-hot_wings.ogg"},{bytes:15734,name:"guess-i_love_fried_oyster_skins.ogg"},{bytes:11635,name:"guess-i_love_fried_oyster_skins.m4a"},{bytes:13322,name:"guess-i_love_fried_oyster_skins.mp3"},{bytes:4852,name:"guess-ice_cream.m4a"},{bytes:4833,name:"guess-ice_cream.mp3"},{bytes:8401,name:"guess-ice_cream.ogg"},{bytes:9319,name:"guess-inflatable_pants.m4a"},
{bytes:10449,name:"guess-inflatable_pants.mp3"},{bytes:12906,name:"guess-inflatable_pants.ogg"},{bytes:6643,name:"guess-invisible_seatbelts.m4a"},{bytes:6922,name:"guess-invisible_seatbelts.mp3"},{bytes:10369,name:"guess-invisible_seatbelts.ogg"},{bytes:4652,name:"guess-island.m4a"},{bytes:4441,name:"guess-island.mp3"},{bytes:7628,name:"guess-island.ogg"},{bytes:6609,name:"guess-its_the_evil_doodle.m4a"},{bytes:6922,name:"guess-its_the_evil_doodle.mp3"},{bytes:9995,name:"guess-its_the_evil_doodle.ogg"},
{bytes:5678,name:"guess-jellyfish.m4a"},{bytes:8733,name:"guess-jellyfish.ogg"},{bytes:5747,name:"guess-jellyfish.mp3"},{bytes:6205,name:"guess-krabby_patty.m4a"},{bytes:6400,name:"guess-krabby_patty.mp3"},{bytes:9336,name:"guess-krabby_patty.ogg"},{bytes:4396,name:"guess-krusty_krab-2.m4a"},{bytes:4049,name:"guess-krusty_krab-2.mp3"},{bytes:7677,name:"guess-krusty_krab-2.ogg"},{bytes:5114,name:"guess-krusty_krab.m4a"},{bytes:5094,name:"guess-krusty_krab.mp3"},{bytes:8454,name:"guess-krusty_krab.ogg"},
{bytes:4612,name:"guess-lollipop.m4a"},{bytes:4441,name:"guess-lollipop.mp3"},{bytes:7673,name:"guess-lollipop.ogg"},{bytes:6914,name:"guess-lucky_undergarments.m4a"},{bytes:7314,name:"guess-lucky_undergarments.mp3"},{bytes:10245,name:"guess-lucky_undergarments.ogg"},{bytes:6676,name:"guess-mail_box.m4a"},{bytes:7053,name:"guess-mail_box.mp3"},{bytes:10134,name:"guess-mail_box.ogg"},{bytes:5260,name:"guess-mayonaise.m4a"},{bytes:5224,name:"guess-mayonaise.mp3"},{bytes:7776,name:"guess-mayonaise.ogg"},
{bytes:4655,name:"guess-mermaidman.m4a"},{bytes:4441,name:"guess-mermaidman.mp3"},{bytes:7526,name:"guess-mermaidman.ogg"},{bytes:4497,name:"guess-motor_boat.m4a"},{bytes:4310,name:"guess-motor_boat.mp3"},{bytes:7488,name:"guess-motor_boat.ogg"},{bytes:6099,name:"guess-mr_krabs.m4a"},{bytes:6269,name:"guess-mr_krabs.mp3"},{bytes:9715,name:"guess-mr_krabs.ogg"},{bytes:9023,name:"guess-mr_monster_man.m4a"},{bytes:10057,name:"guess-mr_monster_man.mp3"},{bytes:12942,name:"guess-mr_monster_man.ogg"},{bytes:6629,
name:"guess-my_birthday_cake.m4a"},{bytes:6922,name:"guess-my_birthday_cake.mp3"},{bytes:10380,name:"guess-my_birthday_cake.ogg"},{bytes:5719,name:"guess-my_castle.m4a"},{bytes:5747,name:"guess-my_castle.mp3"},{bytes:8923,name:"guess-my_castle.ogg"},{bytes:5313,name:"guess-my_forehead.m4a"},{bytes:5355,name:"guess-my_forehead.mp3"},{bytes:8141,name:"guess-my_forehead.ogg"},{bytes:8396,name:"guess-my_hands.ogg"},{bytes:5511,name:"guess-my_hands.m4a"},{bytes:5486,name:"guess-my_hands.mp3"},{bytes:5651,
name:"guess-my_secret_box.m4a"},{bytes:5616,name:"guess-my_secret_box.mp3"},{bytes:9414,name:"guess-my_secret_box.ogg"},{bytes:5990,name:"guess-my_shorts.m4a"},{bytes:6269,name:"guess-my_shorts.mp3"},{bytes:9462,name:"guess-my_shorts.ogg"},{bytes:5072,name:"guess-new_shoes.m4a"},{bytes:4963,name:"guess-new_shoes.mp3"},{bytes:8244,name:"guess-new_shoes.ogg"},{bytes:6785,name:"guess-oh_boy_seanut_brittle.m4a"},{bytes:7184,name:"guess-oh_boy_seanut_brittle.mp3"},{bytes:10177,name:"guess-oh_boy_seanut_brittle.ogg"},
{bytes:9093,name:"guess-oh_my_guess_a_quarter.m4a"},{bytes:10057,name:"guess-oh_my_guess_a_quarter.mp3"},{bytes:12336,name:"guess-oh_my_guess_a_quarter.ogg"},{bytes:4079,name:"guess-oh_poopdeck.m4a"},{bytes:3788,name:"guess-oh_poopdeck.mp3"},{bytes:7471,name:"guess-oh_poopdeck.ogg"},{bytes:12800,name:"guess-old_magazines.ogg"},{bytes:9139,name:"guess-old_magazines.m4a"},{bytes:10057,name:"guess-old_magazines.mp3"},{bytes:6832,name:"guess-one_quarter.m4a"},{bytes:7184,name:"guess-one_quarter.mp3"},
{bytes:9611,name:"guess-one_quarter.ogg"},{bytes:14054,name:"guess-ooh_the_magic_conch_shell.m4a"},{bytes:16326,name:"guess-ooh_the_magic_conch_shell.mp3"},{bytes:18149,name:"guess-ooh_the_magic_conch_shell.ogg"},{bytes:4400,name:"guess-paper_ghost.m4a"},{bytes:7791,name:"guess-paper_ghost.ogg"},{bytes:4049,name:"guess-paper_ghost.mp3"},{bytes:5151,name:"guess-paramecium.m4a"},{bytes:5094,name:"guess-paramecium.mp3"},{bytes:7934,name:"guess-paramecium.ogg"},{bytes:5182,name:"guess-patrick-2.m4a"},
{bytes:8515,name:"guess-patrick-2.ogg"},{bytes:5094,name:"guess-patrick-2.mp3"},{bytes:3295,name:"guess-patrick.m4a"},{bytes:6343,name:"guess-patrick.ogg"},{bytes:2743,name:"guess-patrick.mp3"},{bytes:7756,name:"guess-patrick_squarepants.m4a"},{bytes:8359,name:"guess-patrick_squarepants.mp3"},{bytes:11440,name:"guess-patrick_squarepants.ogg"},{bytes:2750,name:"guess-peanut.m4a"},{bytes:2090,name:"guess-peanut.mp3"},{bytes:5505,name:"guess-peanut.ogg"},{bytes:4213,name:"guess-pencil.m4a"},{bytes:7460,
name:"guess-pencil.ogg"},{bytes:3918,name:"guess-pencil.mp3"},{bytes:3145,name:"guess-pickle.m4a"},{bytes:2612,name:"guess-pickle.mp3"},{bytes:5906,name:"guess-pickle.ogg"},{bytes:3785,name:"guess-pineapple.m4a"},{bytes:3396,name:"guess-pineapple.mp3"},{bytes:6606,name:"guess-pineapple.ogg"},{bytes:3637,name:"guess-pinhead.m4a"},{bytes:3135,name:"guess-pinhead.mp3"},{bytes:6322,name:"guess-pinhead.ogg"},{bytes:7224,name:"guess-poorly_draw_pineapple.m4a"},{bytes:7575,name:"guess-poorly_draw_pineapple.mp3"},
{bytes:10723,name:"guess-poorly_draw_pineapple.ogg"},{bytes:3655,name:"guess-popcorn.m4a"},{bytes:3265,name:"guess-popcorn.mp3"},{bytes:6726,name:"guess-popcorn.ogg"},{bytes:9782,name:"guess-rectangles.m4a"},{bytes:10971,name:"guess-rectangles.mp3"},{bytes:13723,name:"guess-rectangles.ogg"},{bytes:3467,name:"guess-rock.m4a"},{bytes:3004,name:"guess-rock.mp3"},{bytes:6441,name:"guess-rock.ogg"},{bytes:3677,name:"guess-sandy.m4a"},{bytes:3265,name:"guess-sandy.mp3"},{bytes:6777,name:"guess-sandy.ogg"},
{bytes:7038,name:"guess-scented_pine_cones.m4a"},{bytes:7445,name:"guess-scented_pine_cones.mp3"},{bytes:10744,name:"guess-scented_pine_cones.ogg"},{bytes:3906,name:"guess-seatbelts.m4a"},{bytes:7075,name:"guess-seatbelts.ogg"},{bytes:3526,name:"guess-seatbelts.mp3"},{bytes:12895,name:"guess-small_plastic_disc_that_you_throw.ogg"},{bytes:8894,name:"guess-small_plastic_disc_that_you_throw.m4a"},{bytes:9796,name:"guess-small_plastic_disc_that_you_throw.mp3"},{bytes:3779,name:"guess-snail.m4a"},{bytes:6497,
name:"guess-snail.ogg"},{bytes:3396,name:"guess-snail.mp3"},{bytes:20880,name:"guess-snow_angel.m4a"},{bytes:24947,name:"guess-snow_angel.mp3"},{bytes:26821,name:"guess-snow_angel.ogg"},{bytes:6370,name:"guess-solid_chocolate.m4a"},{bytes:6661,name:"guess-solid_chocolate.mp3"},{bytes:10288,name:"guess-solid_chocolate.ogg"},{bytes:4766,name:"guess-something_to_eat.m4a"},{bytes:4571,name:"guess-something_to_eat.mp3"},{bytes:7906,name:"guess-something_to_eat.ogg"},{bytes:4785,name:"guess-spatula.m4a"},
{bytes:4571,name:"guess-spatula.mp3"},{bytes:8058,name:"guess-spatula.ogg"},{bytes:9296,name:"guess-spiders.ogg"},{bytes:6793,name:"guess-spiders.m4a"},{bytes:7184,name:"guess-spiders.mp3"},{bytes:6128,name:"guess-spongebob.m4a"},{bytes:6269,name:"guess-spongebob.mp3"},{bytes:9949,name:"guess-spongebob.ogg"},{bytes:7990,name:"guess-spongebob_fancypants.m4a"},{bytes:8620,name:"guess-spongebob_fancypants.mp3"},{bytes:11328,name:"guess-spongebob_fancypants.ogg"},{bytes:4231,name:"guess-squidward.m4a"},
{bytes:3918,name:"guess-squidward.mp3"},{bytes:7046,name:"guess-squidward.ogg"},{bytes:6939,name:"guess-stethoscope.m4a"},{bytes:7445,name:"guess-stethoscope.mp3"},{bytes:10720,name:"guess-stethoscope.ogg"},{bytes:4712,name:"guess-tax_exemption.m4a"},{bytes:4571,name:"guess-tax_exemption.mp3"},{bytes:8309,name:"guess-tax_exemption.ogg"},{bytes:4428,name:"guess-texas.m4a"},{bytes:7427,name:"guess-texas.ogg"},{bytes:4179,name:"guess-texas.mp3"},{bytes:7536,name:"guess-the_freezer.ogg"},{bytes:4589,
name:"guess-the_freezer.m4a"},{bytes:4441,name:"guess-the_freezer.mp3"},{bytes:3426,name:"guess-the_hooks.m4a"},{bytes:2873,name:"guess-the_hooks.mp3"},{bytes:6263,name:"guess-the_hooks.ogg"},{bytes:7304,name:"guess-the_invisible_boatmobile.m4a"},{bytes:7706,name:"guess-the_invisible_boatmobile.mp3"},{bytes:11160,name:"guess-the_invisible_boatmobile.ogg"},{bytes:6226,name:"guess-the_krusty_krab.m4a"},{bytes:6400,name:"guess-the_krusty_krab.mp3"},{bytes:10071,name:"guess-the_krusty_krab.ogg"},{bytes:4086,
name:"guess-the_muffin_man.m4a"},{bytes:3788,name:"guess-the_muffin_man.mp3"},{bytes:6745,name:"guess-the_muffin_man.ogg"},{bytes:5723,name:"guess-the_toy_store.m4a"},{bytes:5747,name:"guess-the_toy_store.mp3"},{bytes:8837,name:"guess-the_toy_store.ogg"},{bytes:10790,name:"guess-the_weatherman_on_the_news_channel.ogg"},{bytes:8001,name:"guess-the_weatherman_on_the_news_channel.m4a"},{bytes:8751,name:"guess-the_weatherman_on_the_news_channel.mp3"},{bytes:5531,name:"guess-tree.ogg"},{bytes:2910,name:"guess-tree.m4a"},
{bytes:2351,name:"guess-tree.mp3"},{bytes:3977,name:"guess-turkey.m4a"},{bytes:3657,name:"guess-turkey.mp3"},{bytes:6985,name:"guess-turkey.ogg"},{bytes:4702,name:"guess-violin.mp3"},{bytes:4740,name:"guess-violin.m4a"},{bytes:7629,name:"guess-violin.ogg"},{bytes:3875,name:"guess-water.m4a"},{bytes:6942,name:"guess-water.ogg"},{bytes:3396,name:"guess-water.mp3"},{bytes:3945,name:"guess-watermelon.m4a"},{bytes:3657,name:"guess-watermelon.mp3"},{bytes:6848,name:"guess-watermelon.ogg"},{bytes:3200,name:"guess-whale.m4a"},
{bytes:6029,name:"guess-whale.ogg"},{bytes:2743,name:"guess-whale.mp3"},{bytes:7627,name:"guess-wormy.ogg"},{bytes:4986,name:"guess-wormy.m4a"},{bytes:4963,name:"guess-wormy.mp3"}],bootstrap:[{bytes:8536,name:"preloader.scene.__gz.txt"},{bytes:61650,name:"preload-bg.jpg"},{bytes:1816,name:"sheen.png"},{bytes:42110,name:"puzzle-data.cdb"},{bytes:36195,name:"fonts/slackey_white_50.fnt.__gz.txt"},{bytes:55936,name:"fonts/slackey_white_50.png"},{bytes:8247,name:"preloader/library.json"},{bytes:35706,
name:"preloader/atlas0.png"},{bytes:18481,name:"sfx/bubble-transition.m4a"},{bytes:14224,name:"sfx/bubble-transition.ogg"},{bytes:11702,name:"sfx/bubble-transition.mp3"},{bytes:28511,name:"transition/atlas0.png"},{bytes:9808,name:"transition/library.json"}],results:[{bytes:3237,name:"badge-text.symbol.__gz.txt"},{bytes:32858,name:"lose.scene.__gz.txt"},{bytes:49157,name:"win.scene.__gz.txt"},{bytes:32869,name:"images/clutter.png"},{bytes:79688,name:"images/Patrick-fail.png"},{bytes:81768,name:"images/Patrick-meh.png"},
{bytes:84889,name:"images/best-times.png"},{bytes:105336,name:"images/patrick-excited.png"},{bytes:13245,name:"images/ui_button_gallery.png"},{bytes:11549,name:"images/ui_button_home.png"},{bytes:10057,name:"images/ui_button_modeMemory.png"},{bytes:9092,name:"images/ui_button_modeSketch.png"},{bytes:209078,name:"images/results-fail-bg.jpg"},{bytes:10420,name:"images/ui_button_play_small.png"},{bytes:311598,name:"images/results-success-bg.jpg"},{bytes:12016,name:"images/ui_button_reset.png"},{bytes:41479,
name:"images/ui_fail_best.png"},{bytes:16280,name:"sfx/item-unlocked.ogg"},{bytes:36621,name:"sfx/item-unlocked.m4a"},{bytes:64783,name:"sfx/item-unlocked.mp3"},{bytes:56677,name:"unlock-badge/atlas0.png"},{bytes:2937,name:"unlock-badge/library.json"}],prototype:[{bytes:43272,name:"ShareTechMono-Regular.ttf"},{bytes:22190,name:"ShareTechMono-Regular.swf"},{bytes:33519,name:"layout.scene.__gz.txt"},{bytes:14559,name:"task-manager.scene.__gz.txt"},{bytes:38260,name:"prototype/FPO_Patrick.png"},{bytes:10112,
name:"prototype/buttonDraw.png"},{bytes:8128,name:"prototype/buttonPause.png"},{bytes:31090,name:"prototype/hourglass.png"},{bytes:14816,name:"prototype/puzzleSpongeBob_detail.png"},{bytes:14139,name:"prototype/puzzleSpongeBob_line.png"},{bytes:6386,name:"prototype/uiBubble.png"},{bytes:58343,name:"prototype/uiContainer_hourglass.png"},{bytes:1109,name:"puzzle/FPO_Patrick_1.json"},{bytes:34180,name:"puzzle/FPO_Patrick_1.png"},{bytes:71505,name:"prototype/uiContainer_bubbles.png"},{bytes:1747,name:"puzzle/puzzleSpongeBob_line.json"},
{bytes:37331,name:"puzzle/puzzleSpongeBob_line.png"},{bytes:427391,name:"prototype/bg_sand.jpg"},{bytes:619774,name:"prototype/uiPaper_01.png"},{bytes:1694121,name:"prototype/full.png"}],z2_8_s:[{bytes:5112,name:"z2_8_s/bg.json"},{bytes:24673,name:"z2_8_s/line.png"},{bytes:3176,name:"z2_8_s/puzzle.json"}],z2_7_s:[{bytes:7531,name:"z2_7_s/bg.json"},{bytes:30777,name:"z2_7_s/line.png"},{bytes:3521,name:"z2_7_s/puzzle.json"}],z2_6_s:[{bytes:7227,name:"z2_6_s/bg.json"},{bytes:44662,name:"z2_6_s/line.png"},
{bytes:2672,name:"z2_6_s/puzzle.json"}],z2_5_s:[{bytes:9088,name:"z2_5_s/bg.json"},{bytes:6583,name:"z2_5_s/puzzle.json"},{bytes:42894,name:"z2_5_s/line.png"}],z2_4_s:[{bytes:8870,name:"z2_4_s/bg.json"},{bytes:59354,name:"z2_4_s/line.png"},{bytes:7227,name:"z2_4_s/puzzle.json"}],z2_3_s:[{bytes:10908,name:"z2_3_s/bg.json"},{bytes:44644,name:"z2_3_s/line.png"},{bytes:4048,name:"z2_3_s/puzzle.json"}],z2_2_s:[{bytes:5973,name:"z2_2_s/bg.json"},{bytes:28673,name:"z2_2_s/line.png"},{bytes:3774,name:"z2_2_s/puzzle.json"}],
z2_2_m:[{bytes:7184,name:"z2_2_m/bg.png"},{bytes:14218,name:"z2_2_m/line.png"},{bytes:1417,name:"z2_2_m/puzzle.json"}],z2_1_s:[{bytes:8207,name:"z2_1_s/bg.json"},{bytes:5284,name:"z2_1_s/puzzle.json"},{bytes:46163,name:"z2_1_s/line.png"}],z2_1_m:[{bytes:11329,name:"z2_1_m/bg.png"},{bytes:10416,name:"z2_1_m/line.png"},{bytes:475,name:"z2_1_m/puzzle.json"}],z2_0_s:[{bytes:6956,name:"z2_0_s/bg.json"},{bytes:3724,name:"z2_0_s/puzzle.json"},{bytes:26630,name:"z2_0_s/line.png"}],z2_0_m:[{bytes:11183,name:"z2_0_m/bg.png"},
{bytes:9639,name:"z2_0_m/line.png"},{bytes:93,name:"z2_0_m/puzzle.json"}],gameplay:[{bytes:43272,name:"ShareTechMono-Regular.ttf"},{bytes:22190,name:"ShareTechMono-Regular.swf"},{bytes:5012,name:"countdown.symbol.__gz.txt"},{bytes:10886,name:"done-modal.scene.__gz.txt"},{bytes:9645,name:"no-bubble-modal.symbol.__gz.txt"},{bytes:83338,name:"gameplay.scene.__gz.txt"},{bytes:6458,name:"buttons/buttonDone_dockRight.png"},{bytes:8128,name:"buttons/buttonPause.png"},{bytes:8976,name:"buttons/buttonPause_dockRight.png"},
{bytes:12016,name:"buttons/buttonReset.png"},{bytes:13037,name:"buttons/buttonReset_dockRight.png"},{bytes:7615,name:"buttons/ui-button-hint.png"},{bytes:2026,name:"countdown/library.json"},{bytes:12537,name:"countdown/atlas0.png"},{bytes:6263,name:"images/buttonPause.png"},{bytes:11787,name:"images/buttonDraw.png"},{bytes:15648,name:"images/speechBalloon.png"},{bytes:5973,name:"images/uiBubble.png"},{bytes:142218,name:"character/atlas0.png"},{bytes:31187,name:"images/uiContainer_time.png"},{bytes:87248,
name:"images/uiContainer_bubbles.png"},{bytes:146960,name:"distractors/lightsOutBgTile.jpg"},{bytes:205372,name:"character/library.json"},{bytes:187471,name:"music/gameplay-music.m4a"},{bytes:3775,name:"sfx/Loser_slidedownv1.m4a"},{bytes:3396,name:"sfx/Loser_slidedownv1.mp3"},{bytes:6540,name:"sfx/Loser_slidedownv1.ogg"},{bytes:2519,name:"sfx/blindfold-remove.m4a"},{bytes:5284,name:"sfx/blindfold-remove.ogg"},{bytes:1828,name:"sfx/blindfold-remove.mp3"},{bytes:3496,name:"sfx/bubble-drop.m4a"},{bytes:3E3,
name:"sfx/bubble-drop.mp3"},{bytes:6359,name:"sfx/bubble-drop.ogg"},{bytes:240326,name:"music/gameplay-music.mp3"},{bytes:654735,name:"images/bg_gameplay.jpg"},{bytes:2900,name:"sfx/bubble-pickup.m4a"},{bytes:218445,name:"music/gameplay-music.ogg"},{bytes:2482,name:"sfx/bubble-pickup.mp3"},{bytes:5124,name:"sfx/bubble-pickup.ogg"},{bytes:592341,name:"images/uiPaper_01.png"},{bytes:14809,name:"sfx/countdown.m4a"},{bytes:17640,name:"sfx/countdown.mp3"},{bytes:15568,name:"sfx/countdown.ogg"},{bytes:3365,
name:"sfx/drawing.m4a"},{bytes:6630,name:"sfx/drawing.ogg"},{bytes:2880,name:"sfx/drawing.mp3"},{bytes:9913,name:"sfx/incorrect.m4a"},{bytes:11363,name:"sfx/incorrect.mp3"},{bytes:13468,name:"sfx/incorrect.ogg"},{bytes:13908,name:"sfx/paint-loop.m4a"},{bytes:9195,name:"sfx/paint-loop.mp3"},{bytes:9448,name:"sfx/paint-loop.ogg"},{bytes:4270,name:"sfx/winner_slideWhistleUpv1.m4a"},{bytes:7101,name:"sfx/winner_slideWhistleUpv1.ogg"},{bytes:4049,name:"sfx/winner_slideWhistleUpv1.mp3"},{bytes:11991,name:"vo/guess-haha_its_a_giraffe.m4a"},
{bytes:13714,name:"vo/guess-haha_its_a_giraffe.mp3"},{bytes:16960,name:"vo/guess-haha_its_a_giraffe.ogg"},{bytes:6717,name:"vo/idle-I_need_my_glasses.m4a"},{bytes:7053,name:"vo/idle-I_need_my_glasses.mp3"},{bytes:9776,name:"vo/idle-I_need_my_glasses.ogg"},{bytes:9211,name:"vo/idle-blah_blah_blah_blah.m4a"},{bytes:10318,name:"vo/idle-blah_blah_blah_blah.mp3"},{bytes:13326,name:"vo/idle-blah_blah_blah_blah.ogg"},{bytes:5375,name:"vo/idle-can_you_move_it_along.m4a"},{bytes:496244,name:"textures/doodler.png"},
{bytes:511965,name:"textures/illustrator.png"},{bytes:5355,name:"vo/idle-can_you_move_it_along.mp3"},{bytes:8426,name:"vo/idle-can_you_move_it_along.ogg"},{bytes:5904,name:"vo/idle-could_Ihave_another_hint.m4a"},{bytes:6008,name:"vo/idle-could_Ihave_another_hint.mp3"},{bytes:8992,name:"vo/idle-could_Ihave_another_hint.ogg"},{bytes:7119,name:"vo/idle-could_you_give_me_a_hint.m4a"},{bytes:7445,name:"vo/idle-could_you_give_me_a_hint.mp3"},{bytes:10492,name:"vo/idle-could_you_give_me_a_hint.ogg"},{bytes:7167,
name:"vo/idle-dang_oh_I_know.ogg"},{bytes:4243,name:"vo/idle-dang_oh_I_know.m4a"},{bytes:3918,name:"vo/idle-dang_oh_I_know.mp3"},{bytes:14758,name:"vo/idle-difficulty_level_too_advanced.m4a"},{bytes:722373,name:"textures/masterArtist.png"},{bytes:17110,name:"vo/idle-difficulty_level_too_advanced.mp3"},{bytes:19577,name:"vo/idle-difficulty_level_too_advanced.ogg"},{bytes:7438,name:"vo/idle-doesnt_look_familiar_to_me.m4a"},{bytes:7967,name:"vo/idle-doesnt_look_familiar_to_me.mp3"},{bytes:10557,name:"vo/idle-doesnt_look_familiar_to_me.ogg"},
{bytes:3866,name:"vo/idle-is_it_ready_now.m4a"},{bytes:3526,name:"vo/idle-is_it_ready_now.mp3"},{bytes:6932,name:"vo/idle-is_it_ready_now.ogg"},{bytes:8706,name:"vo/idle-not_bad_not_bad.m4a"},{bytes:9535,name:"vo/idle-not_bad_not_bad.mp3"},{bytes:12428,name:"vo/idle-not_bad_not_bad.ogg"},{bytes:7226,name:"vo/idle-now_thats_fancy.m4a"},{bytes:7706,name:"vo/idle-now_thats_fancy.mp3"},{bytes:11079,name:"vo/idle-now_thats_fancy.ogg"},{bytes:6518,name:"vo/idle-pft_artists.m4a"},{bytes:10216,name:"vo/idle-pft_artists.ogg"},
{bytes:6792,name:"vo/idle-pft_artists.mp3"},{bytes:3376,name:"vo/idle-pretty_good.m4a"},{bytes:2873,name:"vo/idle-pretty_good.mp3"},{bytes:6144,name:"vo/idle-pretty_good.ogg"},{bytes:6739,name:"vo/idle-thats_ok_take_your_time.m4a"},{bytes:10941,name:"vo/idle-thats_ok_take_your_time.ogg"},{bytes:6922,name:"vo/idle-thats_ok_take_your_time.mp3"},{bytes:6690,name:"vo/idle-um_no_wait_dont_tell_me.m4a"},{bytes:9781,name:"vo/idle-um_no_wait_dont_tell_me.ogg"},{bytes:7053,name:"vo/idle-um_no_wait_dont_tell_me.mp3"},
{bytes:29068,name:"vo/idle-uwa_scary.ogg"},{bytes:26550,name:"vo/idle-uwa_scary.m4a"},{bytes:32760,name:"vo/idle-uwa_scary.mp3"},{bytes:4881,name:"vo/idle-what_is_it.m4a"},{bytes:4702,name:"vo/idle-what_is_it.mp3"},{bytes:7760,name:"vo/idle-what_is_it.ogg"},{bytes:4993,name:"vo/idle-what_is_that_thing-2.m4a"},{bytes:4963,name:"vo/idle-what_is_that_thing-2.mp3"},{bytes:7876,name:"vo/idle-what_is_that_thing-2.ogg"},{bytes:6312,name:"vo/idle-what_is_that_thing-3.m4a"},{bytes:6530,name:"vo/idle-what_is_that_thing-3.mp3"},
{bytes:9366,name:"vo/idle-what_is_that_thing-3.ogg"},{bytes:6853,name:"vo/idle-what_is_that_thing.m4a"},{bytes:7314,name:"vo/idle-what_is_that_thing.mp3"},{bytes:10580,name:"vo/idle-what_is_that_thing.ogg"},{bytes:5559,name:"vo/idle-whatcha_drawing.m4a"},{bytes:5616,name:"vo/idle-whatcha_drawing.mp3"},{bytes:8708,name:"vo/idle-whatcha_drawing.ogg"},{bytes:13900,name:"vo/lose-patrick_sad.m4a"},{bytes:16196,name:"vo/lose-patrick_sad.mp3"},{bytes:17811,name:"vo/lose-patrick_sad.ogg"},{bytes:5482,name:"vo/sfx-gasp.m4a"},
{bytes:5486,name:"vo/sfx-gasp.mp3"},{bytes:7885,name:"vo/sfx-gasp.ogg"},{bytes:6627,name:"vo/sfx-hmm.m4a"},{bytes:6922,name:"vo/sfx-hmm.mp3"},{bytes:9261,name:"vo/sfx-hmm.ogg"},{bytes:2684,name:"vo/sfx-oh.m4a"},{bytes:2090,name:"vo/sfx-oh.mp3"},{bytes:5239,name:"vo/sfx-oh.ogg"},{bytes:4832,name:"vo/sfx-ooh-2.m4a"},{bytes:4702,name:"vo/sfx-ooh-2.mp3"},{bytes:7314,name:"vo/sfx-ooh-2.ogg"},{bytes:7409,name:"vo/sfx-ooh.m4a"},{bytes:7837,name:"vo/sfx-ooh.mp3"},{bytes:8905,name:"vo/sfx-ooh.ogg"},{bytes:5484,
name:"vo/sfx-wow-2.m4a"},{bytes:5486,name:"vo/sfx-wow-2.mp3"},{bytes:8571,name:"vo/sfx-wow-2.ogg"},{bytes:4150,name:"vo/sfx-wow.m4a"},{bytes:3918,name:"vo/sfx-wow.mp3"},{bytes:7108,name:"vo/sfx-wow.ogg"},{bytes:2270,name:"distractors/library/library.json"},{bytes:262414,name:"distractors/library/atlas0.png"}],level_builder:[{bytes:11306,name:"builder.scene.__gz.txt"},{bytes:4353,name:"buttons/load_img.png"},{bytes:6704,name:"buttons/save_puzzle.png"}],common:[{bytes:4024,name:"bg-pattern-red.jpg"},
{bytes:7708,name:"bg-pattern-blue.jpg"},{bytes:822,name:"debug-bg.png"},{bytes:55324,name:"bg-burst.png"},{bytes:36198,name:"fonts/slacky_grad-blue_40.fnt.__gz.txt"},{bytes:357619,name:"fonts/Pangolin-Regular.swf"},{bytes:45512,name:"fonts/slacky_grad-orange_90.fnt.__gz.txt"},{bytes:4881,name:"sfx/click.m4a"},{bytes:4213,name:"sfx/click.ogg"},{bytes:2089,name:"sfx/click.mp3"},{bytes:14178,name:"sfx/lose.ogg"},{bytes:25354,name:"sfx/lose.m4a"},{bytes:51826,name:"sfx/lose.mp3"},{bytes:30671,name:"sfx/screen_transition.m4a"},
{bytes:592688,name:"fonts/Pangolin-Regular.ttf"},{bytes:15511,name:"sfx/screen_transition.ogg"},{bytes:26749,name:"sfx/screen_transition.mp3"},{bytes:22906,name:"sfx/win.m4a"},{bytes:19584,name:"sfx/win.mp3"},{bytes:176943,name:"images/uiModal.png"},{bytes:420692,name:"fonts/slacky_grad-blue_40.png"},{bytes:399443,name:"music/screen-music.ogg"},{bytes:12066,name:"sfx/win.ogg"},{bytes:11448,name:"ui/buttons/buttonConfirm.png"},{bytes:10776,name:"ui/buttons/buttonInstructions.png"},{bytes:10755,name:"ui/buttons/buttonPlay.png"},
{bytes:10164,name:"ui/buttons/buttonQuit.png"},{bytes:10491,name:"ui/buttons/buttonSound_off.png"},{bytes:10608,name:"ui/buttons/buttonSound_on.png"},{bytes:668950,name:"music/screen-music.m4a"},{bytes:1327314,name:"fonts/slacky_grad-orange_90.png"},{bytes:1326184,name:"music/screen-music.mp3"}]},width:960}]}};ia.$xP=0;ia.$yP=0;G.$cQ=["webkit","moz","ms"];G.$dQ=(new Ga("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);G.$3Q=!0;S.$QR=!0;Eb.$TF=new hb;U.$EU=0;U.$FU=1;U.$GU=2;vb._init=!1;vb._gameName=
"";zg.__creator={eventName:n.CString};Ag.ENTITY_SLOT=1;Bg.__creator={name:n.CString,location:n.CString};Cg.__creator={event:n.CEnum(aa),triggerOnDestroy:n.CBool};zd.ENTITY_SLOT=1;zd.__creator={color:n.CInt,alpha:n.CFloat,blendMode:n.CEnum(ba)};Bd.ENTITY_SLOT=1;Bd.__creator={texture:n.CString,alpha:n.CFloat,blendMode:n.CEnum(ba)};Dd.ENTITY_SLOT=1;Dd.__creator={progressProperty:n.CString,progressMax:n.CFloat,reverseMoviePercentage:n.CBool};Ed.ENTITY_SLOT=1;Ed.__creator={onMuteTriggeredByClick:n.CString,
onUnMuteTriggeredByClick:n.CString};Fg.__creator={listName:n.CString};Gg.__creator={enable:n.CBool};Hg.__creator={operator:n.CEnum(oa),value:n.CInt};Ig.__creator={musicPath:n.CString,volume:n.CFloat};Jg.__creator={listName:n.CString,actionName:n.CString};Kg.__creator={layerName:n.CString,visible:n.CBool};Lg.__creator={enabled:n.CBool};Mg.__creator={sheenTexture:n.CString,speed:n.CFloat};Og.__creator={layerName:n.CString};Fd.ENTITY_SLOT=1;Fd.__creator={nextButton:n.CClass(F),prevButton:n.CClass(F),
onPageChange:n.CString,onFirstPage:n.CString,onLastPage:n.CString,onFirstClickAction:n.CString,onLastClickAction:n.CString,pages:n.CArray(n.CString),cachePages:n.CBool};K.loading=!0;Pg.__creator={localizationID:n.CString,mobileAlternateID:n.CString,propertyLocation:n.CEnum(Ja)};Gd.ENTITY_SLOT=1;Gd.__creator={localizationID:n.CString,mobileAlternateID:n.CString,propertyLocation:n.CEnum(Ja)};Hd.ENTITY_SLOT=1;Hd.__creator={localizationID:n.CString,mobileAlternateID:n.CString,propertyLocation:n.CEnum(Ja)};
H._volume=0;H._init=!1;Qg.__creator={keys:n.CArray(n.CString)};Rg.__creator={key:n.CString,setToTrue:n.CBool};qc.buildDate="2019-01-23 13:29:36";qc.commitHash="3c65fc5dd7a9fce3b155630a58251e4f4f3390c0";R._mobile=!1;R._mobileTest=!1;Jd.ENTITY_SLOT=1;Jd.__creator={sound:n.CString,volume:n.CFloat,delay:n.CFloat};Md.ENTITY_SLOT=1;Md.__creator={difficulty:n.CInt,buttonTemplate:n.CString,paddingX:n.CFloat,paddingY:n.CFloat};Tg.ENTITY_SLOT=1;Nd.ENTITY_SLOT=1;Nd.__creator={dropZones:n.CArray(n.CClass(F)),
noDropZone:n.CClass(F),minDist:n.CFloat,enabled:n.CBool,onDragStart:n.CString,onDropSuccess:n.CString,onDropTargetSuccess:n.CString,onDropFail:n.CString,onDragEnd:n.CString};Od.ENTITY_SLOT=1;Od.__creator={localizationID:n.CString,mobileID:n.CString,baseSizeOrScale:n.CFloat,type:n.CEnum(Dc),fontPath:n.CString,fontColor:n.CInt,align:n.CEnum(Aa)};vc._lastDistractor=-1;Vg.__creator={to:n.CFloat,duration:n.CFloat,ease:n.CEnum(r)};Wg.__creator={enabled:n.CBool};Xg.__creator={hasNext:n.CBool};Yg.__creator=
{pause:n.CBool};Zg.__creator={newParentName:n.CString,fixCoordinates:n.CEnum(Ea)};$g.__creator={layer:n.CString};ah.__creator={topLineLocalization:n.CString,secondLineLocalization:n.CString,spawnAtObjectName:n.CString,waitForComplete:n.CBool};eb.__creator={disabled:n.CBool,initiallySelected:n.CBool,onSelected:n.CString,onDeselected:n.CString};Pd.ENTITY_SLOT=1;Pd.__creator={difficulty:n.CInt};bh.ENTITY_SLOT=1;Qd.ENTITY_SLOT=1;Qd.__creator={buttons:n.CArray(n.CClass(F)),onSelectionChange:n.CString};
si.$GM()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
